{"ast":null,"code":"// App.jsx\n// -----------------------------------------------------------------------------\n// Main application component with routing and context providers\n// Enhanced with accessibility features and standardized layouts\nimport React,{useEffect,useState}from'react';import{BrowserRouter as Router}from'react-router-dom';import{Box,CircularProgress,ThemeProvider,KeyboardArrowUpIcon}from\"./design-system/optimized\";// Common components\nimport{NotificationProvider}from\"./contexts/NotificationContext\";import KeyboardShortcutsHelp from\"./components/common/KeyboardShortcutsHelp\";// Context providers\nimport{UserProvider}from\"./contexts/UserContext\";import{SettingsProvider}from\"./contexts/SettingsContext\";import{IntegrationProvider}from\"./contexts/IntegrationContext\";import{EarningsProvider}from\"./contexts/EarningsContext\";import{ResourceProvider}from\"./contexts/ResourceContext\";import{WebhookProvider}from\"./contexts/WebhookContext\";import{BreadcrumbProvider}from\"./contexts/BreadcrumbContext\";import{KeyboardShortcutsProvider}from\"./contexts/KeyboardShortcutsContext\";// Centralized routes with lazy loading\nimport AppRoutes from\"./AppRoutes\";// Common components\nimport Navigation from\"./components/common/Navigation\";// Accessibility utilities\nimport{useSkipNav}from\"./utils/accessibilityUtils\";/**\n * Scroll to top component for long pages\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ScrollToTop(){ScrollToTop.displayName='ScrollToTop';const[visible,setVisible]=useState(false);// Handle scroll events\nuseEffect(()=>{const handleScroll=()=>{const scrollY=window.scrollY;if(scrollY>100){setVisible(true);}else{setVisible(false);}};window.addEventListener('scroll',handleScroll);return()=>window.removeEventListener('scroll',handleScroll);},[]);const handleClick=()=>{window.scrollTo({top:0,behavior:'smooth'});};if(!visible)return null;return/*#__PURE__*/_jsx(Box,{onClick:handleClick,role:\"presentation\",position:\"fixed\",bottom:16,right:16,zIndex:1000,style:{opacity:visible?1:0,transition:'opacity 0.3s',display:'flex',alignItems:'center',justifyContent:'center',width:40,height:40,borderRadius:'50%',backgroundColor:'primary',color:'white',cursor:'pointer',boxShadow:'0 2px 10px rgba(0,0,0,0.2)'},\"aria-label\":\"scroll back to top\",children:/*#__PURE__*/_jsx(KeyboardArrowUpIcon,{})});}function App(){App.displayName='App';// Add skip navigation functionality\nuseSkipNav('main-content');// Set page title and lang attribute on mount\nuseEffect(()=>{// Set application language (can be dynamic based on user preferences)\ndocument.documentElement.lang='en';// Set default page title (can be updated by page components)\ndocument.title='TAP Integration Platform';// Initialize modal root div for portals if not exists\nif(!document.getElementById('modal-root')){const modalRoot=document.createElement('div');modalRoot.id='modal-root';document.body.appendChild(modalRoot);}// Create screen reader announcer if it doesn't exist\nif(!document.getElementById('sr-announcer')){const announcer=document.createElement('div');announcer.id='sr-announcer';announcer.setAttribute('aria-live','polite');announcer.setAttribute('aria-atomic','true');announcer.setAttribute('role','status');announcer.style.position='absolute';announcer.style.width='1px';announcer.style.height='1px';announcer.style.overflow='hidden';announcer.style.clip='rect(0, 0, 0, 0)';announcer.style.whiteSpace='nowrap';document.body.appendChild(announcer);}return()=>{// Cleanup is not strictly necessary here since App is the root,\n// but included for completeness\nconst modalRoot=document.getElementById('modal-root');const announcer=document.getElementById('sr-announcer');if(modalRoot)document.body.removeChild(modalRoot);if(announcer)document.body.removeChild(announcer);};},[]);return/*#__PURE__*/_jsx(ThemeProvider,{initialMode:\"light\",children:/*#__PURE__*/_jsx(SettingsProvider,{children:/*#__PURE__*/_jsx(UserProvider,{children:/*#__PURE__*/_jsx(NotificationProvider,{children:/*#__PURE__*/_jsx(KeyboardShortcutsProvider,{children:/*#__PURE__*/_jsx(IntegrationProvider,{children:/*#__PURE__*/_jsx(EarningsProvider,{children:/*#__PURE__*/_jsx(ResourceProvider,{children:/*#__PURE__*/_jsx(WebhookProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(BreadcrumbProvider,{children:[/*#__PURE__*/_jsx(\"a\",{href:\"#main-content\",className:\"skip-nav\",style:{position:'absolute',top:'-40px',left:0,backgroundColor:'primary',color:'white',padding:'8px',zIndex:2000,transition:'top 0.2s'},onFocus:e=>{e.target.style.top='0';},onBlur:e=>{e.target.style.top='-40px';},children:\"Skip to main content\"}),/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsx(Box,{component:\"main\",id:\"main-content\",tabIndex:\"-1\",display:\"flex\",flexDirection:\"column\",minHeight:\"calc(100vh - 64px)\"// Accounting for app bar height\n,style:{outline:'none'// Remove focus outline for tabIndex\n},children:/*#__PURE__*/_jsx(AppRoutes,{})}),/*#__PURE__*/_jsx(KeyboardShortcutsHelp,{}),/*#__PURE__*/_jsx(ScrollToTop,{})]})})})})})})})})})})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Box","CircularProgress","ThemeProvider","KeyboardArrowUpIcon","NotificationProvider","KeyboardShortcutsHelp","UserProvider","SettingsProvider","IntegrationProvider","EarningsProvider","ResourceProvider","WebhookProvider","BreadcrumbProvider","KeyboardShortcutsProvider","AppRoutes","Navigation","useSkipNav","jsx","_jsx","jsxs","_jsxs","ScrollToTop","displayName","visible","setVisible","handleScroll","scrollY","window","addEventListener","removeEventListener","handleClick","scrollTo","top","behavior","onClick","role","position","bottom","right","zIndex","style","opacity","transition","display","alignItems","justifyContent","width","height","borderRadius","backgroundColor","color","cursor","boxShadow","children","App","document","documentElement","lang","title","getElementById","modalRoot","createElement","id","body","appendChild","announcer","setAttribute","overflow","clip","whiteSpace","removeChild","initialMode","href","className","left","padding","onFocus","e","target","onBlur","component","tabIndex","flexDirection","minHeight","outline"],"sources":["/home/ai-dev/Desktop/tap-integration-platform/frontend/src/App.jsx"],"sourcesContent":["// App.jsx\n// -----------------------------------------------------------------------------\n// Main application component with routing and context providers\n// Enhanced with accessibility features and standardized layouts\n\nimport React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { \n  Box,\n  CircularProgress,\n  ThemeProvider,\n  KeyboardArrowUpIcon\n} from './design-system/optimized';\n\n// Common components\nimport { NotificationProvider } from './contexts/NotificationContext';\nimport KeyboardShortcutsHelp from './components/common/KeyboardShortcutsHelp';\n\n// Context providers\nimport { UserProvider } from './contexts/UserContext';\nimport { SettingsProvider } from './contexts/SettingsContext';\nimport { IntegrationProvider } from './contexts/IntegrationContext';\nimport { EarningsProvider } from './contexts/EarningsContext';\nimport { ResourceProvider } from './contexts/ResourceContext';\nimport { WebhookProvider } from './contexts/WebhookContext';\nimport { BreadcrumbProvider } from './contexts/BreadcrumbContext';\nimport { KeyboardShortcutsProvider } from './contexts/KeyboardShortcutsContext';\n\n// Centralized routes with lazy loading\nimport AppRoutes from './AppRoutes';\n\n// Common components\nimport Navigation from './components/common/Navigation';\n\n// Accessibility utilities\nimport { useSkipNav } from './utils/accessibilityUtils';\n\n/**\n * Scroll to top component for long pages\n */\nfunction ScrollToTop() {\n  ScrollToTop.displayName = 'ScrollToTop';\n\n  const [visible, setVisible] = useState(false);\n  \n  // Handle scroll events\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollY = window.scrollY;\n      if (scrollY > 100) {\n        setVisible(true);\n      } else {\n        setVisible(false);\n      }\n    };\n    \n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  const handleClick = () => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  if (!visible) return null;\n\n  return (\n    <Box\n      onClick={handleClick}\n      role=\"presentation\"\n      position=\"fixed\"\n      bottom={16}\n      right={16}\n      zIndex={1000}\n      style={{\n        opacity: visible ? 1 : 0,\n        transition: 'opacity 0.3s',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        width: 40,\n        height: 40,\n        borderRadius: '50%',\n        backgroundColor: 'primary',\n        color: 'white',\n        cursor: 'pointer',\n        boxShadow: '0 2px 10px rgba(0,0,0,0.2)',\n      }}\n      aria-label=\"scroll back to top\"\n    >\n      <KeyboardArrowUpIcon />\n    </Box>\n  );\n}\n\nfunction App() {\n  App.displayName = 'App';\n\n  // Add skip navigation functionality\n  useSkipNav('main-content');\n\n  // Set page title and lang attribute on mount\n  useEffect(() => {\n    // Set application language (can be dynamic based on user preferences)\n    document.documentElement.lang = 'en';\n\n    // Set default page title (can be updated by page components)\n    document.title = 'TAP Integration Platform';\n\n    // Initialize modal root div for portals if not exists\n    if (!document.getElementById('modal-root')) {\n      const modalRoot = document.createElement('div');\n      modalRoot.id = 'modal-root';\n      document.body.appendChild(modalRoot);\n    }\n\n    // Create screen reader announcer if it doesn't exist\n    if (!document.getElementById('sr-announcer')) {\n      const announcer = document.createElement('div');\n      announcer.id = 'sr-announcer';\n      announcer.setAttribute('aria-live', 'polite');\n      announcer.setAttribute('aria-atomic', 'true');\n      announcer.setAttribute('role', 'status');\n      announcer.style.position = 'absolute';\n      announcer.style.width = '1px';\n      announcer.style.height = '1px';\n      announcer.style.overflow = 'hidden';\n      announcer.style.clip = 'rect(0, 0, 0, 0)';\n      announcer.style.whiteSpace = 'nowrap';\n      document.body.appendChild(announcer);\n    }\n\n    return () => {\n      // Cleanup is not strictly necessary here since App is the root,\n      // but included for completeness\n      const modalRoot = document.getElementById('modal-root');\n      const announcer = document.getElementById('sr-announcer');\n      if (modalRoot) document.body.removeChild(modalRoot);\n      if (announcer) document.body.removeChild(announcer);\n    };\n  }, []);\n\n  return (\n    <ThemeProvider initialMode=\"light\">\n      <SettingsProvider>\n        <UserProvider>\n          <NotificationProvider>\n            <KeyboardShortcutsProvider>\n              <IntegrationProvider>\n                <EarningsProvider>\n                  <ResourceProvider>\n                    <WebhookProvider>\n                      <Router>\n                        <BreadcrumbProvider>\n                          {/* Skip to main content link (hidden visually) */}\n                          <a\n                            href=\"#main-content\"\n                            className=\"skip-nav\"\n                            style={{\n                              position: 'absolute',\n                              top: '-40px',\n                              left: 0,\n                              backgroundColor: 'primary',\n                              color: 'white',\n                              padding: '8px',\n                              zIndex: 2000,\n                              transition: 'top 0.2s',\n                            }}\n                            onFocus={(e) => {\n                              e.target.style.top = '0';\n                            }}\n                            onBlur={(e) => {\n                              e.target.style.top = '-40px';\n                            }}\n                          >\n                            Skip to main content\n                          </a>\n\n                          {/* Navigation */}\n                          <Navigation />\n\n                          {/* Main content area with proper accessibility attributes */}\n                          <Box\n                            component=\"main\"\n                            id=\"main-content\"\n                            tabIndex=\"-1\"\n                            display=\"flex\"\n                            flexDirection=\"column\"\n                            minHeight=\"calc(100vh - 64px)\" // Accounting for app bar height\n                            style={{\n                              outline: 'none' // Remove focus outline for tabIndex\n                            }}\n                          >\n                            <AppRoutes />\n                          </Box>\n\n                          {/* Keyboard shortcuts help component */}\n                          <KeyboardShortcutsHelp />\n\n                          {/* Scroll to top button */}\n                          <ScrollToTop />\n                        </BreadcrumbProvider>\n                      </Router>\n                    </WebhookProvider>\n                  </ResourceProvider>\n                </EarningsProvider>\n              </IntegrationProvider>\n            </KeyboardShortcutsProvider>\n          </NotificationProvider>\n        </UserProvider>\n      </SettingsProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}