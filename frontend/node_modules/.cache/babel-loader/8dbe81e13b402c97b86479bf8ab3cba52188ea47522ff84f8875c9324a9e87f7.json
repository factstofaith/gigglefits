{"ast":null,"code":"/**\n * Azure Blob Container Browser Component\n *\n * A component for browsing and selecting Azure Blob containers and blobs.\n * Supports container creation, browsing, searching, and file operations.\n *\n * @component\n */\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Box, Button, Card, CardContent, CardHeader, CircularProgress, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Divider, Grid, IconButton, InputAdornment, List, ListItem, ListItemIcon, ListItemSecondaryAction, ListItemText, Menu, MenuItem, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TextField, Tooltip, Typography, Alert, AlertTitle, FormControlLabel, Checkbox, LinearProgress } from '@mui/material';\nimport { AddCircleOutline as AddIcon, ArrowUpward as UpIcon, CloudUpload as UploadIcon, Delete as DeleteIcon, Download as DownloadIcon, Folder as FolderIcon, FolderOpen as FolderOpenIcon, InsertDriveFile as FileIcon, MoreVert as MoreVertIcon, Refresh as RefreshIcon, Search as SearchIcon, Visibility as ViewIcon, CreateNewFolder as CreateFolderIcon, CloudCircle as ContainerIcon, CheckCircle as CheckCircleIcon, Close as CloseIcon, Info as InfoIcon, Warning as WarningIcon, ErrorOutline as ErrorOutlineIcon } from '@mui/icons-material';\n\n/**\n * Format file size to human-readable format\n * @param {number} bytes - Size in bytes\n * @returns {string} Formatted size string\n */\nimport { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst formatFileSize = bytes => {\n  if (bytes === 0) return '0 Bytes';\n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n};\n\n/**\n * Format date to readable string\n * @param {string} dateString - ISO date string\n * @returns {string} Formatted date string\n */\nconst formatDate = dateString => {\n  if (!dateString) return 'Unknown';\n  const date = new Date(dateString);\n  return date.toLocaleString();\n};\n\n/**\n * Azure Blob Container Browser Component\n */\nconst AzureBlobContainerBrowser = _ref => {\n  let {\n    config,\n    onSelectContainer,\n    onSelectBlob,\n    readOnly = false,\n    selectedContainer = '',\n    selectedPath = ''\n  } = _ref;\n  // State for containers and blobs\n  const [containers, setContainers] = useState([]);\n  const [blobs, setBlobs] = useState([]);\n  const [currentPath, setCurrentPath] = useState(selectedPath || '');\n  const [pathHistory, setPathHistory] = useState([]);\n\n  // State for loading indicators\n  const [loading, setLoading] = useState(false);\n  const [containerLoading, setContainerLoading] = useState(false);\n\n  // Search state\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [isSearching, setIsSearching] = useState(false);\n\n  // Dialog states\n  const [newContainerDialogOpen, setNewContainerDialogOpen] = useState(false);\n  const [newContainerName, setNewContainerName] = useState('');\n  const [newFolderDialogOpen, setNewFolderDialogOpen] = useState(false);\n  const [newFolderName, setNewFolderName] = useState('');\n  const [confirmDeleteDialogOpen, setConfirmDeleteDialogOpen] = useState(false);\n  const [itemToDelete, setItemToDelete] = useState(null);\n  const [fileUploadDialogOpen, setFileUploadDialogOpen] = useState(false);\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [filesToUpload, setFilesToUpload] = useState([]);\n  const [currentUploadIndex, setCurrentUploadIndex] = useState(0);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [uploadOptions, setUploadOptions] = useState({\n    overwriteExisting: true,\n    calculateMD5: false\n  });\n\n  // Context menu state\n  const [contextMenuPos, setContextMenuPos] = useState(null);\n  const [selectedItem, setSelectedItem] = useState(null);\n\n  // File viewer state\n  const [fileViewerOpen, setFileViewerOpen] = useState(false);\n  const [fileViewUrl, setFileViewUrl] = useState('');\n  const [fileViewType, setFileViewType] = useState('');\n\n  // Error state\n  const [error, setError] = useState(null);\n\n  /**\n   * Load containers from Azure\n   */\n  const loadContainers = useCallback(async () => {\n    if (!config) return;\n    setContainerLoading(true);\n    setError(null);\n    try {\n      // Simulated API call for now - in real implementation, this would call an API\n      // using the config parameters\n      console.log('Loading containers with config:', config);\n\n      // Simulate API response\n      const response = await new Promise(resolve => setTimeout(() => {\n        resolve({\n          status: 'success',\n          containers: [{\n            name: 'container1',\n            properties: {\n              lastModified: new Date().toISOString()\n            }\n          }, {\n            name: 'container2',\n            properties: {\n              lastModified: new Date().toISOString()\n            }\n          }, {\n            name: 'datasets',\n            properties: {\n              lastModified: new Date().toISOString()\n            }\n          }, {\n            name: 'exports',\n            properties: {\n              lastModified: new Date().toISOString()\n            }\n          }, {\n            name: 'imports',\n            properties: {\n              lastModified: new Date().toISOString()\n            }\n          }]\n        });\n      }, 1000));\n      if (response.status === 'success') {\n        setContainers(response.containers);\n\n        // If a container is already selected, keep it selected\n        if (selectedContainer && response.containers.some(c => c.name === selectedContainer)) {\n          loadBlobs(selectedContainer, selectedPath || '');\n        }\n      } else {\n        setError(response.message || 'Failed to load containers');\n      }\n    } catch (err) {\n      console.error('Error loading containers:', err);\n      setError(err.message || 'An error occurred while loading containers');\n    } finally {\n      setContainerLoading(false);\n    }\n  }, [config, selectedContainer, selectedPath]);\n\n  /**\n   * Load blobs from a container\n   */\n  const loadBlobs = useCallback(async function (containerName) {\n    let path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    if (!config || !containerName) return;\n    setLoading(true);\n    setError(null);\n    try {\n      // Simulate API call\n      console.log(`Loading blobs from container: ${containerName}, path: ${path}`);\n\n      // Simulate API response with mock data based on path\n      const response = await new Promise(resolve => setTimeout(() => {\n        // Generate different mock responses based on the path\n        let mockBlobs = [];\n        if (path === '') {\n          // Root directory\n          mockBlobs = [{\n            name: 'folder1/',\n            properties: {\n              contentLength: 0,\n              lastModified: new Date(Date.now() - 86400000).toISOString(),\n              contentType: 'application/directory'\n            },\n            type: 'directory'\n          }, {\n            name: 'folder2/',\n            properties: {\n              contentLength: 0,\n              lastModified: new Date(Date.now() - 172800000).toISOString(),\n              contentType: 'application/directory'\n            },\n            type: 'directory'\n          }, {\n            name: 'data/',\n            properties: {\n              contentLength: 0,\n              lastModified: new Date(Date.now() - 259200000).toISOString(),\n              contentType: 'application/directory'\n            },\n            type: 'directory'\n          }, {\n            name: 'sample.csv',\n            properties: {\n              contentLength: 1024,\n              lastModified: new Date(Date.now() - 345600000).toISOString(),\n              contentType: 'text/csv'\n            },\n            type: 'blob'\n          }, {\n            name: 'readme.txt',\n            properties: {\n              contentLength: 512,\n              lastModified: new Date(Date.now() - 432000000).toISOString(),\n              contentType: 'text/plain'\n            },\n            type: 'blob'\n          }];\n        } else if (path === 'folder1/') {\n          // Folder 1 contents\n          mockBlobs = [{\n            name: 'folder1/subfolder/',\n            properties: {\n              contentLength: 0,\n              lastModified: new Date(Date.now() - 518400000).toISOString(),\n              contentType: 'application/directory'\n            },\n            type: 'directory'\n          }, {\n            name: 'folder1/data1.json',\n            properties: {\n              contentLength: 2048,\n              lastModified: new Date(Date.now() - 604800000).toISOString(),\n              contentType: 'application/json'\n            },\n            type: 'blob'\n          }];\n        } else if (path === 'folder1/subfolder/') {\n          // Subfolder contents\n          mockBlobs = [{\n            name: 'folder1/subfolder/deep.xml',\n            properties: {\n              contentLength: 4096,\n              lastModified: new Date(Date.now() - 691200000).toISOString(),\n              contentType: 'application/xml'\n            },\n            type: 'blob'\n          }];\n        } else if (path === 'folder2/') {\n          // Folder 2 contents\n          mockBlobs = [{\n            name: 'folder2/image.png',\n            properties: {\n              contentLength: 102400,\n              lastModified: new Date(Date.now() - 777600000).toISOString(),\n              contentType: 'image/png'\n            },\n            type: 'blob'\n          }, {\n            name: 'folder2/document.pdf',\n            properties: {\n              contentLength: 204800,\n              lastModified: new Date(Date.now() - 864000000).toISOString(),\n              contentType: 'application/pdf'\n            },\n            type: 'blob'\n          }];\n        } else if (path === 'data/') {\n          // Data folder contents\n          mockBlobs = [{\n            name: 'data/dataset1.csv',\n            properties: {\n              contentLength: 5120,\n              lastModified: new Date(Date.now() - 950400000).toISOString(),\n              contentType: 'text/csv'\n            },\n            type: 'blob'\n          }, {\n            name: 'data/dataset2.csv',\n            properties: {\n              contentLength: 6144,\n              lastModified: new Date(Date.now() - 1036800000).toISOString(),\n              contentType: 'text/csv'\n            },\n            type: 'blob'\n          }, {\n            name: 'data/dataset3.xlsx',\n            properties: {\n              contentLength: 8192,\n              lastModified: new Date(Date.now() - 1123200000).toISOString(),\n              contentType: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n            },\n            type: 'blob'\n          }];\n        }\n        resolve({\n          status: 'success',\n          blobs: mockBlobs,\n          containerName: containerName,\n          path: path\n        });\n      }, 1000));\n      if (response.status === 'success') {\n        // Update current container and path\n        if (containerName !== selectedContainer) {\n          onSelectContainer(containerName);\n          setPathHistory([]);\n        }\n        setBlobs(response.blobs);\n        setCurrentPath(path);\n\n        // If this is a new path, add it to history\n        if (path !== currentPath) {\n          setPathHistory(prevHistory => {\n            // Add the previous path to history only if it's not empty\n            if (currentPath) {\n              return [...prevHistory, currentPath];\n            }\n            return prevHistory;\n          });\n        }\n      } else {\n        setError(response.message || 'Failed to load blobs');\n      }\n    } catch (err) {\n      console.error('Error loading blobs:', err);\n      setError(err.message || 'An error occurred while loading blobs');\n    } finally {\n      setLoading(false);\n      setIsSearching(false);\n    }\n  }, [config, currentPath, onSelectContainer, selectedContainer]);\n\n  /**\n   * Navigate to a folder or blob\n   */\n  const navigateTo = useCallback(item => {\n    if (item.type === 'directory') {\n      // Extract the folder path from the name\n      const fullPath = item.name;\n\n      // Load blobs from the folder\n      loadBlobs(selectedContainer, fullPath);\n    } else if (item.type === 'blob') {\n      // Select the blob\n      onSelectBlob({\n        containerName: selectedContainer,\n        path: currentPath,\n        blobName: item.name,\n        blobProperties: item.properties\n      });\n    }\n  }, [currentPath, loadBlobs, onSelectBlob, selectedContainer]);\n\n  /**\n   * Go up one level in the path\n   */\n  const navigateUp = useCallback(() => {\n    if (pathHistory.length > 0) {\n      // Get the previous path\n      const previousPath = pathHistory[pathHistory.length - 1];\n\n      // Update the path history\n      setPathHistory(prevHistory => prevHistory.slice(0, -1));\n\n      // Load blobs from the previous path\n      loadBlobs(selectedContainer, previousPath);\n    } else {\n      // If we're at the root of a container, go back to container list\n      setBlobs([]);\n      setCurrentPath('');\n      onSelectContainer('');\n    }\n  }, [loadBlobs, onSelectContainer, pathHistory, selectedContainer]);\n\n  /**\n   * Search for blobs\n   */\n  const searchBlobs = useCallback(async () => {\n    if (!searchTerm || !selectedContainer) return;\n    setIsSearching(true);\n    setLoading(true);\n    setError(null);\n    try {\n      // Simulate API call\n      console.log(`Searching for \"${searchTerm}\" in container: ${selectedContainer}`);\n\n      // Simulate API response\n      const response = await new Promise(resolve => setTimeout(() => {\n        // Generate mock search results\n        const allPossibleBlobs = [{\n          name: 'folder1/data1.json',\n          properties: {\n            contentLength: 2048,\n            lastModified: new Date(Date.now() - 604800000).toISOString(),\n            contentType: 'application/json'\n          },\n          type: 'blob'\n        }, {\n          name: 'folder1/subfolder/deep.xml',\n          properties: {\n            contentLength: 4096,\n            lastModified: new Date(Date.now() - 691200000).toISOString(),\n            contentType: 'application/xml'\n          },\n          type: 'blob'\n        }, {\n          name: 'folder2/image.png',\n          properties: {\n            contentLength: 102400,\n            lastModified: new Date(Date.now() - 777600000).toISOString(),\n            contentType: 'image/png'\n          },\n          type: 'blob'\n        }, {\n          name: 'folder2/document.pdf',\n          properties: {\n            contentLength: 204800,\n            lastModified: new Date(Date.now() - 864000000).toISOString(),\n            contentType: 'application/pdf'\n          },\n          type: 'blob'\n        }, {\n          name: 'data/dataset1.csv',\n          properties: {\n            contentLength: 5120,\n            lastModified: new Date(Date.now() - 950400000).toISOString(),\n            contentType: 'text/csv'\n          },\n          type: 'blob'\n        }, {\n          name: 'data/dataset2.csv',\n          properties: {\n            contentLength: 6144,\n            lastModified: new Date(Date.now() - 1036800000).toISOString(),\n            contentType: 'text/csv'\n          },\n          type: 'blob'\n        }, {\n          name: 'data/dataset3.xlsx',\n          properties: {\n            contentLength: 8192,\n            lastModified: new Date(Date.now() - 1123200000).toISOString(),\n            contentType: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n          },\n          type: 'blob'\n        }, {\n          name: 'sample.csv',\n          properties: {\n            contentLength: 1024,\n            lastModified: new Date(Date.now() - 345600000).toISOString(),\n            contentType: 'text/csv'\n          },\n          type: 'blob'\n        }, {\n          name: 'readme.txt',\n          properties: {\n            contentLength: 512,\n            lastModified: new Date(Date.now() - 432000000).toISOString(),\n            contentType: 'text/plain'\n          },\n          type: 'blob'\n        }];\n\n        // Filter by search term\n        const searchLower = searchTerm.toLowerCase();\n        const results = allPossibleBlobs.filter(blob => blob.name.toLowerCase().includes(searchLower));\n        resolve({\n          status: 'success',\n          blobs: results\n        });\n      }, 1000));\n      if (response.status === 'success') {\n        setSearchResults(response.blobs);\n      } else {\n        setError(response.message || 'Failed to search blobs');\n      }\n    } catch (err) {\n      console.error('Error searching blobs:', err);\n      setError(err.message || 'An error occurred while searching blobs');\n    } finally {\n      setLoading(false);\n    }\n  }, [searchTerm, selectedContainer]);\n\n  /**\n   * Clear search and return to regular browsing\n   */\n  const clearSearch = useCallback(() => {\n    setSearchTerm('');\n    setSearchResults([]);\n    setIsSearching(false);\n\n    // Reload current path\n    if (selectedContainer) {\n      loadBlobs(selectedContainer, currentPath);\n    }\n  }, [currentPath, loadBlobs, selectedContainer]);\n\n  /**\n   * Create a new container\n   */\n  const createContainer = useCallback(async () => {\n    if (!newContainerName) return;\n    setLoading(true);\n    setError(null);\n    try {\n      // Simulate API call\n      console.log(`Creating container: ${newContainerName}`);\n\n      // Simulate API response\n      const response = await new Promise(resolve => setTimeout(() => {\n        if (newContainerName.includes(' ')) {\n          resolve({\n            status: 'error',\n            message: 'Container name cannot contain spaces'\n          });\n        } else if (containers.some(c => c.name === newContainerName)) {\n          resolve({\n            status: 'error',\n            message: 'Container already exists'\n          });\n        } else {\n          resolve({\n            status: 'success',\n            container: {\n              name: newContainerName,\n              properties: {\n                lastModified: new Date().toISOString()\n              }\n            }\n          });\n        }\n      }, 1000));\n      if (response.status === 'success') {\n        // Add new container to list\n        setContainers(prevContainers => [...prevContainers, response.container]);\n\n        // Close dialog\n        setNewContainerDialogOpen(false);\n        setNewContainerName('');\n\n        // Select the new container\n        onSelectContainer(response.container.name);\n        loadBlobs(response.container.name, '');\n      } else {\n        setError(response.message || 'Failed to create container');\n      }\n    } catch (err) {\n      console.error('Error creating container:', err);\n      setError(err.message || 'An error occurred while creating container');\n    } finally {\n      setLoading(false);\n    }\n  }, [containers, loadBlobs, newContainerName, onSelectContainer]);\n\n  /**\n   * Create a new folder\n   */\n  const createFolder = useCallback(async () => {\n    if (!newFolderName || !selectedContainer) return;\n    setLoading(true);\n    setError(null);\n    try {\n      // Construct the full path\n      const fullPath = currentPath ? `${currentPath}${newFolderName}/` : `${newFolderName}/`;\n\n      // Simulate API call\n      console.log(`Creating folder: ${fullPath} in container: ${selectedContainer}`);\n\n      // Simulate API response\n      const response = await new Promise(resolve => setTimeout(() => {\n        resolve({\n          status: 'success',\n          folder: {\n            name: fullPath,\n            properties: {\n              contentLength: 0,\n              lastModified: new Date().toISOString(),\n              contentType: 'application/directory'\n            },\n            type: 'directory'\n          }\n        });\n      }, 1000));\n      if (response.status === 'success') {\n        // Add new folder to list\n        setBlobs(prevBlobs => [...prevBlobs, response.folder]);\n\n        // Close dialog\n        setNewFolderDialogOpen(false);\n        setNewFolderName('');\n      } else {\n        setError(response.message || 'Failed to create folder');\n      }\n    } catch (err) {\n      console.error('Error creating folder:', err);\n      setError(err.message || 'An error occurred while creating folder');\n    } finally {\n      setLoading(false);\n    }\n  }, [currentPath, newFolderName, selectedContainer]);\n\n  /**\n   * Delete a container, folder, or blob\n   */\n  const deleteItem = useCallback(async () => {\n    if (!itemToDelete) return;\n    setLoading(true);\n    setError(null);\n    try {\n      console.log(`Deleting ${itemToDelete.type}: ${itemToDelete.name}`);\n\n      // Simulate API call\n      const response = await new Promise(resolve => setTimeout(() => {\n        resolve({\n          status: 'success'\n        });\n      }, 1000));\n      if (response.status === 'success') {\n        if (itemToDelete.type === 'container') {\n          // Remove container from list\n          setContainers(prevContainers => prevContainers.filter(c => c.name !== itemToDelete.name));\n\n          // If this was the selected container, clear selection\n          if (selectedContainer === itemToDelete.name) {\n            onSelectContainer('');\n            setBlobs([]);\n            setCurrentPath('');\n          }\n        } else {\n          // Remove blob or folder from list\n          setBlobs(prevBlobs => prevBlobs.filter(b => b.name !== itemToDelete.name));\n        }\n\n        // Close dialog\n        setConfirmDeleteDialogOpen(false);\n        setItemToDelete(null);\n      } else {\n        setError(response.message || 'Failed to delete item');\n      }\n    } catch (err) {\n      console.error('Error deleting item:', err);\n      setError(err.message || 'An error occurred while deleting item');\n    } finally {\n      setLoading(false);\n    }\n  }, [itemToDelete, onSelectContainer, selectedContainer]);\n\n  /**\n   * Process file selection for upload\n   */\n  const processFileSelection = useCallback(files => {\n    if (!files || files.length === 0) return;\n\n    // If it's a FileList (from input), convert to array\n    const fileArray = Array.from(files);\n    if (fileArray.length === 1) {\n      // Single file selection - use the existing workflow\n      setSelectedFile(fileArray[0]);\n      setFilesToUpload([]);\n    } else {\n      // Multiple file selection\n      setFilesToUpload(fileArray);\n      setSelectedFile(fileArray[0]); // Show the first file in preview\n      setCurrentUploadIndex(0);\n    }\n  }, []);\n\n  /**\n   * Upload a single file\n   */\n  const uploadSingleFile = useCallback(async file => {\n    if (!file || !selectedContainer) return false;\n    try {\n      // Construct the full path\n      const fullPath = currentPath ? `${currentPath}${file.name}` : file.name;\n      console.log(`Uploading file: ${fullPath} to container: ${selectedContainer}`);\n\n      // Simulate upload progress with more realistic behavior\n      let progress = 0;\n      const uploadProgressInterval = setInterval(() => {\n        // Realistic upload progress simulation\n        // First 80% is linear, last 20% is slower to simulate server processing\n        if (progress < 80) {\n          progress += Math.random() * 5; // Random increment for realism\n        } else if (progress < 95) {\n          progress += Math.random() * 0.5; // Slower near the end\n        } else if (progress < 99) {\n          progress += 0.1; // Very slow for the last bit\n        }\n        if (progress >= 100) {\n          clearInterval(uploadProgressInterval);\n          progress = 100;\n        }\n        setUploadProgress(Math.min(Math.floor(progress), 100));\n      }, 200);\n\n      // Simulate API response with file validation and upload behavior\n      const response = await new Promise(resolve => {\n        // Calculate simulated upload time based on file size for realism\n        // Larger files take longer to upload\n        const baseUploadTime = 1000; // Minimum 1 second\n        const sizeBasedTime = Math.min(file.size / 10000, 5000); // Up to 5 seconds more for large files\n\n        setTimeout(() => {\n          clearInterval(uploadProgressInterval);\n          setUploadProgress(100);\n\n          // In a real implementation, we would check for errors\n          // like size limits, permission issues, etc.\n          resolve({\n            status: 'success',\n            blob: {\n              name: fullPath,\n              properties: {\n                contentLength: file.size,\n                lastModified: new Date().toISOString(),\n                contentType: file.type || 'application/octet-stream'\n              },\n              type: 'blob'\n            }\n          });\n        }, baseUploadTime + sizeBasedTime);\n      });\n      if (response.status === 'success') {\n        // Add new file to list if we're in the current path\n        setBlobs(prevBlobs => [...prevBlobs, response.blob]);\n        return true;\n      } else {\n        setError(response.message || `Failed to upload file: ${file.name}`);\n        return false;\n      }\n    } catch (err) {\n      console.error(`Error uploading file ${file.name}:`, err);\n      setError(err.message || `An error occurred while uploading file: ${file.name}`);\n      return false;\n    }\n  }, [currentPath, selectedContainer]);\n\n  /**\n   * Upload files (single file or batch upload)\n   */\n  const uploadFile = useCallback(async () => {\n    if (!selectedContainer) return;\n    setLoading(true);\n    setError(null);\n    try {\n      if (filesToUpload.length > 0) {\n        // Batch upload workflow\n        let successCount = 0;\n\n        // Process each file in sequence\n        for (let i = 0; i < filesToUpload.length; i++) {\n          setCurrentUploadIndex(i);\n          setSelectedFile(filesToUpload[i]); // Update preview to current file\n          setUploadProgress(0);\n          const success = await uploadSingleFile(filesToUpload[i]);\n          if (success) {\n            successCount++;\n          }\n\n          // Short pause between files\n          if (i < filesToUpload.length - 1) {\n            await new Promise(resolve => setTimeout(resolve, 500));\n          }\n        }\n\n        // Show completion message\n        console.log(`Uploaded ${successCount} of ${filesToUpload.length} files successfully`);\n\n        // Close dialog after batch upload\n        if (successCount > 0) {\n          setTimeout(() => {\n            setFileUploadDialogOpen(false);\n            setSelectedFile(null);\n            setFilesToUpload([]);\n            setUploadProgress(0);\n          }, 1500);\n        }\n      } else if (selectedFile) {\n        // Single file upload workflow\n        const success = await uploadSingleFile(selectedFile);\n\n        // Close dialog after successful upload\n        if (success) {\n          setTimeout(() => {\n            setFileUploadDialogOpen(false);\n            setSelectedFile(null);\n            setUploadProgress(0);\n          }, 1500);\n        }\n      }\n    } catch (err) {\n      console.error('Error in upload process:', err);\n      setError(err.message || 'An unexpected error occurred during upload');\n    } finally {\n      setLoading(false);\n    }\n  }, [currentPath, selectedContainer, selectedFile, filesToUpload, uploadSingleFile]);\n\n  /**\n   * Download a blob\n   */\n  const downloadBlob = useCallback(item => {\n    if (!item || !selectedContainer) return;\n    console.log(`Downloading blob: ${item.name} from container: ${selectedContainer}`);\n\n    // In a real implementation, this would create a download link using the blob URL\n    // For now, we'll just simulate it\n    alert(`Simulated download of file: ${item.name}`);\n  }, [selectedContainer]);\n\n  /**\n   * View/preview a blob\n   */\n  const viewBlob = useCallback(item => {\n    var _item$properties;\n    if (!item || !selectedContainer) return;\n    console.log(`Viewing blob: ${item.name} from container: ${selectedContainer}`);\n\n    // In a real implementation, this would create a URL for the blob content\n    // For now, we'll use a placeholder\n    setFileViewUrl(`https://example.com/preview/${selectedContainer}/${item.name}`);\n\n    // Set the file type based on contentType or extension\n    const contentType = ((_item$properties = item.properties) === null || _item$properties === void 0 ? void 0 : _item$properties.contentType) || '';\n    setFileViewType(contentType);\n\n    // Open the viewer\n    setFileViewerOpen(true);\n  }, [selectedContainer]);\n\n  /**\n   * Handle context menu opening\n   */\n  const handleContextMenu = useCallback((event, item) => {\n    event.preventDefault();\n\n    // Skip if in read-only mode\n    if (readOnly) return;\n    setContextMenuPos({\n      x: event.clientX,\n      y: event.clientY\n    });\n    setSelectedItem(item);\n  }, [readOnly]);\n\n  /**\n   * Handle context menu closing\n   */\n  const handleContextMenuClose = useCallback(() => {\n    setContextMenuPos(null);\n    setSelectedItem(null);\n  }, []);\n\n  // Load containers on mount\n  useEffect(() => {\n    if (config) {\n      loadContainers();\n    }\n  }, [config, loadContainers]);\n\n  // File content render functions with enhanced preview\n  const renderFilePreview = (url, contentType) => {\n    var _selectedItem$propert, _selectedItem$propert2;\n    // Import FilePreview component for advanced file previewing\n    const FilePreview = require(\"../../common/FilePreview\").default;\n\n    // Generate a mock file object with the selected item's data\n    const fileObj = selectedItem ? {\n      name: getDisplayName(selectedItem.name, selectedItem.type),\n      type: contentType,\n      size: ((_selectedItem$propert = selectedItem.properties) === null || _selectedItem$propert === void 0 ? void 0 : _selectedItem$propert.contentLength) || 0,\n      lastModified: (_selectedItem$propert2 = selectedItem.properties) === null || _selectedItem$propert2 === void 0 ? void 0 : _selectedItem$propert2.lastModified\n    } : null;\n\n    // Generate simulated content for text files\n    const generateSimulatedContent = () => {\n      if (contentType === 'text/plain') {\n        var _selectedItem$propert3, _selectedItem$propert4;\n        return `This is a simulated preview of a plain text file.\\n\\nFilename: ${selectedItem.name}\\nSize: ${formatFileSize(((_selectedItem$propert3 = selectedItem.properties) === null || _selectedItem$propert3 === void 0 ? void 0 : _selectedItem$propert3.contentLength) || 0)}\\nLast Modified: ${formatDate((_selectedItem$propert4 = selectedItem.properties) === null || _selectedItem$propert4 === void 0 ? void 0 : _selectedItem$propert4.lastModified)}\\n\\nIn a production environment, this would fetch the actual file content from the Azure Blob storage.`;\n      }\n      if (contentType === 'text/csv') {\n        return `id,name,email,department\\n1,\"John Smith\",john.smith@example.com,Marketing\\n2,\"Jane Doe\",jane.doe@example.com,Engineering\\n3,\"Robert Johnson\",robert.johnson@example.com,Finance\\n4,\"Sarah Williams\",sarah.williams@example.com,Human Resources\\n5,\"Michael Brown\",michael.brown@example.com,Sales`;\n      }\n      if (contentType === 'application/json') {\n        return JSON.stringify({\n          \"id\": 12345,\n          \"name\": \"Sample JSON Data\",\n          \"items\": [{\n            \"id\": 1,\n            \"value\": \"First item\"\n          }, {\n            \"id\": 2,\n            \"value\": \"Second item\"\n          }, {\n            \"id\": 3,\n            \"value\": \"Third item\"\n          }],\n          \"metadata\": {\n            \"created\": new Date().toISOString(),\n            \"version\": \"1.0.0\",\n            \"source\": \"Azure Blob Storage\"\n          }\n        }, null, 2);\n      }\n      if (contentType === 'application/xml' || contentType === 'text/xml') {\n        return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<root>\\n  <item id=\"1\">\\n    <name>First Item</name>\\n    <value>100</value>\\n  </item>\\n  <item id=\"2\">\\n    <name>Second Item</name>\\n    <value>200</value>\\n  </item>\\n  <metadata>\\n    <created>${new Date().toISOString()}</created>\\n    <source>Azure Blob Storage</source>\\n  </metadata>\\n</root>`;\n      }\n\n      // Default text content\n      return `This is a simulated preview of content type: ${contentType}\\n\\nIn a production environment, this would display the actual file content.`;\n    };\n\n    // Generate content for text-based files\n    const content = contentType === 'text/plain' || contentType === 'text/csv' || contentType === 'application/json' || contentType === 'application/xml' || contentType === 'text/xml' ? generateSimulatedContent() : null;\n    return /*#__PURE__*/_jsx(FilePreview, {\n      file: fileObj,\n      url: url,\n      content: content,\n      mimeType: contentType,\n      filename: fileObj === null || fileObj === void 0 ? void 0 : fileObj.name,\n      onDownload: () => downloadBlob(selectedItem),\n      maxHeight: \"600px\",\n      fullWidth: true\n    });\n  };\n\n  // Get color for file icon based on content type\n  const getIconColorForFileType = contentType => {\n    if (contentType.startsWith('image/')) {\n      return 'success.main'; // Green for images\n    } else if (contentType.startsWith('text/')) {\n      return 'info.main'; // Blue for text files\n    } else if (contentType.includes('spreadsheet') || contentType.includes('excel')) {\n      return 'success.dark'; // Dark green for spreadsheets\n    } else if (contentType.includes('pdf')) {\n      return 'error.main'; // Red for PDFs\n    } else if (contentType.includes('zip') || contentType.includes('compressed')) {\n      return 'warning.dark'; // Dark yellow for archives\n    } else if (contentType.includes('json') || contentType.includes('xml')) {\n      return 'secondary.main'; // Purple for data files\n    } else {\n      return 'info.main'; // Default blue\n    }\n  };\n\n  // Item name display function (truncates long paths)\n  const getDisplayName = (name, type) => {\n    if (type === 'container') {\n      return name;\n    } else if (type === 'directory') {\n      // For directories, extract the last folder name\n      const parts = name.split('/');\n      return parts[parts.length - 2] || name; // Account for trailing slash\n    } else {\n      // For blobs, extract filename from potentially nested path\n      const parts = name.split('/');\n      return parts[parts.length - 1] || name;\n    }\n  };\n  return /*#__PURE__*/_jsxs(Box, {\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%'\n    },\n    children: [/*#__PURE__*/_jsxs(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        mb: 2\n      },\n      children: [/*#__PURE__*/_jsx(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          flexGrow: 1,\n          overflow: 'hidden'\n        },\n        children: /*#__PURE__*/_jsxs(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            flexWrap: 'nowrap',\n            overflow: 'hidden'\n          },\n          children: [/*#__PURE__*/_jsx(Typography, {\n            variant: \"h6\",\n            sx: {\n              flexShrink: 0,\n              whiteSpace: 'nowrap'\n            },\n            children: selectedContainer ? /*#__PURE__*/_jsxs(_Fragment, {\n              children: [/*#__PURE__*/_jsx(Tooltip, {\n                title: \"Back to containers\",\n                children: /*#__PURE__*/_jsx(Box, {\n                  component: \"span\",\n                  onClick: () => onSelectContainer(''),\n                  sx: {\n                    cursor: 'pointer',\n                    color: 'primary.main',\n                    '&:hover': {\n                      textDecoration: 'underline'\n                    }\n                  },\n                  children: \"Containers\"\n                })\n              }), ' / ', /*#__PURE__*/_jsx(Tooltip, {\n                title: `Container: ${selectedContainer}`,\n                children: /*#__PURE__*/_jsx(\"strong\", {\n                  children: selectedContainer\n                })\n              })]\n            }) : 'Azure Blob Containers'\n          }), selectedContainer && currentPath && /*#__PURE__*/_jsx(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              ml: 1,\n              overflow: 'hidden',\n              flexWrap: 'nowrap'\n            },\n            children: /*#__PURE__*/_jsxs(Typography, {\n              component: \"span\",\n              variant: \"body2\",\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                color: 'text.secondary',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                whiteSpace: 'nowrap'\n              },\n              children: [' / ', currentPath.split('/').filter(Boolean).map((segment, index, array) => {\n                // Create a path up to this segment\n                const pathUpToSegment = array.slice(0, index + 1).join('/') + '/';\n                return /*#__PURE__*/_jsxs(React.Fragment, {\n                  children: [index > 0 && ' / ', /*#__PURE__*/_jsx(Tooltip, {\n                    title: `Navigate to ${segment}`,\n                    children: /*#__PURE__*/_jsx(Box, {\n                      component: \"span\",\n                      onClick: () => loadBlobs(selectedContainer, pathUpToSegment),\n                      sx: {\n                        cursor: 'pointer',\n                        color: 'primary.main',\n                        flexShrink: 0,\n                        '&:hover': {\n                          textDecoration: 'underline'\n                        }\n                      },\n                      children: segment\n                    })\n                  })]\n                }, index);\n              })]\n            })\n          })]\n        })\n      }), /*#__PURE__*/_jsxs(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          ml: 2\n        },\n        children: [selectedContainer && /*#__PURE__*/_jsx(Tooltip, {\n          title: \"Go up\",\n          children: /*#__PURE__*/_jsx(IconButton, {\n            onClick: navigateUp,\n            disabled: loading,\n            size: \"small\",\n            children: /*#__PURE__*/_jsx(UpIcon, {})\n          })\n        }), /*#__PURE__*/_jsx(Tooltip, {\n          title: \"Refresh\",\n          children: /*#__PURE__*/_jsx(IconButton, {\n            onClick: () => selectedContainer ? loadBlobs(selectedContainer, currentPath) : loadContainers(),\n            disabled: loading,\n            size: \"small\",\n            children: /*#__PURE__*/_jsx(RefreshIcon, {})\n          })\n        }), !readOnly && /*#__PURE__*/_jsxs(_Fragment, {\n          children: [selectedContainer ? /*#__PURE__*/_jsx(Tooltip, {\n            title: \"Upload File\",\n            children: /*#__PURE__*/_jsx(IconButton, {\n              onClick: () => setFileUploadDialogOpen(true),\n              disabled: loading,\n              size: \"small\",\n              color: \"primary\",\n              children: /*#__PURE__*/_jsx(UploadIcon, {})\n            })\n          }) : /*#__PURE__*/_jsx(Tooltip, {\n            title: \"New Container\",\n            children: /*#__PURE__*/_jsx(IconButton, {\n              onClick: () => setNewContainerDialogOpen(true),\n              disabled: loading || containerLoading,\n              size: \"small\",\n              color: \"primary\",\n              children: /*#__PURE__*/_jsx(AddIcon, {})\n            })\n          }), selectedContainer && /*#__PURE__*/_jsx(Tooltip, {\n            title: \"New Folder\",\n            children: /*#__PURE__*/_jsx(IconButton, {\n              onClick: () => setNewFolderDialogOpen(true),\n              disabled: loading,\n              size: \"small\",\n              color: \"primary\",\n              children: /*#__PURE__*/_jsx(CreateFolderIcon, {})\n            })\n          })]\n        })]\n      })]\n    }), selectedContainer && /*#__PURE__*/_jsxs(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        mb: 2\n      },\n      children: [/*#__PURE__*/_jsx(TextField, {\n        fullWidth: true,\n        placeholder: \"Search blobs...\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value),\n        disabled: loading,\n        size: \"small\",\n        InputProps: {\n          startAdornment: /*#__PURE__*/_jsx(InputAdornment, {\n            position: \"start\",\n            children: /*#__PURE__*/_jsx(SearchIcon, {})\n          }),\n          endAdornment: isSearching && /*#__PURE__*/_jsx(InputAdornment, {\n            position: \"end\",\n            children: /*#__PURE__*/_jsx(Button, {\n              size: \"small\",\n              onClick: clearSearch,\n              disabled: loading,\n              children: \"Clear\"\n            })\n          })\n        },\n        onKeyPress: e => {\n          if (e.key === 'Enter' && searchTerm) {\n            searchBlobs();\n          }\n        }\n      }), /*#__PURE__*/_jsx(Button, {\n        variant: \"contained\",\n        onClick: searchBlobs,\n        disabled: loading || !searchTerm,\n        sx: {\n          ml: 1\n        },\n        children: \"Search\"\n      })]\n    }), error && /*#__PURE__*/_jsxs(Typography, {\n      color: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: [\"Error: \", error]\n    }), containerLoading || loading ? /*#__PURE__*/_jsx(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        py: 4\n      },\n      children: /*#__PURE__*/_jsx(CircularProgress, {})\n    }) : selectedContainer ?\n    /*#__PURE__*/\n    // Blob list\n    _jsx(TableContainer, {\n      component: Paper,\n      sx: {\n        flexGrow: 1,\n        overflow: 'auto'\n      },\n      children: /*#__PURE__*/_jsxs(Table, {\n        size: \"small\",\n        children: [/*#__PURE__*/_jsx(TableHead, {\n          children: /*#__PURE__*/_jsxs(TableRow, {\n            children: [/*#__PURE__*/_jsx(TableCell, {\n              children: \"Name\"\n            }), /*#__PURE__*/_jsx(TableCell, {\n              align: \"right\",\n              children: \"Size\"\n            }), /*#__PURE__*/_jsx(TableCell, {\n              align: \"right\",\n              children: \"Last Modified\"\n            }), /*#__PURE__*/_jsx(TableCell, {\n              align: \"right\",\n              children: \"Actions\"\n            })]\n          })\n        }), /*#__PURE__*/_jsx(TableBody, {\n          children: (isSearching ? searchResults : blobs).length === 0 ? /*#__PURE__*/_jsx(TableRow, {\n            children: /*#__PURE__*/_jsx(TableCell, {\n              colSpan: 4,\n              align: \"center\",\n              children: isSearching ? 'No search results' : 'No items in this location'\n            })\n          }) : (isSearching ? searchResults : blobs).map(item => {\n            var _item$properties2, _item$properties3, _item$properties4, _item$properties5;\n            return /*#__PURE__*/_jsxs(TableRow, {\n              hover: true,\n              onClick: () => navigateTo(item),\n              sx: {\n                cursor: 'pointer',\n                '&:hover': {\n                  backgroundColor: 'action.hover'\n                }\n              },\n              onContextMenu: e => handleContextMenu(e, item),\n              children: [/*#__PURE__*/_jsx(TableCell, {\n                children: /*#__PURE__*/_jsxs(Box, {\n                  sx: {\n                    display: 'flex',\n                    alignItems: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsx(ListItemIcon, {\n                    sx: {\n                      minWidth: 36\n                    },\n                    children: item.type === 'directory' ? /*#__PURE__*/_jsx(FolderIcon, {\n                      color: \"primary\"\n                    }) : /*#__PURE__*/_jsx(FileIcon, {\n                      sx: {\n                        color: getIconColorForFileType(((_item$properties2 = item.properties) === null || _item$properties2 === void 0 ? void 0 : _item$properties2.contentType) || '')\n                      }\n                    })\n                  }), /*#__PURE__*/_jsxs(Box, {\n                    children: [/*#__PURE__*/_jsx(Typography, {\n                      variant: \"body2\",\n                      sx: {\n                        fontWeight: 500\n                      },\n                      children: getDisplayName(item.name, item.type)\n                    }), item.type === 'blob' && ((_item$properties3 = item.properties) === null || _item$properties3 === void 0 ? void 0 : _item$properties3.contentType) && /*#__PURE__*/_jsx(Typography, {\n                      variant: \"caption\",\n                      color: \"text.secondary\",\n                      children: item.properties.contentType\n                    })]\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(TableCell, {\n                align: \"right\",\n                children: item.type === 'directory' ? '-' : /*#__PURE__*/_jsx(Typography, {\n                  variant: \"body2\",\n                  sx: {\n                    fontFamily: 'monospace',\n                    fontWeight: 500,\n                    color: 'text.secondary'\n                  },\n                  children: formatFileSize(((_item$properties4 = item.properties) === null || _item$properties4 === void 0 ? void 0 : _item$properties4.contentLength) || 0)\n                })\n              }), /*#__PURE__*/_jsx(TableCell, {\n                align: \"right\",\n                children: /*#__PURE__*/_jsx(Typography, {\n                  variant: \"body2\",\n                  color: \"text.secondary\",\n                  children: formatDate((_item$properties5 = item.properties) === null || _item$properties5 === void 0 ? void 0 : _item$properties5.lastModified)\n                })\n              }), /*#__PURE__*/_jsx(TableCell, {\n                align: \"right\",\n                children: /*#__PURE__*/_jsxs(Box, {\n                  sx: {\n                    display: 'flex',\n                    justifyContent: 'flex-end',\n                    alignItems: 'center'\n                  },\n                  children: [item.type === 'blob' && /*#__PURE__*/_jsxs(_Fragment, {\n                    children: [/*#__PURE__*/_jsx(Tooltip, {\n                      title: \"View\",\n                      children: /*#__PURE__*/_jsx(IconButton, {\n                        size: \"small\",\n                        onClick: e => {\n                          e.stopPropagation();\n                          viewBlob(item);\n                        },\n                        children: /*#__PURE__*/_jsx(ViewIcon, {\n                          fontSize: \"small\"\n                        })\n                      })\n                    }), /*#__PURE__*/_jsx(Tooltip, {\n                      title: \"Download\",\n                      children: /*#__PURE__*/_jsx(IconButton, {\n                        size: \"small\",\n                        onClick: e => {\n                          e.stopPropagation();\n                          downloadBlob(item);\n                        },\n                        children: /*#__PURE__*/_jsx(DownloadIcon, {\n                          fontSize: \"small\"\n                        })\n                      })\n                    }), /*#__PURE__*/_jsx(Tooltip, {\n                      title: \"Select this file\",\n                      children: /*#__PURE__*/_jsx(IconButton, {\n                        size: \"small\",\n                        color: \"primary\",\n                        onClick: e => {\n                          e.stopPropagation();\n                          onSelectBlob({\n                            containerName: selectedContainer,\n                            path: currentPath,\n                            blobName: item.name,\n                            blobProperties: item.properties\n                          });\n                        },\n                        children: /*#__PURE__*/_jsx(CheckCircleIcon, {\n                          fontSize: \"small\"\n                        })\n                      })\n                    })]\n                  }), !readOnly && /*#__PURE__*/_jsx(Tooltip, {\n                    title: \"More actions\",\n                    children: /*#__PURE__*/_jsx(IconButton, {\n                      size: \"small\",\n                      onClick: e => {\n                        e.stopPropagation();\n                        handleContextMenu(e, item);\n                      },\n                      children: /*#__PURE__*/_jsx(MoreVertIcon, {\n                        fontSize: \"small\"\n                      })\n                    })\n                  })]\n                })\n              })]\n            }, item.name);\n          })\n        })]\n      })\n    }) :\n    /*#__PURE__*/\n    // Container list\n    _jsx(TableContainer, {\n      component: Paper,\n      sx: {\n        flexGrow: 1,\n        overflow: 'auto'\n      },\n      children: /*#__PURE__*/_jsxs(Table, {\n        size: \"small\",\n        children: [/*#__PURE__*/_jsx(TableHead, {\n          children: /*#__PURE__*/_jsxs(TableRow, {\n            children: [/*#__PURE__*/_jsx(TableCell, {\n              children: \"Container Name\"\n            }), /*#__PURE__*/_jsx(TableCell, {\n              align: \"right\",\n              children: \"Last Modified\"\n            }), /*#__PURE__*/_jsx(TableCell, {\n              align: \"right\",\n              children: \"Actions\"\n            })]\n          })\n        }), /*#__PURE__*/_jsx(TableBody, {\n          children: containers.length === 0 ? /*#__PURE__*/_jsx(TableRow, {\n            children: /*#__PURE__*/_jsx(TableCell, {\n              colSpan: 3,\n              align: \"center\",\n              children: \"No containers found\"\n            })\n          }) : containers.map(container => {\n            var _container$properties;\n            return /*#__PURE__*/_jsxs(TableRow, {\n              hover: true,\n              onClick: () => loadBlobs(container.name, ''),\n              sx: {\n                cursor: 'pointer',\n                '&:hover': {\n                  backgroundColor: 'action.hover'\n                }\n              },\n              onContextMenu: e => handleContextMenu(e, {\n                ...container,\n                type: 'container'\n              }),\n              children: [/*#__PURE__*/_jsx(TableCell, {\n                children: /*#__PURE__*/_jsxs(Box, {\n                  sx: {\n                    display: 'flex',\n                    alignItems: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsx(ListItemIcon, {\n                    sx: {\n                      minWidth: 36\n                    },\n                    children: /*#__PURE__*/_jsx(ContainerIcon, {\n                      color: \"primary\"\n                    })\n                  }), /*#__PURE__*/_jsx(Typography, {\n                    variant: \"body2\",\n                    sx: {\n                      fontWeight: 500\n                    },\n                    children: container.name\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(TableCell, {\n                align: \"right\",\n                children: /*#__PURE__*/_jsx(Typography, {\n                  variant: \"body2\",\n                  color: \"text.secondary\",\n                  children: formatDate((_container$properties = container.properties) === null || _container$properties === void 0 ? void 0 : _container$properties.lastModified)\n                })\n              }), /*#__PURE__*/_jsx(TableCell, {\n                align: \"right\",\n                children: /*#__PURE__*/_jsxs(Box, {\n                  sx: {\n                    display: 'flex',\n                    justifyContent: 'flex-end',\n                    alignItems: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsx(Tooltip, {\n                    title: \"Browse container\",\n                    children: /*#__PURE__*/_jsx(IconButton, {\n                      size: \"small\",\n                      color: \"primary\",\n                      onClick: e => {\n                        e.stopPropagation();\n                        loadBlobs(container.name, '');\n                      },\n                      children: /*#__PURE__*/_jsx(FolderOpenIcon, {\n                        fontSize: \"small\"\n                      })\n                    })\n                  }), /*#__PURE__*/_jsx(Tooltip, {\n                    title: \"Select container\",\n                    children: /*#__PURE__*/_jsx(IconButton, {\n                      size: \"small\",\n                      color: \"primary\",\n                      onClick: e => {\n                        e.stopPropagation();\n                        onSelectContainer(container.name);\n                      },\n                      children: /*#__PURE__*/_jsx(CheckCircleIcon, {\n                        fontSize: \"small\"\n                      })\n                    })\n                  }), !readOnly && /*#__PURE__*/_jsx(Tooltip, {\n                    title: \"More actions\",\n                    children: /*#__PURE__*/_jsx(IconButton, {\n                      size: \"small\",\n                      onClick: e => {\n                        e.stopPropagation();\n                        handleContextMenu(e, {\n                          ...container,\n                          type: 'container'\n                        });\n                      },\n                      children: /*#__PURE__*/_jsx(MoreVertIcon, {\n                        fontSize: \"small\"\n                      })\n                    })\n                  })]\n                })\n              })]\n            }, container.name);\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsxs(Menu, {\n      open: Boolean(contextMenuPos),\n      onClose: handleContextMenuClose,\n      anchorReference: \"anchorPosition\",\n      anchorPosition: contextMenuPos ? {\n        top: contextMenuPos.y,\n        left: contextMenuPos.x\n      } : undefined,\n      children: [selectedItem && selectedItem.type === 'container' && /*#__PURE__*/_jsxs(\"div\", {\n        children: [/*#__PURE__*/_jsxs(MenuItem, {\n          onClick: () => {\n            loadBlobs(selectedItem.name, '');\n            handleContextMenuClose();\n          },\n          children: [/*#__PURE__*/_jsx(ListItemIcon, {\n            children: /*#__PURE__*/_jsx(FolderOpenIcon, {\n              fontSize: \"small\",\n              color: \"primary\"\n            })\n          }), \"Browse container\"]\n        }), /*#__PURE__*/_jsxs(MenuItem, {\n          onClick: () => {\n            onSelectContainer(selectedItem.name);\n            handleContextMenuClose();\n          },\n          divider: true,\n          children: [/*#__PURE__*/_jsx(ListItemIcon, {\n            children: /*#__PURE__*/_jsx(CheckCircleIcon, {\n              fontSize: \"small\",\n              color: \"primary\"\n            })\n          }), \"Select container\"]\n        }), !readOnly && /*#__PURE__*/_jsxs(MenuItem, {\n          onClick: () => {\n            setItemToDelete(selectedItem);\n            setConfirmDeleteDialogOpen(true);\n            handleContextMenuClose();\n          },\n          children: [/*#__PURE__*/_jsx(ListItemIcon, {\n            children: /*#__PURE__*/_jsx(DeleteIcon, {\n              fontSize: \"small\",\n              color: \"error\"\n            })\n          }), \"Delete container\"]\n        })]\n      }), selectedItem && selectedItem.type === 'directory' && /*#__PURE__*/_jsxs(\"div\", {\n        children: [/*#__PURE__*/_jsxs(MenuItem, {\n          onClick: () => {\n            navigateTo(selectedItem);\n            handleContextMenuClose();\n          },\n          children: [/*#__PURE__*/_jsx(ListItemIcon, {\n            children: /*#__PURE__*/_jsx(FolderOpenIcon, {\n              fontSize: \"small\",\n              color: \"primary\"\n            })\n          }), \"Open folder\"]\n        }), !readOnly && /*#__PURE__*/_jsxs(MenuItem, {\n          onClick: () => {\n            setItemToDelete(selectedItem);\n            setConfirmDeleteDialogOpen(true);\n            handleContextMenuClose();\n          },\n          children: [/*#__PURE__*/_jsx(ListItemIcon, {\n            children: /*#__PURE__*/_jsx(DeleteIcon, {\n              fontSize: \"small\",\n              color: \"error\"\n            })\n          }), \"Delete folder\"]\n        })]\n      }), selectedItem && selectedItem.type === 'blob' && /*#__PURE__*/_jsxs(\"div\", {\n        children: [/*#__PURE__*/_jsxs(MenuItem, {\n          onClick: () => {\n            viewBlob(selectedItem);\n            handleContextMenuClose();\n          },\n          children: [/*#__PURE__*/_jsx(ListItemIcon, {\n            children: /*#__PURE__*/_jsx(ViewIcon, {\n              fontSize: \"small\"\n            })\n          }), \"View\"]\n        }), /*#__PURE__*/_jsxs(MenuItem, {\n          onClick: () => {\n            downloadBlob(selectedItem);\n            handleContextMenuClose();\n          },\n          children: [/*#__PURE__*/_jsx(ListItemIcon, {\n            children: /*#__PURE__*/_jsx(DownloadIcon, {\n              fontSize: \"small\"\n            })\n          }), \"Download\"]\n        }), /*#__PURE__*/_jsxs(MenuItem, {\n          onClick: () => {\n            onSelectBlob({\n              containerName: selectedContainer,\n              path: currentPath,\n              blobName: selectedItem.name,\n              blobProperties: selectedItem.properties\n            });\n            handleContextMenuClose();\n          },\n          divider: true,\n          children: [/*#__PURE__*/_jsx(ListItemIcon, {\n            children: /*#__PURE__*/_jsx(CheckCircleIcon, {\n              fontSize: \"small\",\n              color: \"primary\"\n            })\n          }), \"Select this file\"]\n        }), !readOnly && /*#__PURE__*/_jsxs(MenuItem, {\n          onClick: () => {\n            setItemToDelete(selectedItem);\n            setConfirmDeleteDialogOpen(true);\n            handleContextMenuClose();\n          },\n          children: [/*#__PURE__*/_jsx(ListItemIcon, {\n            children: /*#__PURE__*/_jsx(DeleteIcon, {\n              fontSize: \"small\",\n              color: \"error\"\n            })\n          }), \"Delete\"]\n        })]\n      })]\n    }), /*#__PURE__*/_jsxs(Dialog, {\n      open: newContainerDialogOpen,\n      onClose: () => setNewContainerDialogOpen(false),\n      children: [/*#__PURE__*/_jsx(DialogTitle, {\n        children: \"Create New Container\"\n      }), /*#__PURE__*/_jsxs(DialogContent, {\n        children: [/*#__PURE__*/_jsx(DialogContentText, {\n          children: \"Enter a name for the new container. Container names must be lowercase letters, numbers, or hyphens.\"\n        }), /*#__PURE__*/_jsx(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          id: \"container-name\",\n          label: \"Container Name\",\n          type: \"text\",\n          fullWidth: true,\n          value: newContainerName,\n          onChange: e => setNewContainerName(e.target.value),\n          error: Boolean(error),\n          helperText: error,\n          disabled: loading\n        })]\n      }), /*#__PURE__*/_jsxs(DialogActions, {\n        children: [/*#__PURE__*/_jsx(Button, {\n          onClick: () => setNewContainerDialogOpen(false),\n          disabled: loading,\n          children: \"Cancel\"\n        }), /*#__PURE__*/_jsx(Button, {\n          onClick: createContainer,\n          color: \"primary\",\n          disabled: loading || !newContainerName,\n          children: loading ? /*#__PURE__*/_jsx(CircularProgress, {\n            size: 24\n          }) : 'Create'\n        })]\n      })]\n    }), /*#__PURE__*/_jsxs(Dialog, {\n      open: newFolderDialogOpen,\n      onClose: () => setNewFolderDialogOpen(false),\n      children: [/*#__PURE__*/_jsx(DialogTitle, {\n        children: \"Create New Folder\"\n      }), /*#__PURE__*/_jsxs(DialogContent, {\n        children: [/*#__PURE__*/_jsx(DialogContentText, {\n          children: \"Enter a name for the new folder.\"\n        }), /*#__PURE__*/_jsx(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          id: \"folder-name\",\n          label: \"Folder Name\",\n          type: \"text\",\n          fullWidth: true,\n          value: newFolderName,\n          onChange: e => setNewFolderName(e.target.value),\n          error: Boolean(error),\n          helperText: error,\n          disabled: loading\n        })]\n      }), /*#__PURE__*/_jsxs(DialogActions, {\n        children: [/*#__PURE__*/_jsx(Button, {\n          onClick: () => setNewFolderDialogOpen(false),\n          disabled: loading,\n          children: \"Cancel\"\n        }), /*#__PURE__*/_jsx(Button, {\n          onClick: createFolder,\n          color: \"primary\",\n          disabled: loading || !newFolderName,\n          children: loading ? /*#__PURE__*/_jsx(CircularProgress, {\n            size: 24\n          }) : 'Create'\n        })]\n      })]\n    }), /*#__PURE__*/_jsxs(Dialog, {\n      open: confirmDeleteDialogOpen,\n      onClose: () => setConfirmDeleteDialogOpen(false),\n      children: [/*#__PURE__*/_jsx(DialogTitle, {\n        children: \"Confirm Delete\"\n      }), /*#__PURE__*/_jsx(DialogContent, {\n        children: /*#__PURE__*/_jsxs(DialogContentText, {\n          children: [\"Are you sure you want to delete the \", (itemToDelete === null || itemToDelete === void 0 ? void 0 : itemToDelete.type) === 'container' ? 'container' : (itemToDelete === null || itemToDelete === void 0 ? void 0 : itemToDelete.type) === 'directory' ? 'folder' : 'file', \":\", /*#__PURE__*/_jsx(Box, {\n            component: \"span\",\n            sx: {\n              fontWeight: 'bold',\n              display: 'block',\n              mt: 1\n            },\n            children: itemToDelete === null || itemToDelete === void 0 ? void 0 : itemToDelete.name\n          }), (itemToDelete === null || itemToDelete === void 0 ? void 0 : itemToDelete.type) === 'container' && /*#__PURE__*/_jsx(Typography, {\n            color: \"error\",\n            sx: {\n              mt: 2\n            },\n            children: \"This will delete all blobs in the container!\"\n          }), (itemToDelete === null || itemToDelete === void 0 ? void 0 : itemToDelete.type) === 'directory' && /*#__PURE__*/_jsx(Typography, {\n            color: \"error\",\n            sx: {\n              mt: 2\n            },\n            children: \"This will delete all contents of the folder!\"\n          })]\n        })\n      }), /*#__PURE__*/_jsxs(DialogActions, {\n        children: [/*#__PURE__*/_jsx(Button, {\n          onClick: () => setConfirmDeleteDialogOpen(false),\n          disabled: loading,\n          children: \"Cancel\"\n        }), /*#__PURE__*/_jsx(Button, {\n          onClick: deleteItem,\n          color: \"error\",\n          disabled: loading,\n          children: loading ? /*#__PURE__*/_jsx(CircularProgress, {\n            size: 24\n          }) : 'Delete'\n        })]\n      })]\n    }), /*#__PURE__*/_jsxs(Dialog, {\n      open: fileUploadDialogOpen,\n      onClose: () => {\n        if (!loading) {\n          setFileUploadDialogOpen(false);\n          setSelectedFile(null);\n          setUploadProgress(0);\n        }\n      },\n      fullWidth: true,\n      maxWidth: \"md\",\n      children: [/*#__PURE__*/_jsx(DialogTitle, {\n        children: /*#__PURE__*/_jsxs(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between'\n          },\n          children: [\"Upload Files to Azure Blob Storage\", /*#__PURE__*/_jsx(IconButton, {\n            onClick: () => {\n              if (!loading) {\n                setFileUploadDialogOpen(false);\n                setSelectedFile(null);\n                setUploadProgress(0);\n              }\n            },\n            children: /*#__PURE__*/_jsx(CloseIcon, {})\n          })]\n        })\n      }), /*#__PURE__*/_jsxs(DialogContent, {\n        children: [/*#__PURE__*/_jsx(Typography, {\n          variant: \"subtitle2\",\n          gutterBottom: true,\n          children: \"Upload Location:\"\n        }), /*#__PURE__*/_jsx(Paper, {\n          variant: \"outlined\",\n          sx: {\n            p: 1.5,\n            mb: 2,\n            bgcolor: 'background.default'\n          },\n          children: /*#__PURE__*/_jsxs(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsx(ContainerIcon, {\n              color: \"primary\",\n              sx: {\n                mr: 1\n              }\n            }), /*#__PURE__*/_jsxs(Typography, {\n              sx: {\n                fontWeight: 'medium'\n              },\n              children: [selectedContainer, currentPath ? `/${currentPath}` : '']\n            })]\n          })\n        }), /*#__PURE__*/_jsxs(Box, {\n          sx: {\n            border: '2px dashed',\n            borderColor: 'divider',\n            borderRadius: 1,\n            p: 3,\n            mb: 3,\n            textAlign: 'center',\n            transition: 'all 0.2s ease',\n            '&:hover': {\n              borderColor: 'primary.main',\n              bgcolor: 'action.hover'\n            },\n            position: 'relative'\n          },\n          onDragOver: e => {\n            e.preventDefault();\n            e.stopPropagation();\n            e.currentTarget.style.borderColor = theme => theme.palette.primary.main;\n            e.currentTarget.style.backgroundColor = theme => theme.palette.action.hover;\n          },\n          onDragLeave: e => {\n            e.preventDefault();\n            e.stopPropagation();\n            e.currentTarget.style.borderColor = '';\n            e.currentTarget.style.backgroundColor = '';\n          },\n          onDrop: e => {\n            e.preventDefault();\n            e.stopPropagation();\n            e.currentTarget.style.borderColor = '';\n            e.currentTarget.style.backgroundColor = '';\n            if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n              // Process all dropped files\n              processFileSelection(e.dataTransfer.files);\n            }\n          },\n          children: [/*#__PURE__*/_jsx(UploadIcon, {\n            color: \"primary\",\n            sx: {\n              fontSize: 40,\n              mb: 2\n            }\n          }), /*#__PURE__*/_jsx(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Drag & Drop Files Here\"\n          }), /*#__PURE__*/_jsx(Typography, {\n            variant: \"body2\",\n            color: \"textSecondary\",\n            paragraph: true,\n            children: \"or\"\n          }), /*#__PURE__*/_jsxs(Button, {\n            variant: \"contained\",\n            component: \"label\",\n            startIcon: /*#__PURE__*/_jsx(UploadIcon, {}),\n            children: [\"Browse Files\", /*#__PURE__*/_jsx(\"input\", {\n              type: \"file\",\n              hidden: true,\n              multiple: true,\n              onChange: e => {\n                if (e.target.files && e.target.files.length > 0) {\n                  processFileSelection(e.target.files);\n                }\n              }\n            })]\n          }), /*#__PURE__*/_jsx(Typography, {\n            variant: \"caption\",\n            color: \"textSecondary\",\n            sx: {\n              display: 'block',\n              mt: 2\n            },\n            children: \"Supported file types: CSV, JSON, XML, PDF, Images, Text files\"\n          })]\n        }), selectedFile && /*#__PURE__*/_jsxs(Box, {\n          children: [/*#__PURE__*/_jsx(Typography, {\n            variant: \"subtitle2\",\n            gutterBottom: true,\n            children: \"File Preview\"\n          }), /*#__PURE__*/_jsx(Paper, {\n            variant: \"outlined\",\n            sx: {\n              p: 2,\n              mb: 2\n            },\n            children: /*#__PURE__*/_jsxs(Grid, {\n              container: true,\n              spacing: 2,\n              alignItems: \"center\",\n              children: [/*#__PURE__*/_jsx(Grid, {\n                item: true,\n                xs: 12,\n                md: 6,\n                children: (() => {\n                  const FileCard = require(\"../../common/FileCard\").default;\n                  const {\n                    generateFileMetadata\n                  } = require(\"../../../utils/fileTypeUtils\");\n\n                  // Generate metadata for the file\n                  const fileMetadata = generateFileMetadata(selectedFile);\n                  return /*#__PURE__*/_jsx(FileCard, {\n                    file: selectedFile,\n                    showActions: false,\n                    showPreview: false,\n                    variant: \"outlined\"\n                  });\n                })()\n              }), /*#__PURE__*/_jsxs(Grid, {\n                item: true,\n                xs: 12,\n                md: 6,\n                children: [/*#__PURE__*/_jsx(Typography, {\n                  variant: \"subtitle2\",\n                  gutterBottom: true,\n                  children: \"File Details\"\n                }), /*#__PURE__*/_jsxs(Box, {\n                  sx: {\n                    mb: 2\n                  },\n                  children: [/*#__PURE__*/_jsxs(Typography, {\n                    variant: \"body2\",\n                    sx: {\n                      display: 'flex',\n                      justifyContent: 'space-between'\n                    },\n                    children: [/*#__PURE__*/_jsx(\"span\", {\n                      children: \"File name:\"\n                    }), /*#__PURE__*/_jsx(\"span\", {\n                      style: {\n                        fontWeight: 'medium'\n                      },\n                      children: selectedFile.name\n                    })]\n                  }), /*#__PURE__*/_jsxs(Typography, {\n                    variant: \"body2\",\n                    sx: {\n                      display: 'flex',\n                      justifyContent: 'space-between'\n                    },\n                    children: [/*#__PURE__*/_jsx(\"span\", {\n                      children: \"Size:\"\n                    }), /*#__PURE__*/_jsx(\"span\", {\n                      children: formatFileSize(selectedFile.size)\n                    })]\n                  }), /*#__PURE__*/_jsxs(Typography, {\n                    variant: \"body2\",\n                    sx: {\n                      display: 'flex',\n                      justifyContent: 'space-between'\n                    },\n                    children: [/*#__PURE__*/_jsx(\"span\", {\n                      children: \"Type:\"\n                    }), /*#__PURE__*/_jsx(\"span\", {\n                      children: selectedFile.type || 'Unknown'\n                    })]\n                  }), /*#__PURE__*/_jsxs(Typography, {\n                    variant: \"body2\",\n                    sx: {\n                      display: 'flex',\n                      justifyContent: 'space-between'\n                    },\n                    children: [/*#__PURE__*/_jsx(\"span\", {\n                      children: \"Last modified:\"\n                    }), /*#__PURE__*/_jsx(\"span\", {\n                      children: new Date(selectedFile.lastModified).toLocaleString()\n                    })]\n                  })]\n                }), (() => {\n                  const {\n                    isPreviewSupported,\n                    getFileTypeDescription\n                  } = require(\"../../../utils/fileTypeUtils\");\n                  const mimeType = selectedFile.type;\n                  const isSupported = isPreviewSupported(mimeType);\n                  return /*#__PURE__*/_jsx(Box, {\n                    sx: {\n                      mb: 2\n                    },\n                    children: isSupported ? /*#__PURE__*/_jsxs(Alert, {\n                      severity: \"success\",\n                      icon: /*#__PURE__*/_jsx(CheckCircleIcon, {}),\n                      children: [\"This file type (\", getFileTypeDescription(mimeType), \") is fully supported.\"]\n                    }) : /*#__PURE__*/_jsxs(Alert, {\n                      severity: \"warning\",\n                      children: [/*#__PURE__*/_jsx(AlertTitle, {\n                        children: \"Limited Support\"\n                      }), \"This file type may have limited preview capabilities in the system.\"]\n                    })\n                  });\n                })(), /*#__PURE__*/_jsx(Button, {\n                  fullWidth: true,\n                  variant: \"outlined\",\n                  color: \"error\",\n                  startIcon: /*#__PURE__*/_jsx(CloseIcon, {}),\n                  onClick: () => setSelectedFile(null),\n                  sx: {\n                    mt: 1\n                  },\n                  children: \"Remove File\"\n                })]\n              })]\n            })\n          }), uploadProgress > 0 && /*#__PURE__*/_jsxs(Box, {\n            sx: {\n              mt: 2,\n              mb: 2\n            },\n            children: [/*#__PURE__*/_jsxs(Typography, {\n              variant: \"subtitle2\",\n              gutterBottom: true,\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              children: [/*#__PURE__*/_jsx(\"span\", {\n                children: \"Upload Progress\"\n              }), /*#__PURE__*/_jsxs(\"span\", {\n                children: [uploadProgress, \"%\"]\n              })]\n            }), /*#__PURE__*/_jsx(LinearProgress, {\n              variant: \"determinate\",\n              value: uploadProgress,\n              sx: {\n                height: 10,\n                borderRadius: 5,\n                mb: 1\n              }\n            }), /*#__PURE__*/_jsx(Typography, {\n              variant: \"caption\",\n              color: \"textSecondary\",\n              children: uploadProgress < 100 ? `Uploading ${selectedFile.name}...` : `Successfully uploaded ${selectedFile.name}`\n            }), filesToUpload.length > 1 && /*#__PURE__*/_jsxs(Box, {\n              sx: {\n                mt: 1,\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'space-between'\n              },\n              children: [/*#__PURE__*/_jsxs(Typography, {\n                variant: \"caption\",\n                color: \"textSecondary\",\n                children: [\"File \", currentUploadIndex + 1, \" of \", filesToUpload.length]\n              }), /*#__PURE__*/_jsxs(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center'\n                },\n                children: [Array.from({\n                  length: Math.min(filesToUpload.length, 5)\n                }).map((_, index) => {\n                  // Calculate status for this dot\n                  let color = 'grey.300'; // default - not started\n                  if (index < currentUploadIndex) {\n                    color = 'success.main'; // completed\n                  } else if (index === currentUploadIndex) {\n                    color = uploadProgress === 100 ? 'success.main' : 'primary.main'; // in progress\n                  }\n                  return /*#__PURE__*/_jsx(Box, {\n                    sx: {\n                      width: 8,\n                      height: 8,\n                      borderRadius: '50%',\n                      bgcolor: color,\n                      mx: 0.5\n                    }\n                  }, index);\n                }), filesToUpload.length > 5 && /*#__PURE__*/_jsxs(Typography, {\n                  variant: \"caption\",\n                  color: \"textSecondary\",\n                  sx: {\n                    ml: 1\n                  },\n                  children: [\"+\", filesToUpload.length - 5, \" more\"]\n                })]\n              })]\n            })]\n          }), /*#__PURE__*/_jsxs(Box, {\n            sx: {\n              mt: 3\n            },\n            children: [/*#__PURE__*/_jsx(Typography, {\n              variant: \"subtitle2\",\n              gutterBottom: true,\n              children: \"Upload Options\"\n            }), /*#__PURE__*/_jsx(FormControlLabel, {\n              control: /*#__PURE__*/_jsx(Checkbox, {\n                checked: uploadOptions.overwriteExisting,\n                onChange: () => setUploadOptions(prev => ({\n                  ...prev,\n                  overwriteExisting: !prev.overwriteExisting\n                })),\n                name: \"overwriteExisting\"\n              }),\n              label: \"Overwrite if file already exists\"\n            }), /*#__PURE__*/_jsx(FormControlLabel, {\n              control: /*#__PURE__*/_jsx(Checkbox, {\n                checked: uploadOptions.calculateMD5,\n                onChange: () => setUploadOptions(prev => ({\n                  ...prev,\n                  calculateMD5: !prev.calculateMD5\n                })),\n                name: \"calculateMD5\"\n              }),\n              label: \"Calculate and store content MD5 (for integrity verification)\"\n            }), filesToUpload.length > 1 && /*#__PURE__*/_jsxs(Box, {\n              sx: {\n                mt: 2,\n                p: 1,\n                bgcolor: 'info.lightest',\n                borderRadius: 1\n              },\n              children: [/*#__PURE__*/_jsxs(Typography, {\n                variant: \"body2\",\n                gutterBottom: true,\n                sx: {\n                  fontWeight: 'medium',\n                  color: 'info.main',\n                  display: 'flex',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsx(InfoIcon, {\n                  fontSize: \"small\",\n                  sx: {\n                    mr: 0.5\n                  }\n                }), \"Batch Upload Information\"]\n              }), /*#__PURE__*/_jsxs(Typography, {\n                variant: \"body2\",\n                children: [filesToUpload.length, \" files selected for upload (\", formatFileSize(filesToUpload.reduce((total, file) => total + file.size, 0)), \")\"]\n              }), /*#__PURE__*/_jsx(Button, {\n                size: \"small\",\n                variant: \"text\",\n                color: \"primary\",\n                onClick: () => {\n                  setFilesToUpload([]);\n                  setSelectedFile(null);\n                },\n                sx: {\n                  mt: 1\n                },\n                startIcon: /*#__PURE__*/_jsx(CloseIcon, {\n                  fontSize: \"small\"\n                }),\n                children: \"Clear Batch Selection\"\n              })]\n            })]\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(DialogActions, {\n        sx: {\n          px: 3,\n          py: 2\n        },\n        children: [/*#__PURE__*/_jsx(Button, {\n          onClick: () => {\n            setFileUploadDialogOpen(false);\n            setSelectedFile(null);\n            setUploadProgress(0);\n          },\n          disabled: loading,\n          children: \"Cancel\"\n        }), /*#__PURE__*/_jsx(Button, {\n          onClick: uploadFile,\n          variant: \"contained\",\n          color: \"primary\",\n          disabled: loading || !selectedFile || uploadProgress > 0,\n          startIcon: loading ? /*#__PURE__*/_jsx(CircularProgress, {\n            size: 20\n          }) : /*#__PURE__*/_jsx(UploadIcon, {}),\n          children: loading ? 'Uploading...' : filesToUpload.length > 1 ? `Upload ${filesToUpload.length} Files` : 'Upload File'\n        })]\n      })]\n    }), /*#__PURE__*/_jsxs(Dialog, {\n      open: fileViewerOpen,\n      onClose: () => setFileViewerOpen(false),\n      fullWidth: true,\n      maxWidth: \"lg\",\n      children: [/*#__PURE__*/_jsx(DialogContent, {\n        dividers: true,\n        sx: {\n          p: 0\n        },\n        children: renderFilePreview(fileViewUrl, fileViewType)\n      }), /*#__PURE__*/_jsxs(DialogActions, {\n        children: [/*#__PURE__*/_jsx(Button, {\n          onClick: () => setFileViewerOpen(false),\n          children: \"Close\"\n        }), selectedItem && selectedItem.type === 'blob' && /*#__PURE__*/_jsxs(_Fragment, {\n          children: [/*#__PURE__*/_jsx(Button, {\n            onClick: () => {\n              downloadBlob(selectedItem);\n            },\n            startIcon: /*#__PURE__*/_jsx(DownloadIcon, {}),\n            children: \"Download\"\n          }), /*#__PURE__*/_jsx(Button, {\n            onClick: () => {\n              onSelectBlob({\n                containerName: selectedContainer,\n                path: currentPath,\n                blobName: selectedItem.name,\n                blobProperties: selectedItem.properties\n              });\n              setFileViewerOpen(false);\n            },\n            variant: \"contained\",\n            color: \"primary\",\n            startIcon: /*#__PURE__*/_jsx(CheckCircleIcon, {}),\n            children: \"Select This File\"\n          })]\n        })]\n      })]\n    })]\n  });\n};\nexport default AzureBlobContainerBrowser;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}