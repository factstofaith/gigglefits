{"ast":null,"code":"/**\r\n * Integration Creation Dialog\r\n *\r\n * A dialog component for creating new integrations.\r\n *\r\n * @component\r\n */\n\nimport React, { useState } from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, TextField, FormControl, InputLabel, Select, MenuItem, FormHelperText, Box, Stepper, Step, StepLabel, Typography, Stack } from '@mui/material';\nimport { useFormik } from 'formik';\nimport * as yup from 'yup';\nimport ContextualHelp from \"../common/ContextualHelp\";\nimport { useContextualHelp } from \"../../hooks\";\n\n// Define steps for integration creation\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst steps = ['Basic Information', 'Connection Settings', 'Schedule'];\n\n// Validation schema for the form\nconst validationSchema = yup.object({\n  name: yup.string().required('Name is required').min(3, 'Name should be at least 3 characters').max(50, 'Name should be at most 50 characters'),\n  description: yup.string().max(200, 'Description should be at most 200 characters'),\n  type: yup.string().required('Integration type is required')\n});\n\n/**\r\n * Integration types and their descriptions\r\n */\nconst INTEGRATION_TYPES = [{\n  value: 'data_sync',\n  label: 'Data Synchronization',\n  description: 'Synchronize data between multiple systems'\n}, {\n  value: 'data_transformation',\n  label: 'Data Transformation',\n  description: 'Transform data from one format to another'\n}, {\n  value: 'data_validation',\n  label: 'Data Validation',\n  description: 'Validate data against business rules'\n}, {\n  value: 'data_migration',\n  label: 'Data Migration',\n  description: 'Migrate data from legacy systems to new platforms'\n}];\n\n/**\r\n * Integration Creation Dialog component\r\n */\nconst IntegrationCreationDialog = _ref => {\n  var _getHelp, _INTEGRATION_TYPES$fi, _getHelp2;\n  let {\n    open,\n    onClose,\n    onSubmit\n  } = _ref;\n  const [activeStep, setActiveStep] = useState(0);\n  const {\n    getHelp\n  } = useContextualHelp('integration');\n\n  // Initialize formik\n  const formik = useFormik({\n    initialValues: {\n      name: '',\n      description: '',\n      type: '',\n      scheduleType: 'manual',\n      scheduleFrequency: ''\n    },\n    validationSchema,\n    onSubmit: values => {\n      onSubmit(values);\n      formik.resetForm();\n      setActiveStep(0);\n      onClose();\n    }\n  });\n\n  // Handle step navigation\n  const handleNext = () => {\n    setActiveStep(prevStep => prevStep + 1);\n  };\n  const handleBack = () => {\n    setActiveStep(prevStep => prevStep - 1);\n  };\n  const handleReset = () => {\n    formik.resetForm();\n    setActiveStep(0);\n  };\n\n  // Handle dialog close\n  const handleClose = () => {\n    formik.resetForm();\n    setActiveStep(0);\n    onClose();\n  };\n  return /*#__PURE__*/_jsxs(Dialog, {\n    open: open,\n    onClose: handleClose,\n    fullWidth: true,\n    maxWidth: \"md\",\n    children: [/*#__PURE__*/_jsx(DialogTitle, {\n      children: /*#__PURE__*/_jsxs(Stack, {\n        direction: \"row\",\n        alignItems: \"center\",\n        spacing: 1,\n        children: [/*#__PURE__*/_jsx(Typography, {\n          variant: \"h6\",\n          component: \"div\",\n          children: \"Create New Integration\"\n        }), /*#__PURE__*/_jsx(ContextualHelp, {\n          id: \"integration-creation\",\n          title: \"Integration Creation\",\n          content: ((_getHelp = getHelp('creation')) === null || _getHelp === void 0 ? void 0 : _getHelp.content) || \"Create a new integration by specifying its name, description, and type. An integration defines how data moves between systems.\",\n          type: \"tooltip\",\n          size: \"small\"\n        })]\n      })\n    }), /*#__PURE__*/_jsxs(DialogContent, {\n      children: [/*#__PURE__*/_jsx(Box, {\n        sx: {\n          mb: 2\n        },\n        children: /*#__PURE__*/_jsx(Stepper, {\n          activeStep: activeStep,\n          children: steps.map(label => /*#__PURE__*/_jsx(Step, {\n            children: /*#__PURE__*/_jsx(StepLabel, {\n              children: label\n            })\n          }, label))\n        })\n      }), /*#__PURE__*/_jsxs(\"form\", {\n        onSubmit: formik.handleSubmit,\n        children: [activeStep === 0 && /*#__PURE__*/_jsxs(Box, {\n          children: [/*#__PURE__*/_jsx(TextField, {\n            fullWidth: true,\n            margin: \"normal\",\n            id: \"name\",\n            name: \"name\",\n            label: \"Integration Name\",\n            value: formik.values.name,\n            onChange: formik.handleChange,\n            error: formik.touched.name && Boolean(formik.errors.name),\n            helperText: formik.touched.name && formik.errors.name\n          }), /*#__PURE__*/_jsx(TextField, {\n            fullWidth: true,\n            margin: \"normal\",\n            id: \"description\",\n            name: \"description\",\n            label: \"Description\",\n            multiline: true,\n            rows: 3,\n            value: formik.values.description,\n            onChange: formik.handleChange,\n            error: formik.touched.description && Boolean(formik.errors.description),\n            helperText: formik.touched.description && formik.errors.description\n          }), /*#__PURE__*/_jsxs(FormControl, {\n            fullWidth: true,\n            margin: \"normal\",\n            error: formik.touched.type && Boolean(formik.errors.type),\n            children: [/*#__PURE__*/_jsx(InputLabel, {\n              id: \"type-label\",\n              children: \"Integration Type\"\n            }), /*#__PURE__*/_jsx(Select, {\n              labelId: \"type-label\",\n              id: \"type\",\n              name: \"type\",\n              value: formik.values.type,\n              onChange: formik.handleChange,\n              label: \"Integration Type\",\n              children: INTEGRATION_TYPES.map(type => /*#__PURE__*/_jsx(MenuItem, {\n                value: type.value,\n                children: type.label\n              }, type.value))\n            }), formik.touched.type && formik.errors.type && /*#__PURE__*/_jsx(FormHelperText, {\n              children: formik.errors.type\n            })]\n          }), formik.values.type && /*#__PURE__*/_jsx(Box, {\n            mt: 2,\n            p: 2,\n            bgcolor: \"grey.100\",\n            borderRadius: 1,\n            children: /*#__PURE__*/_jsx(Typography, {\n              variant: \"body2\",\n              children: (_INTEGRATION_TYPES$fi = INTEGRATION_TYPES.find(t => t.value === formik.values.type)) === null || _INTEGRATION_TYPES$fi === void 0 ? void 0 : _INTEGRATION_TYPES$fi.description\n            })\n          })]\n        }), activeStep === 1 && /*#__PURE__*/_jsxs(Box, {\n          children: [/*#__PURE__*/_jsx(Typography, {\n            variant: \"subtitle1\",\n            gutterBottom: true,\n            children: \"Connection Settings\"\n          }), /*#__PURE__*/_jsx(Typography, {\n            variant: \"body2\",\n            color: \"textSecondary\",\n            paragraph: true,\n            children: \"You'll configure the detailed connection settings in the Flow Designer after creating the integration.\"\n          }), /*#__PURE__*/_jsx(ContextualHelp, {\n            id: \"connection-settings-info\",\n            title: \"Connection Configuration\",\n            content: \"The Flow Designer is where you'll build your integration workflow by connecting nodes together. You'll be able to configure source and destination systems, add transformation steps, and define how data flows between them.\",\n            type: \"inline\",\n            icon: \"info\",\n            relatedLinks: [{\n              label: \"Take Flow Designer tour\",\n              onClick: () => console.log(\"Start flow designer tour\")\n            }, {\n              label: \"View connection types\",\n              onClick: () => console.log(\"Open connection types documentation\")\n            }]\n          }), /*#__PURE__*/_jsx(Typography, {\n            variant: \"body2\",\n            gutterBottom: true,\n            sx: {\n              mt: 2\n            },\n            children: \"The Flow Designer will allow you to:\"\n          }), /*#__PURE__*/_jsxs(\"ul\", {\n            children: [/*#__PURE__*/_jsx(\"li\", {\n              children: \"Add source and destination nodes\"\n            }), /*#__PURE__*/_jsx(\"li\", {\n              children: \"Configure transformation and filter operations\"\n            }), /*#__PURE__*/_jsx(\"li\", {\n              children: \"Establish connections between nodes\"\n            }), /*#__PURE__*/_jsx(\"li\", {\n              children: \"Validate and test your integration flow\"\n            })]\n          })]\n        }), activeStep === 2 && /*#__PURE__*/_jsxs(Box, {\n          children: [/*#__PURE__*/_jsxs(Stack, {\n            direction: \"row\",\n            alignItems: \"center\",\n            spacing: 1,\n            mb: 2,\n            children: [/*#__PURE__*/_jsx(Typography, {\n              variant: \"subtitle1\",\n              children: \"Schedule Configuration\"\n            }), /*#__PURE__*/_jsx(ContextualHelp, {\n              id: \"schedule-config\",\n              title: \"Scheduling\",\n              content: ((_getHelp2 = getHelp('schedule')) === null || _getHelp2 === void 0 ? void 0 : _getHelp2.content) || \"Set up when your integration should run automatically. Supports one-time, recurring, and event-based schedules.\",\n              type: \"popover\",\n              size: \"small\",\n              relatedLinks: [{\n                label: \"View scheduling documentation\",\n                onClick: () => console.log(\"Open scheduling documentation\")\n              }, {\n                label: \"Take scheduling tour\",\n                onClick: () => console.log(\"Start scheduling tour\")\n              }]\n            })]\n          }), /*#__PURE__*/_jsxs(FormControl, {\n            fullWidth: true,\n            margin: \"normal\",\n            children: [/*#__PURE__*/_jsx(InputLabel, {\n              id: \"schedule-type-label\",\n              children: \"Schedule Type\"\n            }), /*#__PURE__*/_jsxs(Select, {\n              labelId: \"schedule-type-label\",\n              id: \"scheduleType\",\n              name: \"scheduleType\",\n              value: formik.values.scheduleType,\n              onChange: formik.handleChange,\n              label: \"Schedule Type\",\n              children: [/*#__PURE__*/_jsx(MenuItem, {\n                value: \"manual\",\n                children: \"Manual Execution\"\n              }), /*#__PURE__*/_jsx(MenuItem, {\n                value: \"scheduled\",\n                children: \"Scheduled\"\n              }), /*#__PURE__*/_jsx(MenuItem, {\n                value: \"event_driven\",\n                children: \"Event Driven\"\n              })]\n            })]\n          }), formik.values.scheduleType === 'scheduled' && /*#__PURE__*/_jsxs(FormControl, {\n            fullWidth: true,\n            margin: \"normal\",\n            children: [/*#__PURE__*/_jsx(InputLabel, {\n              id: \"schedule-frequency-label\",\n              children: \"Frequency\"\n            }), /*#__PURE__*/_jsxs(Select, {\n              labelId: \"schedule-frequency-label\",\n              id: \"scheduleFrequency\",\n              name: \"scheduleFrequency\",\n              value: formik.values.scheduleFrequency,\n              onChange: formik.handleChange,\n              label: \"Frequency\",\n              children: [/*#__PURE__*/_jsx(MenuItem, {\n                value: \"hourly\",\n                children: \"Hourly\"\n              }), /*#__PURE__*/_jsx(MenuItem, {\n                value: \"daily\",\n                children: \"Daily\"\n              }), /*#__PURE__*/_jsx(MenuItem, {\n                value: \"weekly\",\n                children: \"Weekly\"\n              }), /*#__PURE__*/_jsx(MenuItem, {\n                value: \"monthly\",\n                children: \"Monthly\"\n              }), /*#__PURE__*/_jsx(MenuItem, {\n                value: \"custom\",\n                children: \"Custom (CRON)\"\n              })]\n            })]\n          }), formik.values.scheduleType === 'event_driven' && /*#__PURE__*/_jsx(Box, {\n            mt: 2,\n            p: 2,\n            bgcolor: \"grey.100\",\n            borderRadius: 1,\n            children: /*#__PURE__*/_jsx(Typography, {\n              variant: \"body2\",\n              children: \"Event-driven integrations will be triggered by external events such as webhook calls, file uploads, or system notifications.\"\n            })\n          })]\n        })]\n      })]\n    }), /*#__PURE__*/_jsxs(DialogActions, {\n      children: [/*#__PURE__*/_jsx(Button, {\n        onClick: handleClose,\n        children: \"Cancel\"\n      }), activeStep > 0 && /*#__PURE__*/_jsx(Button, {\n        onClick: handleBack,\n        children: \"Back\"\n      }), activeStep < steps.length - 1 && /*#__PURE__*/_jsx(Button, {\n        onClick: handleNext,\n        variant: \"contained\",\n        disabled: activeStep === 0 && !(formik.values.name && formik.values.type && !formik.errors.name && !formik.errors.description),\n        children: \"Next\"\n      }), activeStep === steps.length - 1 && /*#__PURE__*/_jsx(Button, {\n        onClick: () => formik.handleSubmit(),\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"Create Integration\"\n      })]\n    })]\n  });\n};\nexport default IntegrationCreationDialog;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}