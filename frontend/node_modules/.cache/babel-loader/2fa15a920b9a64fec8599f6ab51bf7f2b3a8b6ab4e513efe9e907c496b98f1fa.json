{"ast":null,"code":"/**\n * Filter Node\n *\n * A custom node for data filtering in the integration flow canvas.\n * This node represents a data filtering operation.\n *\n * @component\n */\n\nimport React, { memo } from 'react';\nimport { Handle } from 'reactflow';\nimport { Box, Typography, Paper, IconButton, Tooltip, Badge, Chip } from '@mui/material';\nimport { FilterAlt as FilterIcon, Rule as RuleIcon, Error as ErrorIcon, Check as CheckIcon, Settings as SettingsIcon, FindReplace as FindReplaceIcon, FilterList as FilterListIcon } from '@mui/icons-material';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst FILTER_TYPES = {\n  CONDITION: {\n    icon: RuleIcon,\n    color: '#9c27b0',\n    // Purple\n    label: 'Condition'\n  },\n  VALIDATION: {\n    icon: CheckIcon,\n    color: '#9c27b0',\n    // Purple\n    label: 'Validation'\n  },\n  SEARCH_REPLACE: {\n    icon: FindReplaceIcon,\n    color: '#9c27b0',\n    // Purple\n    label: 'Search & Replace'\n  },\n  LIST_FILTER: {\n    icon: FilterListIcon,\n    color: '#9c27b0',\n    // Purple\n    label: 'List Filter'\n  },\n  default: {\n    icon: FilterIcon,\n    color: '#9c27b0',\n    // Purple\n    label: 'Filter'\n  }\n};\n\n/**\n * Filter Node component\n */\nconst FilterNode = /*#__PURE__*/memo(_ref => {\n  var _data$conditions;\n  let {\n    id,\n    data,\n    isConnectable,\n    selected\n  } = _ref;\n  const filterType = data.filterType || 'default';\n  const filterConfig = FILTER_TYPES[filterType] || FILTER_TYPES.default;\n  const FilterIconComponent = filterConfig.icon;\n  const hasError = data.error !== undefined;\n  const isConfigured = data.isConfigured || false;\n  const conditionCount = ((_data$conditions = data.conditions) === null || _data$conditions === void 0 ? void 0 : _data$conditions.length) || 0;\n  return /*#__PURE__*/_jsxs(Paper, {\n    elevation: selected ? 3 : 1,\n    sx: {\n      minHeight: 80,\n      width: 200,\n      padding: 1,\n      borderRadius: 1,\n      borderWidth: 2,\n      borderStyle: 'solid',\n      borderColor: selected ? 'primary.main' : filterConfig.color,\n      backgroundColor: 'background.paper',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsx(Handle, {\n      type: \"target\",\n      position: \"left\",\n      id: \"input\",\n      style: {\n        left: -8,\n        top: '50%',\n        width: 12,\n        height: 12,\n        background: filterConfig.color,\n        border: '2px solid #fff'\n      },\n      isConnectable: isConnectable\n    }), /*#__PURE__*/_jsx(Handle, {\n      type: \"source\",\n      position: \"right\",\n      id: \"output\",\n      style: {\n        right: -8,\n        top: '50%',\n        width: 12,\n        height: 12,\n        background: filterConfig.color,\n        border: '2px solid #fff'\n      },\n      isConnectable: isConnectable\n    }), /*#__PURE__*/_jsxs(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        mb: 1,\n        backgroundColor: filterConfig.color,\n        color: '#fff',\n        marginLeft: -1,\n        marginRight: -1,\n        marginTop: -1,\n        padding: 0.5,\n        borderTopLeftRadius: 4,\n        borderTopRightRadius: 4\n      },\n      children: [/*#__PURE__*/_jsx(FilterIconComponent, {\n        fontSize: \"small\",\n        sx: {\n          mr: 1\n        }\n      }), /*#__PURE__*/_jsx(Typography, {\n        variant: \"subtitle2\",\n        sx: {\n          flexGrow: 1\n        },\n        children: filterConfig.label\n      }), /*#__PURE__*/_jsx(Badge, {\n        color: hasError ? \"error\" : \"success\",\n        variant: \"dot\",\n        invisible: !isConfigured,\n        children: /*#__PURE__*/_jsx(Tooltip, {\n          title: \"Configure Filter\",\n          children: /*#__PURE__*/_jsx(IconButton, {\n            size: \"small\",\n            sx: {\n              color: '#fff',\n              '&:hover': {\n                backgroundColor: 'rgba(255, 255, 255, 0.2)'\n              }\n            },\n            children: /*#__PURE__*/_jsx(SettingsIcon, {\n              fontSize: \"small\"\n            })\n          })\n        })\n      })]\n    }), /*#__PURE__*/_jsxs(Box, {\n      sx: {\n        p: 1\n      },\n      children: [/*#__PURE__*/_jsx(Typography, {\n        variant: \"body2\",\n        sx: {\n          mb: 0.5\n        },\n        children: data.label || 'Data Filter'\n      }), conditionCount > 0 && /*#__PURE__*/_jsx(Box, {\n        sx: {\n          display: 'flex',\n          flexWrap: 'wrap',\n          gap: 0.5,\n          my: 0.5\n        },\n        children: /*#__PURE__*/_jsx(Chip, {\n          label: `${conditionCount} condition${conditionCount > 1 ? 's' : ''}`,\n          size: \"small\",\n          variant: \"outlined\",\n          color: \"secondary\"\n        })\n      }), hasError ? /*#__PURE__*/_jsxs(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          color: 'error.main'\n        },\n        children: [/*#__PURE__*/_jsx(ErrorIcon, {\n          fontSize: \"small\",\n          sx: {\n            mr: 0.5\n          }\n        }), /*#__PURE__*/_jsx(Typography, {\n          variant: \"caption\",\n          color: \"error\",\n          children: data.error\n        })]\n      }) : isConfigured ? /*#__PURE__*/_jsxs(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          color: 'success.main'\n        },\n        children: [/*#__PURE__*/_jsx(Check, {\n          fontSize: \"small\",\n          sx: {\n            mr: 0.5\n          }\n        }), /*#__PURE__*/_jsx(Typography, {\n          variant: \"caption\",\n          color: \"success.main\",\n          children: \"Configured\"\n        })]\n      }) : /*#__PURE__*/_jsx(Typography, {\n        variant: \"caption\",\n        color: \"text.secondary\",\n        children: \"Click to configure\"\n      })]\n    })]\n  });\n});\nexport default FilterNode;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}