{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,useLocation}from'react-router-dom';import{Box,TextField,Button,Typography,Paper,Container}from\"../design-system/optimized\";import{useUser}from\"../contexts/UserContext\";import{useNotification}from\"../contexts/NotificationContext\";/**\n * Login Page component - Handles user authentication\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=()=>{var _location$state,_location$state$from;const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[isLoading,setIsLoading]=useState(false);const{setState:setUser}=useUser();const{setState:setNotification}=useNotification();const navigate=useNavigate();const location=useLocation();// Get the redirect path from location state or default to home\nconst from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||'/';const handleSubmit=async e=>{e.preventDefault();setIsLoading(true);try{// In a real app, this would make an API call\n// For demonstration, we'll simulate authentication\nif(username==='ai-dev'&&password==='TAPintoAI!'){// Successful login\nsetUser({isAuthenticated:true,isAdmin:true,// This user is an admin\nname:'AI Developer',email:'ai-dev@example.com',id:'1234567890'});setNotification({type:'success',message:'Login successful!',open:true});// Navigate to the page the user was trying to access\nnavigate(from,{replace:true});}else{// Failed login\nsetNotification({type:'error',message:'Invalid credentials. Please try again.',open:true});}}catch(error){setNotification({type:'error',message:'An error occurred during login. Please try again.',open:true});}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsx(Box,{sx:{marginTop:8,display:'flex',flexDirection:'column',alignItems:'center'},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{padding:4,width:'100%'},children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",align:\"center\",gutterBottom:true,children:\"Sign in to TAP Integration Platform\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{mt:1},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"username\",label:\"Username\",name:\"username\",autoComplete:\"username\",autoFocus:true,value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",sx:{mt:3,mb:2},disabled:isLoading,children:isLoading?'Signing in...':'Sign In'})]})]})})});};export default LoginPage;","map":{"version":3,"names":["React","useState","useNavigate","useLocation","Box","TextField","Button","Typography","Paper","Container","useUser","useNotification","jsx","_jsx","jsxs","_jsxs","LoginPage","_location$state","_location$state$from","username","setUsername","password","setPassword","isLoading","setIsLoading","setState","setUser","setNotification","navigate","location","from","state","pathname","handleSubmit","e","preventDefault","isAuthenticated","isAdmin","name","email","id","type","message","open","replace","error","maxWidth","children","sx","marginTop","display","flexDirection","alignItems","elevation","padding","width","component","variant","align","gutterBottom","onSubmit","mt","margin","required","fullWidth","label","autoComplete","autoFocus","value","onChange","target","color","mb","disabled"],"sources":["/home/ai-dev/Desktop/tap-integration-platform/frontend/src/pages/LoginPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { Box, TextField, Button, Typography, Paper, Container } from '../design-system/optimized';\nimport { useUser } from '../contexts/UserContext';\nimport { useNotification } from '../contexts/NotificationContext';\n\n/**\n * Login Page component - Handles user authentication\n */\nconst LoginPage = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const { setState: setUser } = useUser();\n  const { setState: setNotification } = useNotification();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // Get the redirect path from location state or default to home\n  const from = location.state?.from?.pathname || '/';\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      // In a real app, this would make an API call\n      // For demonstration, we'll simulate authentication\n      if (username === 'ai-dev' && password === 'TAPintoAI!') {\n        // Successful login\n        setUser({\n          isAuthenticated: true,\n          isAdmin: true, // This user is an admin\n          name: 'AI Developer',\n          email: 'ai-dev@example.com',\n          id: '1234567890'\n        });\n\n        setNotification({\n          type: 'success',\n          message: 'Login successful!',\n          open: true\n        });\n\n        // Navigate to the page the user was trying to access\n        navigate(from, { replace: true });\n      } else {\n        // Failed login\n        setNotification({\n          type: 'error',\n          message: 'Invalid credentials. Please try again.',\n          open: true\n        });\n      }\n    } catch (error) {\n      setNotification({\n        type: 'error',\n        message: 'An error occurred during login. Please try again.',\n        open: true\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Box \n        sx={{\n          marginTop: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}\n      >\n        <Paper \n          elevation={3} \n          sx={{ \n            padding: 4,\n            width: '100%',\n          }}\n        >\n          <Typography component=\"h1\" variant=\"h5\" align=\"center\" gutterBottom>\n            Sign in to TAP Integration Platform\n          </Typography>\n          \n          <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 1 }}>\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"username\"\n              label=\"Username\"\n              name=\"username\"\n              autoComplete=\"username\"\n              autoFocus\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n            \n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            \n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              sx={{ mt: 3, mb: 2 }}\n              disabled={isLoading}\n            >\n              {isLoading ? 'Signing in...' : 'Sign In'}\n            </Button>\n          </Box>\n        </Paper>\n      </Box>\n    </Container>\n  );\n};\n\nexport default LoginPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}