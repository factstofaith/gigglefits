{"ast":null,"code":"/**\n * FilePreview Component\n * \n * A versatile component for previewing different file types.\n * Supports text, images, PDFs, and code files with syntax highlighting.\n */import React,{useState,useEffect}from'react';import{Box,Button,CircularProgress,Paper,Typography,Tabs,Tab,Divider,Tooltip,IconButton,useTheme}from'@mui/material';// Icons\nimport CodeIcon from'@mui/icons-material/Code';import DataObjectIcon from'@mui/icons-material/DataObject';import TableViewIcon from'@mui/icons-material/TableView';import TextFieldsIcon from'@mui/icons-material/TextFields';import TerminalIcon from'@mui/icons-material/Terminal';import ContentCopyIcon from'@mui/icons-material/ContentCopy';import DownloadIcon from'@mui/icons-material/Download';import FullscreenIcon from'@mui/icons-material/Fullscreen';import FullscreenExitIcon from'@mui/icons-material/FullscreenExit';import ErrorOutlineIcon from'@mui/icons-material/ErrorOutline';import BrokenImageIcon from'@mui/icons-material/BrokenImage';// File type utilities\nimport{getPreviewType,getSyntaxHighlightLanguage,generateFileMetadata,isPreviewSupported}from\"../../utils/fileTypeUtils\";// PlaceholderDisplay component for unsupported file types\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PlaceholderDisplay=_ref=>{let{error,fileType,onDownload}=_ref;return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',p:4,height:'100%',bgcolor:'background.default'},children:[error?/*#__PURE__*/_jsx(ErrorOutlineIcon,{sx:{fontSize:64,color:'error.main',mb:2}}):/*#__PURE__*/_jsx(BrokenImageIcon,{sx:{fontSize:64,color:'action.disabled',mb:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"text.secondary\",align:\"center\",gutterBottom:true,children:error?'Error Loading Preview':'Preview Not Available'}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",align:\"center\",paragraph:true,children:error?'There was an error loading the file preview. Please try downloading the file instead.':`This file type (${fileType}) is not supported for preview. You can download the file to view it.`}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(DownloadIcon,{}),onClick:onDownload,sx:{mt:2},children:\"Download File\"})]});};// ImagePreview component for image files\nconst ImagePreview=_ref2=>{let{url,alt,error,onError}=_ref2;return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',alignItems:'center',height:'100%',overflow:'auto',bgcolor:'background.default'},children:error?/*#__PURE__*/_jsx(PlaceholderDisplay,{error:error,fileType:\"image\"}):/*#__PURE__*/_jsx(\"img\",{src:url,alt:alt||'File preview',onError:onError,style:{maxWidth:'100%',maxHeight:'100%',objectFit:'contain'}})});};// PDFPreview component for PDF files\nconst PDFPreview=_ref3=>{let{url,error}=_ref3;return/*#__PURE__*/_jsx(Box,{sx:{height:'100%',overflow:'hidden'},children:error?/*#__PURE__*/_jsx(PlaceholderDisplay,{error:error,fileType:\"PDF\"}):/*#__PURE__*/_jsx(\"iframe\",{src:url,title:\"PDF Preview\",width:\"100%\",height:\"100%\",style:{border:'none'},children:/*#__PURE__*/_jsx(\"p\",{children:\"Your browser does not support PDF previews.\"})})});};// TextPreview component for text files\nconst TextPreview=_ref4=>{let{content,error,mimeType}=_ref4;const[copied,setCopied]=useState(false);const handleCopy=()=>{navigator.clipboard.writeText(content).then(()=>{setCopied(true);setTimeout(()=>setCopied(false),2000);}).catch(err=>console.error('Failed to copy:',err));};// Determine if content should be treated as code\nconst isCode=mimeType&&(mimeType.includes('javascript')||mimeType.includes('json')||mimeType.includes('xml')||mimeType.includes('html')||mimeType.includes('css'));return/*#__PURE__*/_jsx(Box,{sx:{position:'relative',height:'100%'},children:error?/*#__PURE__*/_jsx(PlaceholderDisplay,{error:error,fileType:\"text\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Box,{sx:{position:'absolute',top:8,right:8,zIndex:10},children:/*#__PURE__*/_jsx(Tooltip,{title:copied?\"Copied!\":\"Copy to clipboard\",children:/*#__PURE__*/_jsx(IconButton,{onClick:handleCopy,size:\"small\",color:copied?\"success\":\"default\",children:/*#__PURE__*/_jsx(ContentCopyIcon,{fontSize:\"small\"})})})}),/*#__PURE__*/_jsx(Box,{sx:{height:'100%',overflow:'auto',bgcolor:isCode?'grey.900':'background.paper',color:isCode?'grey.300':'text.primary',p:2,fontFamily:'monospace',fontSize:'0.875rem',whiteSpace:'pre-wrap',wordBreak:'break-word',borderRadius:1},children:content||'No content available'})]})});};// CodePreview component for code files with syntax highlighting\n// This is a simple version - in a production app, you'd use a library like prism.js or highlight.js\nconst CodePreview=_ref5=>{let{content,language,error}=_ref5;const[copied,setCopied]=useState(false);const theme=useTheme();const handleCopy=()=>{navigator.clipboard.writeText(content).then(()=>{setCopied(true);setTimeout(()=>setCopied(false),2000);}).catch(err=>console.error('Failed to copy:',err));};// Simple syntax highlighting styles - in a real app, use a proper syntax highlighting library\nconst codeStyle={fontFamily:'monospace',whiteSpace:'pre-wrap',wordBreak:'break-word',padding:theme.spacing(2),backgroundColor:theme.palette.mode==='dark'?'#1e1e1e':'#f5f5f5',color:theme.palette.mode==='dark'?'#d4d4d4':'#333333',borderRadius:4,overflowX:'auto',height:'100%'};return/*#__PURE__*/_jsx(Box,{sx:{position:'relative',height:'100%'},children:error?/*#__PURE__*/_jsx(PlaceholderDisplay,{error:error,fileType:\"code\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{sx:{position:'absolute',top:8,right:8,zIndex:10,display:'flex'},children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Language: \",children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mr:1,px:1,py:0.5,borderRadius:1,bgcolor:'background.paper',fontSize:'0.75rem',color:'text.secondary',border:'1px solid',borderColor:'divider'},children:[/*#__PURE__*/_jsx(CodeIcon,{fontSize:\"inherit\",sx:{mr:0.5}}),language||'plaintext']})}),/*#__PURE__*/_jsx(Tooltip,{title:copied?\"Copied!\":\"Copy to clipboard\",children:/*#__PURE__*/_jsx(IconButton,{onClick:handleCopy,size:\"small\",color:copied?\"success\":\"default\",children:/*#__PURE__*/_jsx(ContentCopyIcon,{fontSize:\"small\"})})})]}),/*#__PURE__*/_jsx(Box,{sx:{height:'100%',overflow:'auto'},children:/*#__PURE__*/_jsx(\"pre\",{style:codeStyle,children:/*#__PURE__*/_jsx(\"code\",{children:content||'// No content available'})})})]})});};/**\n * FilePreview component - Universal file preview component\n * @component\n */const FilePreview=_ref6=>{let{file,url,content,mimeType,filename,maxHeight,fullWidth,showToolbar,onDownload,isLoading,error}=_ref6;const[expanded,setExpanded]=useState(false);const[activeTab,setActiveTab]=useState(0);const[previewError,setPreviewError]=useState(error||null);const[fileMetadata,setFileMetadata]=useState(null);// Generate file metadata\nuseEffect(()=>{const fileObj=file||{name:filename,type:mimeType,url:url};setFileMetadata(generateFileMetadata(fileObj));},[file,filename,mimeType,url]);// Reset error state when props change\nuseEffect(()=>{setPreviewError(error||null);},[error,url,content,file]);if(!fileMetadata){return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',py:4},children:/*#__PURE__*/_jsx(CircularProgress,{})});}// Determine preview type\nconst previewType=getPreviewType(fileMetadata.mimeType);// Handle image load error\nconst handleImageError=()=>{setPreviewError('Failed to load image');};// Handle download\nconst handleDownload=()=>{if(onDownload){onDownload();}else if(url){// Create a temporary anchor and trigger download\nconst a=document.createElement('a');a.href=url;a.download=fileMetadata.filename||'download';document.body.appendChild(a);a.click();document.body.removeChild(a);}};// Toggle fullscreen mode\nconst toggleExpanded=()=>{setExpanded(!expanded);};// Handle tab change\nconst handleTabChange=(event,newValue)=>{setActiveTab(newValue);};// Determine if there's something to preview\nconst hasPreview=isPreviewSupported(fileMetadata.mimeType)&&(url||content);const previewHeight=expanded?'80vh':maxHeight||'400px';// Render preview based on file type\nconst renderPreview=()=>{if(isLoading){return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',alignItems:'center',height:'100%'},children:/*#__PURE__*/_jsx(CircularProgress,{})});}if(previewError||!hasPreview){return/*#__PURE__*/_jsx(PlaceholderDisplay,{error:previewError,fileType:fileMetadata.description,onDownload:handleDownload});}switch(previewType){case'image':return/*#__PURE__*/_jsx(ImagePreview,{url:url,alt:fileMetadata.filename,onError:handleImageError,error:previewError});case'pdf':return/*#__PURE__*/_jsx(PDFPreview,{url:url,error:previewError});case'code':return/*#__PURE__*/_jsx(CodePreview,{content:content,language:getSyntaxHighlightLanguage(fileMetadata.mimeType),error:previewError});case'text':return/*#__PURE__*/_jsx(TextPreview,{content:content,mimeType:fileMetadata.mimeType,error:previewError});default:return/*#__PURE__*/_jsx(PlaceholderDisplay,{fileType:fileMetadata.description,onDownload:handleDownload});}};// Render content based on active tab\nconst renderTabContent=()=>{if(activeTab===0){return renderPreview();}if(activeTab===1){// File details tab\nreturn/*#__PURE__*/_jsxs(Box,{sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"File Information\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'grid',gridTemplateColumns:'1fr 2fr',gap:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"Filename:\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:fileMetadata.filename}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"Type:\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:fileMetadata.description}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"MIME Type:\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontFamily:'monospace'},children:fileMetadata.mimeType}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"Size:\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:formatFileSize(fileMetadata.size)}),fileMetadata.lastModified&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"Last Modified:\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:new Date(fileMetadata.lastModified).toLocaleString()})]}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"Preview Status:\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:fileMetadata.isPreviewable?'Preview available':'Preview not supported for this file type'})]})]});}return null;};// Format file size\nconst formatFileSize=bytes=>{if(bytes===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB','GB','TB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(2))+' '+sizes[i];};// Icon based on file type\nconst getFileTypeIcon=()=>{switch(fileMetadata.previewType){case'code':return/*#__PURE__*/_jsx(CodeIcon,{});case'text':if(fileMetadata.mimeType==='text/csv'||fileMetadata.mimeType==='text/tab-separated-values'){return/*#__PURE__*/_jsx(TableViewIcon,{});}if(fileMetadata.mimeType==='application/json'){return/*#__PURE__*/_jsx(DataObjectIcon,{});}return/*#__PURE__*/_jsx(TextFieldsIcon,{});default:return/*#__PURE__*/_jsx(TerminalIcon,{});}};return/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{height:previewHeight,width:fullWidth?'100%':'auto',display:'flex',flexDirection:'column',overflow:'hidden',transition:'height 0.3s ease'},children:[showToolbar&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'space-between',px:2,py:1,borderBottom:1,borderColor:'divider'},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Box,{sx:{mr:1,display:'flex',alignItems:'center'},children:getFileTypeIcon()}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",noWrap:true,sx:{maxWidth:'300px'},children:fileMetadata.filename})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Download\",children:/*#__PURE__*/_jsx(IconButton,{onClick:handleDownload,size:\"small\",children:/*#__PURE__*/_jsx(DownloadIcon,{})})}),/*#__PURE__*/_jsx(Tooltip,{title:expanded?\"Exit Fullscreen\":\"Fullscreen\",children:/*#__PURE__*/_jsx(IconButton,{onClick:toggleExpanded,size:\"small\",children:expanded?/*#__PURE__*/_jsx(FullscreenExitIcon,{}):/*#__PURE__*/_jsx(FullscreenIcon,{})})})]})]}),/*#__PURE__*/_jsxs(Tabs,{value:activeTab,onChange:handleTabChange,sx:{px:2,borderBottom:1,borderColor:'divider'},children:[/*#__PURE__*/_jsx(Tab,{label:\"Preview\"}),/*#__PURE__*/_jsx(Tab,{label:\"Details\"})]})]}),/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1,overflow:'auto'},children:renderTabContent()})]});};FilePreview.defaultProps={maxHeight:'400px',fullWidth:true,showToolbar:true,isLoading:false};export default FilePreview;","map":{"version":3,"names":["React","useState","useEffect","Box","Button","CircularProgress","Paper","Typography","Tabs","Tab","Divider","Tooltip","IconButton","useTheme","CodeIcon","DataObjectIcon","TableViewIcon","TextFieldsIcon","TerminalIcon","ContentCopyIcon","DownloadIcon","FullscreenIcon","FullscreenExitIcon","ErrorOutlineIcon","BrokenImageIcon","getPreviewType","getSyntaxHighlightLanguage","generateFileMetadata","isPreviewSupported","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PlaceholderDisplay","_ref","error","fileType","onDownload","sx","display","flexDirection","alignItems","justifyContent","p","height","bgcolor","children","fontSize","color","mb","variant","align","gutterBottom","paragraph","startIcon","onClick","mt","ImagePreview","_ref2","url","alt","onError","overflow","src","style","maxWidth","maxHeight","objectFit","PDFPreview","_ref3","title","width","border","TextPreview","_ref4","content","mimeType","copied","setCopied","handleCopy","navigator","clipboard","writeText","then","setTimeout","catch","err","console","isCode","includes","position","top","right","zIndex","size","fontFamily","whiteSpace","wordBreak","borderRadius","CodePreview","_ref5","language","theme","codeStyle","padding","spacing","backgroundColor","palette","mode","overflowX","mr","px","py","borderColor","FilePreview","_ref6","file","filename","fullWidth","showToolbar","isLoading","expanded","setExpanded","activeTab","setActiveTab","previewError","setPreviewError","fileMetadata","setFileMetadata","fileObj","name","type","previewType","handleImageError","handleDownload","a","document","createElement","href","download","body","appendChild","click","removeChild","toggleExpanded","handleTabChange","event","newValue","hasPreview","previewHeight","renderPreview","description","renderTabContent","gridTemplateColumns","gap","formatFileSize","lastModified","Date","toLocaleString","isPreviewable","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","getFileTypeIcon","transition","borderBottom","noWrap","value","onChange","label","flexGrow","defaultProps"],"sources":["/home/ai-dev/Desktop/tap-integration-platform/frontend/src/components/common/FilePreview.jsx"],"sourcesContent":["/**\n * FilePreview Component\n * \n * A versatile component for previewing different file types.\n * Supports text, images, PDFs, and code files with syntax highlighting.\n */\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { \n  Box, \n  Button, \n  CircularProgress, \n  Paper, \n  Typography,\n  Tabs,\n  Tab,\n  Divider,\n  Tooltip,\n  IconButton,\n  useTheme\n} from '@mui/material';\n\n// Icons\nimport CodeIcon from '@mui/icons-material/Code';\nimport DataObjectIcon from '@mui/icons-material/DataObject';\nimport TableViewIcon from '@mui/icons-material/TableView';\nimport TextFieldsIcon from '@mui/icons-material/TextFields';\nimport TerminalIcon from '@mui/icons-material/Terminal';\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport FullscreenIcon from '@mui/icons-material/Fullscreen';\nimport FullscreenExitIcon from '@mui/icons-material/FullscreenExit';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\nimport BrokenImageIcon from '@mui/icons-material/BrokenImage';\n\n// File type utilities\nimport { \n  getPreviewType,\n  getSyntaxHighlightLanguage,\n  generateFileMetadata,\n  isPreviewSupported\n} from '../../utils/fileTypeUtils';\n\n// PlaceholderDisplay component for unsupported file types\nconst PlaceholderDisplay = ({ error, fileType, onDownload }) => (\n  <Box \n    sx={{ \n      display: 'flex', \n      flexDirection: 'column',\n      alignItems: 'center', \n      justifyContent: 'center', \n      p: 4, \n      height: '100%',\n      bgcolor: 'background.default'\n    }}\n  >\n    {error ? (\n      <ErrorOutlineIcon sx={{ fontSize: 64, color: 'error.main', mb: 2 }} />\n    ) : (\n      <BrokenImageIcon sx={{ fontSize: 64, color: 'action.disabled', mb: 2 }} />\n    )}\n    \n    <Typography variant=\"h6\" color=\"text.secondary\" align=\"center\" gutterBottom>\n      {error ? 'Error Loading Preview' : 'Preview Not Available'}\n    </Typography>\n    \n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" paragraph>\n      {error \n        ? 'There was an error loading the file preview. Please try downloading the file instead.'\n        : `This file type (${fileType}) is not supported for preview. You can download the file to view it.`\n      }\n    </Typography>\n    \n    <Button \n      variant=\"outlined\" \n      startIcon={<DownloadIcon />} \n      onClick={onDownload}\n      sx={{ mt: 2 }}\n    >\n      Download File\n    </Button>\n  </Box>\n);\n\n// ImagePreview component for image files\nconst ImagePreview = ({ url, alt, error, onError }) => {\n  return (\n    <Box \n      sx={{ \n        display: 'flex', \n        justifyContent: 'center', \n        alignItems: 'center', \n        height: '100%',\n        overflow: 'auto',\n        bgcolor: 'background.default'\n      }}\n    >\n      {error ? (\n        <PlaceholderDisplay error={error} fileType=\"image\" />\n      ) : (\n        <img \n          src={url} \n          alt={alt || 'File preview'} \n          onError={onError}\n          style={{ \n            maxWidth: '100%', \n            maxHeight: '100%',\n            objectFit: 'contain'\n          }} \n        />\n      )}\n    </Box>\n  );\n};\n\n// PDFPreview component for PDF files\nconst PDFPreview = ({ url, error }) => {\n  return (\n    <Box sx={{ height: '100%', overflow: 'hidden' }}>\n      {error ? (\n        <PlaceholderDisplay error={error} fileType=\"PDF\" />\n      ) : (\n        <iframe \n          src={url} \n          title=\"PDF Preview\" \n          width=\"100%\" \n          height=\"100%\" \n          style={{ border: 'none' }}\n        >\n          <p>Your browser does not support PDF previews.</p>\n        </iframe>\n      )}\n    </Box>\n  );\n};\n\n// TextPreview component for text files\nconst TextPreview = ({ content, error, mimeType }) => {\n  const [copied, setCopied] = useState(false);\n  \n  const handleCopy = () => {\n    navigator.clipboard.writeText(content)\n      .then(() => {\n        setCopied(true);\n        setTimeout(() => setCopied(false), 2000);\n      })\n      .catch(err => console.error('Failed to copy:', err));\n  };\n  \n  // Determine if content should be treated as code\n  const isCode = mimeType && (\n    mimeType.includes('javascript') || \n    mimeType.includes('json') ||\n    mimeType.includes('xml') ||\n    mimeType.includes('html') ||\n    mimeType.includes('css')\n  );\n  \n  return (\n    <Box sx={{ position: 'relative', height: '100%' }}>\n      {error ? (\n        <PlaceholderDisplay error={error} fileType=\"text\" />\n      ) : (\n        <>\n          <Box sx={{ \n            position: 'absolute', \n            top: 8, \n            right: 8, \n            zIndex: 10 \n          }}>\n            <Tooltip title={copied ? \"Copied!\" : \"Copy to clipboard\"}>\n              <IconButton \n                onClick={handleCopy} \n                size=\"small\"\n                color={copied ? \"success\" : \"default\"}\n              >\n                <ContentCopyIcon fontSize=\"small\" />\n              </IconButton>\n            </Tooltip>\n          </Box>\n          <Box \n            sx={{ \n              height: '100%', \n              overflow: 'auto',\n              bgcolor: isCode ? 'grey.900' : 'background.paper',\n              color: isCode ? 'grey.300' : 'text.primary',\n              p: 2,\n              fontFamily: 'monospace',\n              fontSize: '0.875rem',\n              whiteSpace: 'pre-wrap',\n              wordBreak: 'break-word',\n              borderRadius: 1\n            }}\n          >\n            {content || 'No content available'}\n          </Box>\n        </>\n      )}\n    </Box>\n  );\n};\n\n// CodePreview component for code files with syntax highlighting\n// This is a simple version - in a production app, you'd use a library like prism.js or highlight.js\nconst CodePreview = ({ content, language, error }) => {\n  const [copied, setCopied] = useState(false);\n  const theme = useTheme();\n  \n  const handleCopy = () => {\n    navigator.clipboard.writeText(content)\n      .then(() => {\n        setCopied(true);\n        setTimeout(() => setCopied(false), 2000);\n      })\n      .catch(err => console.error('Failed to copy:', err));\n  };\n  \n  // Simple syntax highlighting styles - in a real app, use a proper syntax highlighting library\n  const codeStyle = {\n    fontFamily: 'monospace',\n    whiteSpace: 'pre-wrap',\n    wordBreak: 'break-word',\n    padding: theme.spacing(2),\n    backgroundColor: theme.palette.mode === 'dark' ? '#1e1e1e' : '#f5f5f5',\n    color: theme.palette.mode === 'dark' ? '#d4d4d4' : '#333333',\n    borderRadius: 4,\n    overflowX: 'auto',\n    height: '100%'\n  };\n  \n  return (\n    <Box sx={{ position: 'relative', height: '100%' }}>\n      {error ? (\n        <PlaceholderDisplay error={error} fileType=\"code\" />\n      ) : (\n        <>\n          <Box sx={{ \n            position: 'absolute', \n            top: 8, \n            right: 8, \n            zIndex: 10,\n            display: 'flex'\n          }}>\n            <Tooltip title=\"Language: \">\n              <Box sx={{ \n                display: 'flex', \n                alignItems: 'center', \n                mr: 1, \n                px: 1, \n                py: 0.5, \n                borderRadius: 1, \n                bgcolor: 'background.paper',\n                fontSize: '0.75rem',\n                color: 'text.secondary',\n                border: '1px solid',\n                borderColor: 'divider'\n              }}>\n                <CodeIcon fontSize=\"inherit\" sx={{ mr: 0.5 }} />\n                {language || 'plaintext'}\n              </Box>\n            </Tooltip>\n            <Tooltip title={copied ? \"Copied!\" : \"Copy to clipboard\"}>\n              <IconButton \n                onClick={handleCopy} \n                size=\"small\"\n                color={copied ? \"success\" : \"default\"}\n              >\n                <ContentCopyIcon fontSize=\"small\" />\n              </IconButton>\n            </Tooltip>\n          </Box>\n          <Box sx={{ height: '100%', overflow: 'auto' }}>\n            <pre style={codeStyle}>\n              <code>\n                {content || '// No content available'}\n              </code>\n            </pre>\n          </Box>\n        </>\n      )}\n    </Box>\n  );\n};\n\n/**\n * FilePreview component - Universal file preview component\n * @component\n */\nconst FilePreview = ({\n  file,\n  url,\n  content,\n  mimeType,\n  filename,\n  maxHeight,\n  fullWidth,\n  showToolbar,\n  onDownload,\n  isLoading,\n  error\n}) => {\n  const [expanded, setExpanded] = useState(false);\n  const [activeTab, setActiveTab] = useState(0);\n  const [previewError, setPreviewError] = useState(error || null);\n  const [fileMetadata, setFileMetadata] = useState(null);\n  \n  // Generate file metadata\n  useEffect(() => {\n    const fileObj = file || { \n      name: filename, \n      type: mimeType, \n      url: url \n    };\n    setFileMetadata(generateFileMetadata(fileObj));\n  }, [file, filename, mimeType, url]);\n  \n  // Reset error state when props change\n  useEffect(() => {\n    setPreviewError(error || null);\n  }, [error, url, content, file]);\n  \n  if (!fileMetadata) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', py: 4 }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n  \n  // Determine preview type\n  const previewType = getPreviewType(fileMetadata.mimeType);\n  \n  // Handle image load error\n  const handleImageError = () => {\n    setPreviewError('Failed to load image');\n  };\n  \n  // Handle download\n  const handleDownload = () => {\n    if (onDownload) {\n      onDownload();\n    } else if (url) {\n      // Create a temporary anchor and trigger download\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = fileMetadata.filename || 'download';\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    }\n  };\n  \n  // Toggle fullscreen mode\n  const toggleExpanded = () => {\n    setExpanded(!expanded);\n  };\n  \n  // Handle tab change\n  const handleTabChange = (event, newValue) => {\n    setActiveTab(newValue);\n  };\n  \n  // Determine if there's something to preview\n  const hasPreview = isPreviewSupported(fileMetadata.mimeType) && (url || content);\n  \n  const previewHeight = expanded ? '80vh' : (maxHeight || '400px');\n  \n  // Render preview based on file type\n  const renderPreview = () => {\n    if (isLoading) {\n      return (\n        <Box \n          sx={{ \n            display: 'flex', \n            justifyContent: 'center', \n            alignItems: 'center', \n            height: '100%' \n          }}\n        >\n          <CircularProgress />\n        </Box>\n      );\n    }\n    \n    if (previewError || !hasPreview) {\n      return (\n        <PlaceholderDisplay \n          error={previewError} \n          fileType={fileMetadata.description}\n          onDownload={handleDownload} \n        />\n      );\n    }\n    \n    switch (previewType) {\n      case 'image':\n        return (\n          <ImagePreview \n            url={url} \n            alt={fileMetadata.filename}\n            onError={handleImageError}\n            error={previewError}\n          />\n        );\n        \n      case 'pdf':\n        return (\n          <PDFPreview \n            url={url} \n            error={previewError}\n          />\n        );\n        \n      case 'code':\n        return (\n          <CodePreview \n            content={content} \n            language={getSyntaxHighlightLanguage(fileMetadata.mimeType)}\n            error={previewError}\n          />\n        );\n        \n      case 'text':\n        return (\n          <TextPreview \n            content={content} \n            mimeType={fileMetadata.mimeType}\n            error={previewError}\n          />\n        );\n        \n      default:\n        return (\n          <PlaceholderDisplay \n            fileType={fileMetadata.description}\n            onDownload={handleDownload} \n          />\n        );\n    }\n  };\n  \n  // Render content based on active tab\n  const renderTabContent = () => {\n    if (activeTab === 0) {\n      return renderPreview();\n    }\n    \n    if (activeTab === 1) {\n      // File details tab\n      return (\n        <Box sx={{ p: 2 }}>\n          <Typography variant=\"h6\" gutterBottom>\n            File Information\n          </Typography>\n          \n          <Box sx={{ display: 'grid', gridTemplateColumns: '1fr 2fr', gap: 1 }}>\n            <Typography variant=\"subtitle2\">Filename:</Typography>\n            <Typography variant=\"body2\">{fileMetadata.filename}</Typography>\n            \n            <Typography variant=\"subtitle2\">Type:</Typography>\n            <Typography variant=\"body2\">{fileMetadata.description}</Typography>\n            \n            <Typography variant=\"subtitle2\">MIME Type:</Typography>\n            <Typography variant=\"body2\" sx={{ fontFamily: 'monospace' }}>\n              {fileMetadata.mimeType}\n            </Typography>\n            \n            <Typography variant=\"subtitle2\">Size:</Typography>\n            <Typography variant=\"body2\">\n              {formatFileSize(fileMetadata.size)}\n            </Typography>\n            \n            {fileMetadata.lastModified && (\n              <>\n                <Typography variant=\"subtitle2\">Last Modified:</Typography>\n                <Typography variant=\"body2\">\n                  {new Date(fileMetadata.lastModified).toLocaleString()}\n                </Typography>\n              </>\n            )}\n            \n            <Typography variant=\"subtitle2\">Preview Status:</Typography>\n            <Typography variant=\"body2\">\n              {fileMetadata.isPreviewable \n                ? 'Preview available' \n                : 'Preview not supported for this file type'}\n            </Typography>\n          </Box>\n        </Box>\n      );\n    }\n    \n    return null;\n  };\n  \n  // Format file size\n  const formatFileSize = (bytes) => {\n    if (bytes === 0) return '0 Bytes';\n    \n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    \n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n  \n  // Icon based on file type\n  const getFileTypeIcon = () => {\n    switch (fileMetadata.previewType) {\n      case 'code':\n        return <CodeIcon />;\n      case 'text':\n        if (fileMetadata.mimeType === 'text/csv' || fileMetadata.mimeType === 'text/tab-separated-values') {\n          return <TableViewIcon />;\n        }\n        if (fileMetadata.mimeType === 'application/json') {\n          return <DataObjectIcon />;\n        }\n        return <TextFieldsIcon />;\n      default:\n        return <TerminalIcon />;\n    }\n  };\n  \n  return (\n    <Paper \n      variant=\"outlined\" \n      sx={{ \n        height: previewHeight, \n        width: fullWidth ? '100%' : 'auto',\n        display: 'flex',\n        flexDirection: 'column',\n        overflow: 'hidden',\n        transition: 'height 0.3s ease'\n      }}\n    >\n      {/* Preview toolbar */}\n      {showToolbar && (\n        <>\n          <Box \n            sx={{ \n              display: 'flex', \n              alignItems: 'center', \n              justifyContent: 'space-between',\n              px: 2,\n              py: 1,\n              borderBottom: 1,\n              borderColor: 'divider'\n            }}\n          >\n            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n              <Box sx={{ mr: 1, display: 'flex', alignItems: 'center' }}>\n                {getFileTypeIcon()}\n              </Box>\n              <Typography variant=\"subtitle1\" noWrap sx={{ maxWidth: '300px' }}>\n                {fileMetadata.filename}\n              </Typography>\n            </Box>\n            \n            <Box>\n              <Tooltip title=\"Download\">\n                <IconButton onClick={handleDownload} size=\"small\">\n                  <DownloadIcon />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title={expanded ? \"Exit Fullscreen\" : \"Fullscreen\"}>\n                <IconButton onClick={toggleExpanded} size=\"small\">\n                  {expanded ? <FullscreenExitIcon /> : <FullscreenIcon />}\n                </IconButton>\n              </Tooltip>\n            </Box>\n          </Box>\n          \n          <Tabs \n            value={activeTab} \n            onChange={handleTabChange}\n            sx={{ px: 2, borderBottom: 1, borderColor: 'divider' }}\n          >\n            <Tab label=\"Preview\" />\n            <Tab label=\"Details\" />\n          </Tabs>\n        </>\n      )}\n      \n      {/* Preview content */}\n      <Box sx={{ flexGrow: 1, overflow: 'auto' }}>\n        {renderTabContent()}\n      </Box>\n    </Paper>\n  );\n};\n\nFilePreview.propTypes = {\n  file: PropTypes.object,\n  url: PropTypes.string,\n  content: PropTypes.string,\n  mimeType: PropTypes.string,\n  filename: PropTypes.string,\n  maxHeight: PropTypes.string,\n  fullWidth: PropTypes.bool,\n  showToolbar: PropTypes.bool,\n  onDownload: PropTypes.func,\n  isLoading: PropTypes.bool,\n  error: PropTypes.oneOfType([PropTypes.string, PropTypes.bool])\n};\n\nFilePreview.defaultProps = {\n  maxHeight: '400px',\n  fullWidth: true,\n  showToolbar: true,\n  isLoading: false\n};\n\nexport default FilePreview;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}