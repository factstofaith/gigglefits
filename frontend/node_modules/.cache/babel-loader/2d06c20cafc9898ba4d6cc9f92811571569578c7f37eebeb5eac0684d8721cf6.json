{"ast":null,"code":"/**\n * Webhook Configuration Component\n *\n * A comprehensive component for configuring webhook endpoints with security\n * options, payload validation, and testing capabilities.\n *\n * @component\n */import React,{useState,useCallback,useEffect}from'react';import{Box,Button,Card,CardContent,Collapse,Divider,Grid,IconButton,InputAdornment,ListItemIcon,ListItemText,Menu,MenuItem,Paper,Tab,Tabs,TextField,Typography,Alert,AlertTitle,FormControl,FormControlLabel,Radio,RadioGroup,Select,InputLabel,FormHelperText,Switch,Tooltip,CircularProgress,Chip,List,ListItem,Drawer,Slider}from'@mui/material';import{Add as AddIcon,Check as CheckIcon,Close as CloseIcon,Delete as DeleteIcon,Edit as EditIcon,Refresh as RefreshIcon,Code as CodeIcon,Security as SecurityIcon,Settings as SettingsIcon,PlayArrow as PlayIcon,ReceiptLong as WebhookIcon,ContentCopy as CopyIcon,Visibility as VisibilityIcon,VisibilityOff as VisibilityOffIcon,HelpOutline as HelpIcon,Warning as WarningIcon,KeyboardArrowDown as KeyboardArrowDownIcon,KeyboardArrowUp as KeyboardArrowUpIcon,Save as SaveIcon,History as HistoryIcon,Send as SendIcon,Autorenew as AutorenewIcon,CloudDownload as CloudDownloadIcon,Timeline as TimelineIcon,Speed as SpeedIcon,BookmarkAdd as SaveTemplateIcon}from'@mui/icons-material';/**\n * Webhook Configuration Component\n * \n * @param {Object} props - Component props\n * @returns {JSX.Element} The Webhook Configuration component\n */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const WebhookConfiguration=_ref=>{let{value={},onChange=()=>{},onTest=()=>{},disabled=false}=_ref;// Configuration state\nconst[config,setConfig]=useState({name:'',description:'',endpointId:'',// Auto-generated or custom\nsecurity:{type:'none',token:{value:'',headerName:'X-Webhook-Token'},hmac:{secret:'',algorithm:'sha256',headerName:'X-Webhook-Signature'},basicAuth:{username:'',password:''}},validation:{enabled:false,schema:'',requiredFields:[],strictMode:false,failOnError:true,responseCode:422,errorFormat:'json'},rateLimit:{enabled:false,maxRequests:100,timeWindow:60// seconds\n},preprocessors:[],// Array of functions to run before processing the webhook\n...value});// UI State\nconst[activeTab,setActiveTab]=useState(0);const[testResults,setTestResults]=useState(null);const[testingInProgress,setTestingInProgress]=useState(false);const[error,setError]=useState(null);const[showSecrets,setShowSecrets]=useState({});const[advancedSettingsOpen,setAdvancedSettingsOpen]=useState(false);const[showJsonEditor,setShowJsonEditor]=useState(false);const[rawJson,setRawJson]=useState('');const[jsonError,setJsonError]=useState(null);const[requiredFieldToAdd,setRequiredFieldToAdd]=useState('');// Test request state\nconst[testRequestDrawerOpen,setTestRequestDrawerOpen]=useState(false);const[testRequest,setTestRequest]=useState({payload:JSON.stringify({test:'data'},null,2),headers:[{key:'Content-Type',value:'application/json'}]});// Webhook simulator state\nconst[simulatorOpen,setSimulatorOpen]=useState(false);const[simulatedPayload,setSimulatedPayload]=useState(null);const[simulationOptions,setSimulationOptions]=useState({eventType:'order.created',randomizeData:true,delayMs:0,simulateError:false,errorRate:0});// Webhook request history for testing\nconst[requestHistory,setRequestHistory]=useState([]);const[historyMenuAnchor,setHistoryMenuAnchor]=useState(null);// Template management for test requests\nconst[templates,setTemplates]=useState([{id:'default',name:'Default Request',payload:JSON.stringify({test:'data'},null,2),headers:[{key:'Content-Type',value:'application/json'}]},{id:'order-created',name:'Order Created Event',payload:JSON.stringify({event:'order.created',data:{id:'1234567890',customer_id:'cust_9876543',amount:99.99,currency:'USD',items:[{product_id:'prod_123',quantity:1,price:79.99},{product_id:'prod_456',quantity:2,price:9.99}],created_at:new Date().toISOString()}},null,2),headers:[{key:'Content-Type',value:'application/json'},{key:'X-Event-Type',value:'order.created'}]},{id:'user-registered',name:'User Registered Event',payload:JSON.stringify({event:'user.registered',data:{id:'user_12345',email:'user@example.com',name:'John Doe',created_at:new Date().toISOString()}},null,2),headers:[{key:'Content-Type',value:'application/json'},{key:'X-Event-Type',value:'user.registered'}]}]);const[templatesMenuAnchor,setTemplatesMenuAnchor]=useState(null);const[testResultsTabIndex,setTestResultsTabIndex]=useState(0);// Initialize raw JSON when config changes\nuseEffect(()=>{try{setRawJson(JSON.stringify(config,null,2));}catch(e){console.error('Error stringifying config:',e);}},[config]);// Update parent component with config changes\nuseEffect(()=>{onChange(config);},[config,onChange]);// Generate a random endpoint ID if one isn't set\nuseEffect(()=>{if(!config.endpointId){const randomId=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);setConfig(prev=>({...prev,endpointId:randomId}));}},[config.endpointId]);/**\n   * Handle change in basic configuration fields\n   * \n   * @param {string} field - Field name\n   * @param {any} value - New value\n   */const handleChange=useCallback((field,value)=>{setConfig(prev=>({...prev,[field]:value}));},[]);/**\n   * Handle change in security settings\n   * \n   * @param {string} securityType - Security type\n   * @param {string} field - Field name\n   * @param {any} value - New value\n   */const handleSecurityChange=useCallback((securityType,field,value)=>{setConfig(prev=>({...prev,security:{...prev.security,[securityType]:{...prev.security[securityType],[field]:value}}}));},[]);/**\n   * Handle change in validation settings\n   * \n   * @param {string} field - Field name\n   * @param {any} value - New value\n   */const handleValidationChange=useCallback((field,value)=>{setConfig(prev=>({...prev,validation:{...prev.validation,[field]:value}}));},[]);/**\n   * Handle change in rate limit settings\n   * \n   * @param {string} field - Field name\n   * @param {any} value - New value\n   */const handleRateLimitChange=useCallback((field,value)=>{setConfig(prev=>({...prev,rateLimit:{...prev.rateLimit,[field]:value}}));},[]);/**\n   * Handle adding a required field\n   */const handleAddRequiredField=useCallback(()=>{if(!requiredFieldToAdd.trim()){setError('Field name cannot be empty');return;}setConfig(prev=>({...prev,validation:{...prev.validation,requiredFields:[...prev.validation.requiredFields,requiredFieldToAdd.trim()]}}));setRequiredFieldToAdd('');setError(null);},[requiredFieldToAdd]);/**\n   * Handle removing a required field\n   * \n   * @param {number} index - Index of the field to remove\n   */const handleRemoveRequiredField=useCallback(index=>{setConfig(prev=>({...prev,validation:{...prev.validation,requiredFields:prev.validation.requiredFields.filter((_,i)=>i!==index)}}));},[]);/**\n   * Toggle showing secret values\n   * \n   * @param {string} field - Field name\n   */const toggleSecretVisibility=useCallback(field=>{setShowSecrets(prev=>({...prev,[field]:!prev[field]}));},[]);/**\n   * Handle security type change\n   * \n   * @param {Event} event - Change event\n   */const handleSecurityTypeChange=useCallback(event=>{const newSecurityType=event.target.value;setConfig(prev=>({...prev,security:{...prev.security,type:newSecurityType}}));},[]);/**\n   * Handle JSON editor change\n   * \n   * @param {Event} event - Change event\n   */const handleJsonChange=useCallback(event=>{const newJson=event.target.value;setRawJson(newJson);setJsonError(null);try{JSON.parse(newJson);}catch(e){setJsonError(e.message);}},[]);/**\n   * Apply changes from JSON editor\n   */const applyJsonChanges=useCallback(()=>{try{const newConfig=JSON.parse(rawJson);setConfig(newConfig);setJsonError(null);setShowJsonEditor(false);}catch(e){setJsonError(e.message);}},[rawJson]);/**\n   * Generate a new endpoint ID\n   */const regenerateEndpointId=useCallback(()=>{const randomId=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);setConfig(prev=>({...prev,endpointId:randomId}));},[]);/**\n   * Generate webhook URL from endpoint ID\n   * \n   * @returns {string} The full webhook URL\n   */const getWebhookUrl=useCallback(()=>{// In production this would use environment variables or a configuration system\nconst baseUrl='https://api.example.com/webhooks';// Check if we have an environment-specific path, such as dev, staging, etc.\nconst envSuffix=process.env.NODE_ENV==='production'?'':`-${process.env.NODE_ENV||'dev'}`;// Create a deterministic but unique URL based on configuration properties\n// This ensures consistency across sessions while allowing for unique endpoints\nconst customPath=config.name?`/${encodeURIComponent(config.name.toLowerCase().replace(/[^a-z0-9]/g,'-'))}`:'';return`${baseUrl}${customPath}${envSuffix}/${config.endpointId}`;},[config.name,config.endpointId]);/**\n   * Copy webhook URL to clipboard\n   */const copyWebhookUrl=useCallback(()=>{const url=getWebhookUrl();navigator.clipboard.writeText(url);},[getWebhookUrl]);/**\n   * Handle test request payload change\n   * \n   * @param {Event} event - Change event\n   */const handleTestPayloadChange=useCallback(event=>{const newPayload=event.target.value;setTestRequest(prev=>({...prev,payload:newPayload}));},[]);/**\n   * Add a header to the test request\n   * \n   * @param {Object} header - Header object with key and value\n   */const handleAddTestHeader=useCallback(function(){let header=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{key:'',value:''};setTestRequest(prev=>({...prev,headers:[...prev.headers,header]}));},[]);/**\n   * Update a test request header\n   * \n   * @param {number} index - Index of the header to update\n   * @param {string} field - Field to update (key or value)\n   * @param {string} value - New value\n   */const handleUpdateTestHeader=useCallback((index,field,value)=>{setTestRequest(prev=>({...prev,headers:prev.headers.map((header,i)=>i===index?{...header,[field]:value}:header)}));},[]);/**\n   * Remove a header from the test request\n   * \n   * @param {number} index - Index of the header to remove\n   */const handleRemoveTestHeader=useCallback(index=>{setTestRequest(prev=>({...prev,headers:prev.headers.filter((_,i)=>i!==index)}));},[]);/**\n   * Send a test webhook request\n   */const sendTestRequest=useCallback(async()=>{setTestingInProgress(true);setTestResults(null);setError(null);try{var _validationDetails$va,_validationDetails,_validationDetails2;// Validate the payload is proper JSON\nlet parsedPayload;try{parsedPayload=JSON.parse(testRequest.payload);}catch(e){throw new Error('Invalid JSON payload: '+e.message);}// In a real implementation, this would send a request to your test endpoint\nconsole.log('Sending test webhook request:',{url:getWebhookUrl(),headers:testRequest.headers,payload:parsedPayload});// Simulating API call with a timeout\nawait new Promise(resolve=>setTimeout(resolve,1200));// Create timeline information\nconst timeline=[{stage:'received',timestamp:new Date().toISOString(),durationMs:0,// Initial event\ndetails:'Request received by webhook endpoint'},{stage:'authentication',timestamp:new Date(Date.now()+50).toISOString(),durationMs:50,details:config.security.type!=='none'?`Authentication using ${config.security.type}`:'No authentication configured'},{stage:'validation',timestamp:new Date(Date.now()+150).toISOString(),durationMs:100,details:config.validation.enabled?'Validating payload against JSON schema':'Validation not enabled'}];// Add processing stages\ntimeline.push({stage:'processing',timestamp:new Date(Date.now()+250).toISOString(),durationMs:100,details:'Processing webhook payload'});// Add rate limiting if enabled\nif(config.rateLimit.enabled){timeline.push({stage:'rateLimit',timestamp:new Date(Date.now()+270).toISOString(),durationMs:20,details:`Rate limit check (${config.rateLimit.maxRequests}/${config.rateLimit.timeWindow}s)`});}// Add completion stage\nconst processingTime=Math.floor(Math.random()*300)+200;// Simulate 200-500ms processing time\ntimeline.push({stage:'completed',timestamp:new Date(Date.now()+processingTime).toISOString(),durationMs:processingTime-270,details:'Webhook processing completed successfully'});// Performance metrics\nconst performanceMetrics={totalTime:processingTime,breakdowns:[{stage:'Authentication',timeMs:50,percentage:Math.round(50/processingTime*100)},{stage:'Validation',timeMs:100,percentage:Math.round(100/processingTime*100)},{stage:'Processing',timeMs:processingTime-150,percentage:Math.round((processingTime-150)/processingTime*100)}],bottlenecks:config.validation.enabled&&config.validation.schema?['Schema validation is the most time-consuming stage']:[]};// Create a new history entry\nconst historyEntry={timestamp:new Date(),payload:parsedPayload,headers:testRequest.headers,id:Math.random().toString(36).substring(2,9),timeline,performanceMetrics};// Add to request history\nsetRequestHistory(prev=>[historyEntry,...prev].slice(0,10));// Simulate validation if schema validation is enabled\nlet validationDetails=null;if(config.validation.enabled&&config.validation.schema){try{var _schema$required$ever,_schema$required,_schema$required2;// In a real implementation, this would use a JSON Schema validator library\nconst schema=JSON.parse(config.validation.schema);const parsedPayload=JSON.parse(testRequest.payload);// Simulate validation results - in this case a simple check\n// to see if required properties exist in the payload\nconst valid=(_schema$required$ever=(_schema$required=schema.required)===null||_schema$required===void 0?void 0:_schema$required.every(field=>typeof parsedPayload[field]!=='undefined'))!==null&&_schema$required$ever!==void 0?_schema$required$ever:true;validationDetails={valid,schema:schema,errors:valid?[]:[{instancePath:\"\",schemaPath:\"#/required\",keyword:\"required\",params:{missingProperty:(_schema$required2=schema.required)===null||_schema$required2===void 0?void 0:_schema$required2.find(field=>typeof parsedPayload[field]==='undefined')},message:\"must have required property\"}]};}catch(e){// If there's an error parsing the schema, set validation as failed\nvalidationDetails={valid:false,schema:config.validation.schema,errors:[{message:`Error parsing schema: ${e.message}`}]};}}// Create a success result with validation information\nconst result={success:true,message:'Test webhook request sent successfully',receivedAt:new Date().toISOString(),validationPassed:(_validationDetails$va=(_validationDetails=validationDetails)===null||_validationDetails===void 0?void 0:_validationDetails.valid)!==null&&_validationDetails$va!==void 0?_validationDetails$va:true,processingTime,details:{endpoint:getWebhookUrl(),securityChecks:config.security.type!=='none'?'Passed':'Not configured',validationChecks:config.validation.enabled?(_validationDetails2=validationDetails)!==null&&_validationDetails2!==void 0&&_validationDetails2.valid?'Passed':'Failed':'Not enabled',rateLimiting:config.rateLimit.enabled?'Active':'Not enabled'},// Include validation details if available\nvalidationDetails,// Include timeline for request processing visualization\ntimeline,// Include performance metrics\nperformanceMetrics};setTestResults(result);}catch(err){setError(err.message||'Error sending test webhook request');setTestResults({success:false,message:err.message||'Unknown error'});}finally{setTestingInProgress(false);}},[testRequest,getWebhookUrl,config.security.type,config.validation.enabled,config.rateLimit.enabled]);/**\n   * Load a historical request into the test form\n   * \n   * @param {Object} historyItem - Request history item\n   */const loadHistoryItem=useCallback(historyItem=>{setTestRequest({payload:JSON.stringify(historyItem.payload,null,2),headers:[...historyItem.headers]});setHistoryMenuAnchor(null);},[]);/**\n   * Load a template into the test form\n   * \n   * @param {Object} template - Request template\n   */const loadTemplateItem=useCallback(template=>{setTestRequest({payload:template.payload,headers:[...template.headers]});setTemplatesMenuAnchor(null);},[]);/**\n   * Save current request as a template\n   */const saveAsTemplate=useCallback(()=>{// Create a simple dialog to enter template name (In a real app, this would be a proper form dialog)\nconst templateName=prompt('Enter a name for this template','My Template');if(!templateName)return;const newTemplate={id:`template-${Date.now()}`,name:templateName,payload:testRequest.payload,headers:[...testRequest.headers]};setTemplates(prev=>[...prev,newTemplate]);},[testRequest]);/**\n   * Generate a simulated webhook payload\n   */const generateSimulatedPayload=useCallback(()=>{// Create a simulated payload based on the selected event type\nconst timestamp=new Date().toISOString();const randomId=Math.random().toString(36).substring(2,15);let payload;switch(simulationOptions.eventType){case'order.created':payload={event:'order.created',data:{id:simulationOptions.randomizeData?`order_${randomId}`:'order_123456',customer_id:simulationOptions.randomizeData?`cust_${randomId.substring(0,8)}`:'cust_9876543',amount:simulationOptions.randomizeData?Math.round(Math.random()*10000)/100:99.99,currency:'USD',items:[{product_id:simulationOptions.randomizeData?`prod_${randomId.substring(0,6)}`:'prod_123',quantity:simulationOptions.randomizeData?Math.floor(Math.random()*5)+1:1,price:simulationOptions.randomizeData?Math.round(Math.random()*10000)/100:79.99},{product_id:simulationOptions.randomizeData?`prod_${randomId.substring(6,12)}`:'prod_456',quantity:simulationOptions.randomizeData?Math.floor(Math.random()*3)+1:2,price:simulationOptions.randomizeData?Math.round(Math.random()*1000)/100:9.99}],created_at:timestamp}};break;case'user.registered':payload={event:'user.registered',data:{id:simulationOptions.randomizeData?`user_${randomId}`:'user_12345',email:simulationOptions.randomizeData?`user_${randomId.substring(0,6)}@example.com`:'user@example.com',name:'John Doe',created_at:timestamp}};break;case'payment.succeeded':payload={event:'payment.succeeded',data:{id:simulationOptions.randomizeData?`payment_${randomId}`:'payment_12345',order_id:simulationOptions.randomizeData?`order_${randomId.substring(0,8)}`:'order_123456',amount:simulationOptions.randomizeData?Math.round(Math.random()*10000)/100:99.99,currency:'USD',payment_method:'credit_card',created_at:timestamp}};break;default:payload={event:simulationOptions.eventType,data:{id:randomId,timestamp}};}// If error simulation is enabled, randomly determine if it should fail\nif(simulationOptions.simulateError&&Math.random()<simulationOptions.errorRate/100){// Simulate error by removing required fields or adding invalid data\nif(payload.data){delete payload.data.id;// Remove a required field to cause validation error\n}}return payload;},[simulationOptions]);/**\n   * Start webhook simulator\n   */const startSimulator=useCallback(async()=>{setSimulatorOpen(false);setTestingInProgress(true);setTestResults(null);setError(null);try{// Generate a simulated payload\nconst payload=generateSimulatedPayload();setSimulatedPayload(payload);// Create headers for the simulated request\nconst headers=[{key:'Content-Type',value:'application/json'},{key:'X-Event-Type',value:simulationOptions.eventType}];// Update the test request to show the simulated data\nsetTestRequest({payload:JSON.stringify(payload,null,2),headers});// Apply delay if specified\nif(simulationOptions.delayMs>0){await new Promise(resolve=>setTimeout(resolve,simulationOptions.delayMs));}// Now send the test request as normal\nsendTestRequest();}catch(err){setError(err.message||'Error simulating webhook request');setTestingInProgress(false);}},[simulationOptions,generateSimulatedPayload,sendTestRequest]);// Security type options\nconst securityTypes=[{value:'none',label:'No Security'},{value:'token',label:'Static Token'},{value:'hmac',label:'HMAC Signature'},{value:'basicAuth',label:'Basic Authentication'}];// HMAC algorithm options\nconst hmacAlgorithms=[{value:'sha256',label:'SHA-256'},{value:'sha384',label:'SHA-384'},{value:'sha512',label:'SHA-512'}];return/*#__PURE__*/_jsxs(Card,{variant:\"outlined\",children:[/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",component:\"div\",sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(WebhookIcon,{sx:{mr:1}}),\"Webhook Configuration\"]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Test Webhook\",children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(IconButton,{onClick:()=>setTestRequestDrawerOpen(true),disabled:disabled||!config.endpointId,color:\"primary\",children:/*#__PURE__*/_jsx(PlayIcon,{})})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Webhook Simulator\",children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(IconButton,{onClick:()=>setSimulatorOpen(true),disabled:disabled||!config.endpointId,color:\"primary\",children:/*#__PURE__*/_jsx(AutorenewIcon,{})})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Show JSON Editor\",children:/*#__PURE__*/_jsx(IconButton,{onClick:()=>setShowJsonEditor(!showJsonEditor),color:showJsonEditor?'primary':'default',children:/*#__PURE__*/_jsx(CodeIcon,{})})})]})]}),showJsonEditor?/*#__PURE__*/_jsx(Box,{sx:{mb:3},children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,rows:20,label:\"Configuration JSON\",value:rawJson,onChange:handleJsonChange,error:!!jsonError,helperText:jsonError,sx:{fontFamily:'monospace'},InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(Button,{onClick:applyJsonChanges,disabled:!!jsonError,variant:\"contained\",startIcon:/*#__PURE__*/_jsx(SaveIcon,{}),children:\"Apply\"})})}})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Tabs,{value:activeTab,onChange:(e,newValue)=>setActiveTab(newValue),sx:{borderBottom:1,borderColor:'divider',mb:3},children:[/*#__PURE__*/_jsx(Tab,{label:\"Basic\"}),/*#__PURE__*/_jsx(Tab,{label:\"Security\"}),/*#__PURE__*/_jsx(Tab,{label:\"Validation\"}),/*#__PURE__*/_jsx(Tab,{label:\"Advanced\"})]}),/*#__PURE__*/_jsx(Box,{sx:{display:activeTab===0?'block':'none'},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Webhook Name\",value:config.name,onChange:e=>handleChange('name',e.target.value),disabled:disabled,helperText:\"A descriptive name for this webhook\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,rows:2,label:\"Description\",value:config.description,onChange:e=>handleChange('description',e.target.value),disabled:disabled,helperText:\"A description of this webhook's purpose\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"Webhook Endpoint\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Endpoint ID\",value:config.endpointId,onChange:e=>handleChange('endpointId',e.target.value),disabled:disabled,InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(Tooltip,{title:\"Regenerate Endpoint ID\",children:/*#__PURE__*/_jsx(IconButton,{onClick:regenerateEndpointId,edge:\"end\",disabled:disabled,children:/*#__PURE__*/_jsx(AutorenewIcon,{})})})})}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(CopyIcon,{}),onClick:copyWebhookUrl,disabled:disabled||!config.endpointId,children:\"Copy URL\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,variant:\"filled\",label:\"Webhook URL\",value:getWebhookUrl(),InputProps:{readOnly:true}})})]})]})})]})}),/*#__PURE__*/_jsx(Box,{sx:{display:activeTab===1?'block':'none'},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsxs(Alert,{severity:\"info\",sx:{mb:3},children:[/*#__PURE__*/_jsx(AlertTitle,{children:\"Security Recommendation\"}),\"We recommend implementing security for your webhook to ensure that only authorized systems can send requests to your endpoint.\"]}),/*#__PURE__*/_jsxs(FormControl,{component:\"fieldset\",sx:{mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Security Method\"}),/*#__PURE__*/_jsx(RadioGroup,{\"aria-label\":\"security-type\",name:\"security-type\",value:config.security.type,onChange:handleSecurityTypeChange,children:securityTypes.map(type=>/*#__PURE__*/_jsx(FormControlLabel,{value:type.value,control:/*#__PURE__*/_jsx(Radio,{disabled:disabled}),label:type.label},type.value))})]})]}),config.security.type==='token'&&/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"Static Token Validation\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",paragraph:true,children:\"A static token is sent with each request. The sender must include this token in a header.\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Token Header Name\",value:config.security.token.headerName,onChange:e=>handleSecurityChange('token','headerName',e.target.value),disabled:disabled,helperText:\"HTTP header name for the token\",placeholder:\"X-Webhook-Token\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Token Value\",type:showSecrets.token?'text':'password',value:config.security.token.value,onChange:e=>handleSecurityChange('token','value',e.target.value),disabled:disabled,helperText:\"Secret token value\",InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{onClick:()=>toggleSecretVisibility('token'),edge:\"end\",children:showSecrets.token?/*#__PURE__*/_jsx(VisibilityOffIcon,{}):/*#__PURE__*/_jsx(VisibilityIcon,{})})})}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>{const randomToken=Array.from(crypto.getRandomValues(new Uint8Array(32))).map(b=>b.toString(16).padStart(2,'0')).join('');handleSecurityChange('token','value',randomToken);},disabled:disabled,startIcon:/*#__PURE__*/_jsx(AutorenewIcon,{}),children:\"Generate Random Token\"})})]})]})}),config.security.type==='hmac'&&/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"HMAC Signature Validation\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",paragraph:true,children:\"The sender creates a hash signature of the payload using the shared secret. This provides stronger security by validating the message integrity.\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Signature Header Name\",value:config.security.hmac.headerName,onChange:e=>handleSecurityChange('hmac','headerName',e.target.value),disabled:disabled,helperText:\"HTTP header name for the signature\",placeholder:\"X-Webhook-Signature\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,disabled:disabled,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"HMAC Algorithm\"}),/*#__PURE__*/_jsx(Select,{value:config.security.hmac.algorithm,label:\"HMAC Algorithm\",onChange:e=>handleSecurityChange('hmac','algorithm',e.target.value),children:hmacAlgorithms.map(algorithm=>/*#__PURE__*/_jsx(MenuItem,{value:algorithm.value,children:algorithm.label},algorithm.value))}),/*#__PURE__*/_jsx(FormHelperText,{children:\"The hashing algorithm to use\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Secret Key\",type:showSecrets.hmacSecret?'text':'password',value:config.security.hmac.secret,onChange:e=>handleSecurityChange('hmac','secret',e.target.value),disabled:disabled,helperText:\"Secret key for HMAC signature generation\",InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{onClick:()=>toggleSecretVisibility('hmacSecret'),edge:\"end\",children:showSecrets.hmacSecret?/*#__PURE__*/_jsx(VisibilityOffIcon,{}):/*#__PURE__*/_jsx(VisibilityIcon,{})})})}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>{const randomSecret=Array.from(crypto.getRandomValues(new Uint8Array(32))).map(b=>b.toString(16).padStart(2,'0')).join('');handleSecurityChange('hmac','secret',randomSecret);},disabled:disabled,startIcon:/*#__PURE__*/_jsx(AutorenewIcon,{}),children:\"Generate Random Secret\"})})]})]})}),config.security.type==='basicAuth'&&/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"Basic Authentication\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",paragraph:true,children:\"The sender must provide basic HTTP authentication credentials with each request.\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Username\",value:config.security.basicAuth.username,onChange:e=>handleSecurityChange('basicAuth','username',e.target.value),disabled:disabled,helperText:\"Basic Auth username\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Password\",type:showSecrets.basicAuthPassword?'text':'password',value:config.security.basicAuth.password,onChange:e=>handleSecurityChange('basicAuth','password',e.target.value),disabled:disabled,helperText:\"Basic Auth password\",InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{onClick:()=>toggleSecretVisibility('basicAuthPassword'),edge:\"end\",children:showSecrets.basicAuthPassword?/*#__PURE__*/_jsx(VisibilityOffIcon,{}):/*#__PURE__*/_jsx(VisibilityIcon,{})})})}})})]})]})}),config.security.type==='none'&&/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Alert,{severity:\"warning\",children:[/*#__PURE__*/_jsx(AlertTitle,{children:\"No Security Configured\"}),\"Your webhook endpoint will accept requests from any source without validation. This is not recommended for production environments.\"]})})]})}),/*#__PURE__*/_jsx(Box,{sx:{display:activeTab===2?'block':'none'},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:config.validation.enabled,onChange:e=>handleValidationChange('enabled',e.target.checked),disabled:disabled}),label:\"Enable Payload Validation\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Collapse,{in:config.validation.enabled,children:/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"Required Fields\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",paragraph:true,children:\"Specify fields that must be present in the webhook payload.\"}),config.validation.requiredFields.length>0?/*#__PURE__*/_jsx(Box,{sx:{mb:2},children:config.validation.requiredFields.map((field,index)=>/*#__PURE__*/_jsx(Chip,{label:field,onDelete:()=>handleRemoveRequiredField(index),disabled:disabled,sx:{m:0.5}},index))}):/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:2},children:\"No required fields configured.\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,size:\"small\",label:\"Field Path\",value:requiredFieldToAdd,onChange:e=>setRequiredFieldToAdd(e.target.value),disabled:disabled||!config.validation.enabled,placeholder:\"data.id\",helperText:\"JSON path to a required field (e.g., 'data.id')\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:handleAddRequiredField,disabled:disabled||!config.validation.enabled||!requiredFieldToAdd.trim(),startIcon:/*#__PURE__*/_jsx(AddIcon,{}),children:\"Add\"})})]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Collapse,{in:config.validation.enabled,children:/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"JSON Schema Validation\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",paragraph:true,children:\"Provide a JSON Schema to validate the structure and data types of incoming webhooks.\"}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,rows:10,label:\"JSON Schema\",value:config.validation.schema,onChange:e=>handleValidationChange('schema',e.target.value),disabled:disabled||!config.validation.enabled,placeholder:`{\n  \"type\": \"object\",\n  \"required\": [\"data\"],\n  \"properties\": {\n    \"data\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"id\": { \"type\": \"string\" },\n        \"type\": { \"type\": \"string\" }\n      }\n    }\n  }\n}`,sx:{fontFamily:'monospace',mb:2},error:(()=>{try{if(!config.validation.schema)return false;JSON.parse(config.validation.schema);return false;}catch(e){return true;}})(),helperText:(()=>{try{if(!config.validation.schema)return\"Enter a JSON Schema to validate webhook payloads\";JSON.parse(config.validation.schema);return\"Valid JSON Schema\";}catch(e){return`Invalid JSON: ${e.message}`;}})()}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',mt:2},children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>{handleValidationChange('schema',`{\n  \"type\": \"object\",\n  \"required\": [\"data\"],\n  \"properties\": {\n    \"data\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"id\": { \"type\": \"string\" },\n        \"type\": { \"type\": \"string\" },\n        \"attributes\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"name\": { \"type\": \"string\" },\n            \"created_at\": { \"type\": \"string\", \"format\": \"date-time\" }\n          }\n        }\n      },\n      \"required\": [\"id\", \"type\"]\n    },\n    \"meta\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"request_id\": { \"type\": \"string\" }\n      }\n    }\n  }\n}`);},disabled:disabled||!config.validation.enabled,startIcon:/*#__PURE__*/_jsx(AddIcon,{}),children:\"Load Example Schema\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"secondary\",onClick:()=>handleValidationChange('schema',''),disabled:disabled||!config.validation.enabled||!config.validation.schema,startIcon:/*#__PURE__*/_jsx(CloseIcon,{}),children:\"Clear Schema\"})]}),/*#__PURE__*/_jsx(Divider,{sx:{my:3}}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"Schema Validation Options\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:config.validation.strictMode,onChange:e=>handleValidationChange('strictMode',e.target.checked),disabled:disabled||!config.validation.enabled}),label:\"Strict Mode\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",display:\"block\",color:\"text.secondary\",children:\"Reject payloads with additional properties not in schema\"})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:config.validation.failOnError,onChange:e=>handleValidationChange('failOnError',e.target.checked),disabled:disabled||!config.validation.enabled}),label:\"Fail on Error\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",display:\"block\",color:\"text.secondary\",children:\"Reject webhook completely if validation fails\"})]})]})]})]})})})]})}),/*#__PURE__*/_jsx(Box,{sx:{display:activeTab===3?'block':'none'},children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{p:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Rate Limiting\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:config.rateLimit.enabled,onChange:e=>handleRateLimitChange('enabled',e.target.checked),disabled:disabled}),label:\"Enable Rate Limiting\"})]}),/*#__PURE__*/_jsxs(Collapse,{in:config.rateLimit.enabled,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",paragraph:true,children:\"Limit the number of webhook requests that can be processed within a time window.\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,type:\"number\",label:\"Max Requests\",value:config.rateLimit.maxRequests,onChange:e=>handleRateLimitChange('maxRequests',parseInt(e.target.value,10)||100),disabled:disabled||!config.rateLimit.enabled,InputProps:{inputProps:{min:1}},helperText:\"Maximum number of requests allowed\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,type:\"number\",label:\"Time Window (seconds)\",value:config.rateLimit.timeWindow,onChange:e=>handleRateLimitChange('timeWindow',parseInt(e.target.value,10)||60),disabled:disabled||!config.rateLimit.enabled,InputProps:{inputProps:{min:1}},helperText:\"Time window in seconds\"})})]})]})]})})})})]}),error&&!testResults&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mt:3},onClose:()=>setError(null),children:error})]}),/*#__PURE__*/_jsxs(Drawer,{anchor:\"right\",open:simulatorOpen,onClose:()=>setSimulatorOpen(false),sx:{'& .MuiDrawer-paper':{width:'500px',maxWidth:'100%',p:2}},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Webhook Simulator\"}),/*#__PURE__*/_jsx(IconButton,{onClick:()=>setSimulatorOpen(false),children:/*#__PURE__*/_jsx(CloseIcon,{})})]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",paragraph:true,children:\"Generate webhook payloads based on common event types or create custom events. Simulated webhooks help test your endpoint's handling of different scenarios.\"}),/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Event Type\"}),/*#__PURE__*/_jsxs(Select,{fullWidth:true,value:simulationOptions.eventType,onChange:e=>setSimulationOptions(prev=>({...prev,eventType:e.target.value})),sx:{mb:2},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"order.created\",children:\"Order Created\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"user.registered\",children:\"User Registered\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"payment.succeeded\",children:\"Payment Succeeded\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"custom.event\",children:\"Custom Event\"})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Simulation Options\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:simulationOptions.randomizeData,onChange:e=>setSimulationOptions(prev=>({...prev,randomizeData:e.target.checked}))}),label:\"Randomize data values\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:simulationOptions.simulateError,onChange:e=>setSimulationOptions(prev=>({...prev,simulateError:e.target.checked}))}),label:\"Simulate validation errors\"}),simulationOptions.simulateError&&/*#__PURE__*/_jsxs(Box,{sx:{ml:4,mt:1,mb:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",gutterBottom:true,children:[\"Error rate: \",simulationOptions.errorRate,\"%\"]}),/*#__PURE__*/_jsx(Slider,{value:simulationOptions.errorRate,onChange:(e,newValue)=>setSimulationOptions(prev=>({...prev,errorRate:newValue})),min:0,max:100,step:5,valueLabelDisplay:\"auto\",valueLabelFormat:value=>`${value}%`})]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",gutterBottom:true,children:[\"Request delay: \",simulationOptions.delayMs,\"ms\"]}),/*#__PURE__*/_jsx(Slider,{value:simulationOptions.delayMs,onChange:(e,newValue)=>setSimulationOptions(prev=>({...prev,delayMs:newValue})),min:0,max:3000,step:100,valueLabelDisplay:\"auto\",valueLabelFormat:value=>`${value}ms`})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',mt:3},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setSimulatorOpen(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:startSimulator,disabled:testingInProgress,children:\"Start Simulation\"})]})]}),/*#__PURE__*/_jsxs(Drawer,{anchor:\"right\",open:testRequestDrawerOpen,onClose:()=>setTestRequestDrawerOpen(false),sx:{'& .MuiDrawer-paper':{width:'500px',maxWidth:'100%',p:2}},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Test Webhook\"}),/*#__PURE__*/_jsx(IconButton,{onClick:()=>setTestRequestDrawerOpen(false),children:/*#__PURE__*/_jsx(CloseIcon,{})})]}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"Request Headers\"}),/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{p:2,mb:3},children:[testRequest.headers.map((header,index)=>/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,alignItems:\"center\",sx:{mb:1},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:5,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,size:\"small\",label:\"Header\",value:header.key,onChange:e=>handleUpdateTestHeader(index,'key',e.target.value)})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,size:\"small\",label:\"Value\",value:header.value,onChange:e=>handleUpdateTestHeader(index,'value',e.target.value)})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:1,children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handleRemoveTestHeader(index),children:/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"small\"})})})]},index)),/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:()=>handleAddTestHeader(),size:\"small\",sx:{mt:1},children:\"Add Header\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Request Payload\"}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:e=>setTemplatesMenuAnchor(e.currentTarget),sx:{mr:1},children:/*#__PURE__*/_jsx(AddIcon,{})}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:e=>setHistoryMenuAnchor(e.currentTarget),disabled:requestHistory.length===0,children:/*#__PURE__*/_jsx(HistoryIcon,{})}),/*#__PURE__*/_jsxs(Menu,{anchorEl:templatesMenuAnchor,open:Boolean(templatesMenuAnchor),onClose:()=>setTemplatesMenuAnchor(null),children:[/*#__PURE__*/_jsx(MenuItem,{disabled:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"Request Templates\"})}),/*#__PURE__*/_jsx(Divider,{}),templates.map(template=>/*#__PURE__*/_jsxs(MenuItem,{onClick:()=>loadTemplateItem(template),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(AddIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:template.name,secondary:`Headers: ${template.headers.length}, Payload: ${template.payload.substring(0,30)}...`})]},template.id))]}),/*#__PURE__*/_jsxs(Menu,{anchorEl:historyMenuAnchor,open:Boolean(historyMenuAnchor),onClose:()=>setHistoryMenuAnchor(null),children:[/*#__PURE__*/_jsx(MenuItem,{disabled:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"Recent Requests\"})}),/*#__PURE__*/_jsx(Divider,{}),requestHistory.map((item,index)=>/*#__PURE__*/_jsxs(MenuItem,{onClick:()=>loadHistoryItem(item),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(SendIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:new Date(item.timestamp).toLocaleTimeString(),secondary:`Payload: ${JSON.stringify(item.payload).substring(0,30)}...`})]},item.id))]})]})]}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,rows:10,value:testRequest.payload,onChange:handleTestPayloadChange,sx:{mb:3,fontFamily:'monospace'},error:(()=>{try{JSON.parse(testRequest.payload);return false;}catch(e){return true;}})(),helperText:(()=>{try{JSON.parse(testRequest.payload);return null;}catch(e){return e.message;}})()}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setTestRequestDrawerOpen(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",startIcon:testingInProgress?/*#__PURE__*/_jsx(CircularProgress,{size:20}):/*#__PURE__*/_jsx(SendIcon,{}),onClick:sendTestRequest,disabled:testingInProgress||(()=>{try{JSON.parse(testRequest.payload);return false;}catch(e){return true;}})(),children:\"Send Request\"})]}),testResults&&/*#__PURE__*/_jsxs(Paper,{sx:{mt:3,p:2},children:[/*#__PURE__*/_jsxs(Alert,{severity:testResults.success?'success':'error',sx:{mb:2},children:[/*#__PURE__*/_jsx(AlertTitle,{children:testResults.success?'Webhook Test Successful':'Webhook Test Failed'}),testResults.message]}),/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsxs(Tabs,{value:testResultsTabIndex,onChange:(e,newValue)=>setTestResultsTabIndex(newValue),variant:\"scrollable\",scrollButtons:\"auto\",sx:{borderBottom:1,borderColor:'divider',mb:2},children:[/*#__PURE__*/_jsx(Tab,{icon:/*#__PURE__*/_jsx(SendIcon,{fontSize:\"small\"}),label:\"Request Inspector\",iconPosition:\"start\"}),/*#__PURE__*/_jsx(Tab,{icon:/*#__PURE__*/_jsx(CheckIcon,{fontSize:\"small\"}),label:\"Response Details\",iconPosition:\"start\"}),/*#__PURE__*/_jsx(Tab,{icon:/*#__PURE__*/_jsx(CodeIcon,{fontSize:\"small\"}),label:\"Validation Results\",iconPosition:\"start\"}),/*#__PURE__*/_jsx(Tab,{icon:/*#__PURE__*/_jsx(TimelineIcon,{fontSize:\"small\"}),label:\"Timeline\",iconPosition:\"start\"}),/*#__PURE__*/_jsx(Tab,{icon:/*#__PURE__*/_jsx(SpeedIcon,{fontSize:\"small\"}),label:\"Performance\",iconPosition:\"start\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:testResultsTabIndex===0?'block':'none'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,sx:{mt:2},children:\"Request Headers\"}),/*#__PURE__*/_jsx(Paper,{variant:\"outlined\",sx:{p:1,mb:2,maxHeight:200,overflow:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{textAlign:'left',padding:'8px',borderBottom:'1px solid rgba(224, 224, 224, 1)'},children:\"Header\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:'left',padding:'8px',borderBottom:'1px solid rgba(224, 224, 224, 1)'},children:\"Value\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:testRequest.headers.map((header,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px',borderBottom:'1px solid rgba(224, 224, 224, 1)'},children:header.key}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px',borderBottom:'1px solid rgba(224, 224, 224, 1)'},children:header.value})]},index))})]})}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Request Payload\"}),/*#__PURE__*/_jsx(Paper,{variant:\"outlined\",sx:{p:2,mb:2,maxHeight:200,overflow:'auto'},children:/*#__PURE__*/_jsx(Box,{component:\"pre\",sx:{m:0,fontFamily:'monospace',fontSize:'0.85rem'},children:(()=>{try{return JSON.stringify(JSON.parse(testRequest.payload),null,2);}catch(e){return testRequest.payload;}})()})})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:testResultsTabIndex===1?'block':'none'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Processing Details\"}),/*#__PURE__*/_jsxs(List,{dense:true,children:[/*#__PURE__*/_jsx(ListItem,{divider:true,children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Received At\",secondary:new Date(testResults.receivedAt).toLocaleString()})}),/*#__PURE__*/_jsx(ListItem,{divider:true,children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Processing Time\",secondary:`${testResults.processingTime}ms`})}),/*#__PURE__*/_jsx(ListItem,{divider:true,children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Security Checks\",secondary:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[testResults.details.securityChecks==='Passed'?/*#__PURE__*/_jsx(CheckIcon,{fontSize:\"small\",color:\"success\",sx:{mr:1}}):testResults.details.securityChecks==='Not configured'?/*#__PURE__*/_jsx(WarningIcon,{fontSize:\"small\",color:\"warning\",sx:{mr:1}}):/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"small\",color:\"error\",sx:{mr:1}}),testResults.details.securityChecks]})})}),/*#__PURE__*/_jsx(ListItem,{divider:true,children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Validation Checks\",secondary:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[testResults.details.validationChecks==='Passed'?/*#__PURE__*/_jsx(CheckIcon,{fontSize:\"small\",color:\"success\",sx:{mr:1}}):testResults.details.validationChecks==='Not enabled'?/*#__PURE__*/_jsx(WarningIcon,{fontSize:\"small\",color:\"warning\",sx:{mr:1}}):/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"small\",color:\"error\",sx:{mr:1}}),testResults.details.validationChecks]})})}),/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Rate Limiting\",secondary:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[testResults.details.rateLimiting==='Active'?/*#__PURE__*/_jsx(CheckIcon,{fontSize:\"small\",color:\"success\",sx:{mr:1}}):/*#__PURE__*/_jsx(WarningIcon,{fontSize:\"small\",color:\"warning\",sx:{mr:1}}),testResults.details.rateLimiting]})})})]})]}),/*#__PURE__*/_jsx(Box,{sx:{display:testResultsTabIndex===2?'block':'none',mt:3},children:testResults.validationDetails?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Schema Validation Results\"}),/*#__PURE__*/_jsx(Paper,{variant:\"outlined\",sx:{p:2,backgroundColor:testResults.validationDetails.valid?'success.lightest':'error.lightest',maxHeight:300,overflow:'auto'},children:testResults.validationDetails.valid?/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(CheckIcon,{color:\"success\",sx:{mr:1}}),/*#__PURE__*/_jsx(Typography,{children:\"Payload passed validation against the JSON Schema\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(CloseIcon,{color:\"error\",sx:{mr:1}}),/*#__PURE__*/_jsx(Typography,{children:\"Payload failed validation against the JSON Schema\"})]}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Validation Errors:\"}),/*#__PURE__*/_jsx(Box,{component:\"pre\",sx:{m:0,fontFamily:'monospace',fontSize:'0.85rem'},children:JSON.stringify(testResults.validationDetails.errors,null,2)})]})})]}):/*#__PURE__*/_jsxs(Alert,{severity:\"info\",sx:{mb:2},children:[/*#__PURE__*/_jsx(AlertTitle,{children:\"Validation Not Configured\"}),\"Enable schema validation in the Validation tab to see validation results.\"]})}),/*#__PURE__*/_jsxs(Box,{sx:{display:testResultsTabIndex===3?'block':'none',mt:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Webhook Processing Timeline\"}),testResults.timeline&&/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{p:2,mb:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{position:'relative',height:'auto',minHeight:'200px',mt:3,mb:2},children:[/*#__PURE__*/_jsx(Box,{sx:{position:'relative',height:'6px',bgcolor:'grey.200',borderRadius:'3px',mb:5,mt:3},children:testResults.timeline.map((event,index)=>{// Calculate position as percentage of total time\nconst startTime=new Date(testResults.timeline[0].timestamp).getTime();const endTime=new Date(testResults.timeline[testResults.timeline.length-1].timestamp).getTime();const totalDuration=endTime-startTime;const eventTime=new Date(event.timestamp).getTime();const position=(eventTime-startTime)/totalDuration*100;return/*#__PURE__*/_jsx(Box,{sx:{position:'absolute',left:`${position}%`,top:0,transform:'translate(-50%, -50%)',width:'16px',height:'16px',borderRadius:'50%',bgcolor:event.stage==='completed'?'success.main':event.stage==='error'?'error.main':'primary.main',border:'2px solid',borderColor:'background.paper',zIndex:2,'&:hover':{boxShadow:'0 0 0 4px rgba(25, 118, 210, 0.2)'}}},index);})}),testResults.timeline.map((event,index)=>{// Calculate position as percentage of total time\nconst startTime=new Date(testResults.timeline[0].timestamp).getTime();const endTime=new Date(testResults.timeline[testResults.timeline.length-1].timestamp).getTime();const totalDuration=endTime-startTime;const eventTime=new Date(event.timestamp).getTime();const position=(eventTime-startTime)/totalDuration*100;// Alternate labels above and below the timeline\nconst isAbove=index%2===0;return/*#__PURE__*/_jsxs(Box,{sx:{position:'absolute',left:`${position}%`,top:isAbove?'-20px':'20px',transform:'translateX(-50%)',textAlign:'center',width:'120px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{display:'block',fontWeight:'bold'},children:event.stage.charAt(0).toUpperCase()+event.stage.slice(1)}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{display:'block'},children:`+${event.durationMs}ms`})]},`label-${index}`);})]}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,sx:{mt:4},children:\"Event Details\"}),/*#__PURE__*/_jsx(List,{dense:true,children:testResults.timeline.map((event,index)=>/*#__PURE__*/_jsx(ListItem,{divider:index<testResults.timeline.length-1,children:/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontWeight:'bold'},children:event.stage.charAt(0).toUpperCase()+event.stage.slice(1)}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:`+${event.durationMs}ms`})]}),secondary:event.details})},index))})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:testResultsTabIndex===4?'block':'none',mt:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Performance Analysis\"}),testResults.performanceMetrics&&/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{p:2,mb:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{fontWeight:'bold'},children:\"Total Processing Time\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[testResults.performanceMetrics.totalTime,\"ms\"]})]}),/*#__PURE__*/_jsx(Divider,{sx:{mb:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Processing Breakdown\"}),testResults.performanceMetrics.breakdowns.map((breakdown,index)=>/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',mb:0.5},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:breakdown.stage}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[breakdown.timeMs,\"ms (\",breakdown.percentage,\"%)\"]})]}),/*#__PURE__*/_jsx(Box,{sx:{width:'100%',bgcolor:'grey.200',height:'8px',borderRadius:'4px',overflow:'hidden'},children:/*#__PURE__*/_jsx(Box,{sx:{width:`${breakdown.percentage}%`,bgcolor:index===0?'info.main':index===1?'success.main':'warning.main',height:'100%'}})})]},index)),testResults.performanceMetrics.bottlenecks.length>0&&/*#__PURE__*/_jsxs(Box,{sx:{mt:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Potential Bottlenecks\"}),/*#__PURE__*/_jsx(List,{dense:true,children:testResults.performanceMetrics.bottlenecks.map((bottleneck,index)=>/*#__PURE__*/_jsxs(ListItem,{sx:{pl:0},children:[/*#__PURE__*/_jsx(ListItemIcon,{sx:{minWidth:'30px'},children:/*#__PURE__*/_jsx(WarningIcon,{color:\"warning\",fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:bottleneck})]},index))}),/*#__PURE__*/_jsxs(Alert,{severity:\"info\",sx:{mt:2},children:[/*#__PURE__*/_jsx(AlertTitle,{children:\"Performance Optimization Tips\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",gutterBottom:true,children:\"Consider the following to improve webhook processing performance:\"}),/*#__PURE__*/_jsxs(\"ul\",{style:{margin:0,paddingLeft:'20px'},children:[/*#__PURE__*/_jsx(\"li\",{children:\"Simplify the schema validation for faster payload validation\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Use lightweight security methods for non-sensitive data\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Implement asynchronous processing for complex transformations\"})]})]})]})]})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',mt:3},children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(HistoryIcon,{}),onClick:()=>setHistoryMenuAnchor(document.getElementById('requestHistoryBtn')),sx:{mr:1},children:\"View History\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:saveAsTemplate,startIcon:/*#__PURE__*/_jsx(SaveTemplateIcon,{}),children:\"Save as Template\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(CloudDownloadIcon,{}),onClick:()=>{// Create a blob with the test results\nconst data=JSON.stringify({request:{headers:testRequest.headers,payload:(()=>{try{return JSON.parse(testRequest.payload);}catch(e){return testRequest.payload;}})()},response:testResults,timestamp:new Date().toISOString()},null,2);const blob=new Blob([data],{type:'application/json'});const url=URL.createObjectURL(blob);// Create a link and click it to trigger the download\nconst a=document.createElement('a');a.href=url;a.download=`webhook-test-${new Date().toISOString().replace(/:/g,'-')}.json`;document.body.appendChild(a);a.click();// Clean up\ndocument.body.removeChild(a);URL.revokeObjectURL(url);},children:\"Export Results\"})]})]})]})]});};export default WebhookConfiguration;","map":{"version":3,"names":["React","useState","useCallback","useEffect","Box","Button","Card","CardContent","Collapse","Divider","Grid","IconButton","InputAdornment","ListItemIcon","ListItemText","Menu","MenuItem","Paper","Tab","Tabs","TextField","Typography","Alert","AlertTitle","FormControl","FormControlLabel","Radio","RadioGroup","Select","InputLabel","FormHelperText","Switch","Tooltip","CircularProgress","Chip","List","ListItem","Drawer","Slider","Add","AddIcon","Check","CheckIcon","Close","CloseIcon","Delete","DeleteIcon","Edit","EditIcon","Refresh","RefreshIcon","Code","CodeIcon","Security","SecurityIcon","Settings","SettingsIcon","PlayArrow","PlayIcon","ReceiptLong","WebhookIcon","ContentCopy","CopyIcon","Visibility","VisibilityIcon","VisibilityOff","VisibilityOffIcon","HelpOutline","HelpIcon","Warning","WarningIcon","KeyboardArrowDown","KeyboardArrowDownIcon","KeyboardArrowUp","KeyboardArrowUpIcon","Save","SaveIcon","History","HistoryIcon","Send","SendIcon","Autorenew","AutorenewIcon","CloudDownload","CloudDownloadIcon","Timeline","TimelineIcon","Speed","SpeedIcon","BookmarkAdd","SaveTemplateIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WebhookConfiguration","_ref","value","onChange","onTest","disabled","config","setConfig","name","description","endpointId","security","type","token","headerName","hmac","secret","algorithm","basicAuth","username","password","validation","enabled","schema","requiredFields","strictMode","failOnError","responseCode","errorFormat","rateLimit","maxRequests","timeWindow","preprocessors","activeTab","setActiveTab","testResults","setTestResults","testingInProgress","setTestingInProgress","error","setError","showSecrets","setShowSecrets","advancedSettingsOpen","setAdvancedSettingsOpen","showJsonEditor","setShowJsonEditor","rawJson","setRawJson","jsonError","setJsonError","requiredFieldToAdd","setRequiredFieldToAdd","testRequestDrawerOpen","setTestRequestDrawerOpen","testRequest","setTestRequest","payload","JSON","stringify","test","headers","key","simulatorOpen","setSimulatorOpen","simulatedPayload","setSimulatedPayload","simulationOptions","setSimulationOptions","eventType","randomizeData","delayMs","simulateError","errorRate","requestHistory","setRequestHistory","historyMenuAnchor","setHistoryMenuAnchor","templates","setTemplates","id","event","data","customer_id","amount","currency","items","product_id","quantity","price","created_at","Date","toISOString","email","templatesMenuAnchor","setTemplatesMenuAnchor","testResultsTabIndex","setTestResultsTabIndex","e","console","randomId","Math","random","toString","substring","prev","handleChange","field","handleSecurityChange","securityType","handleValidationChange","handleRateLimitChange","handleAddRequiredField","trim","handleRemoveRequiredField","index","filter","_","i","toggleSecretVisibility","handleSecurityTypeChange","newSecurityType","target","handleJsonChange","newJson","parse","message","applyJsonChanges","newConfig","regenerateEndpointId","getWebhookUrl","baseUrl","envSuffix","process","env","NODE_ENV","customPath","encodeURIComponent","toLowerCase","replace","copyWebhookUrl","url","navigator","clipboard","writeText","handleTestPayloadChange","newPayload","handleAddTestHeader","header","arguments","length","undefined","handleUpdateTestHeader","map","handleRemoveTestHeader","sendTestRequest","_validationDetails$va","_validationDetails","_validationDetails2","parsedPayload","Error","log","Promise","resolve","setTimeout","timeline","stage","timestamp","durationMs","details","now","push","processingTime","floor","performanceMetrics","totalTime","breakdowns","timeMs","percentage","round","bottlenecks","historyEntry","slice","validationDetails","_schema$required$ever","_schema$required","_schema$required2","valid","required","every","errors","instancePath","schemaPath","keyword","params","missingProperty","find","result","success","receivedAt","validationPassed","endpoint","securityChecks","validationChecks","rateLimiting","err","loadHistoryItem","historyItem","loadTemplateItem","template","saveAsTemplate","templateName","prompt","newTemplate","generateSimulatedPayload","order_id","payment_method","startSimulator","securityTypes","label","hmacAlgorithms","variant","children","sx","display","justifyContent","alignItems","mb","component","mr","title","onClick","color","fullWidth","multiline","rows","helperText","fontFamily","InputProps","endAdornment","position","startIcon","newValue","borderBottom","borderColor","container","spacing","item","xs","p","gutterBottom","sm","edge","readOnly","severity","control","paragraph","placeholder","randomToken","Array","from","crypto","getRandomValues","Uint8Array","b","padStart","join","hmacSecret","randomSecret","basicAuthPassword","checked","in","onDelete","m","size","mt","my","parseInt","inputProps","min","onClose","anchor","open","width","maxWidth","ml","max","step","valueLabelDisplay","valueLabelFormat","fontSize","currentTarget","anchorEl","Boolean","primary","secondary","toLocaleTimeString","scrollButtons","icon","iconPosition","maxHeight","overflow","style","borderCollapse","textAlign","padding","dense","divider","toLocaleString","backgroundColor","height","minHeight","bgcolor","borderRadius","startTime","getTime","endTime","totalDuration","eventTime","left","top","transform","border","zIndex","boxShadow","isAbove","fontWeight","charAt","toUpperCase","breakdown","bottleneck","pl","minWidth","margin","paddingLeft","document","getElementById","request","response","blob","Blob","URL","createObjectURL","a","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL"],"sources":["/home/ai-dev/Desktop/tap-integration-platform/frontend/src/components/integration/WebhookConfiguration.jsx"],"sourcesContent":["/**\n * Webhook Configuration Component\n *\n * A comprehensive component for configuring webhook endpoints with security\n * options, payload validation, and testing capabilities.\n *\n * @component\n */\n\nimport React, { useState, useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  Collapse,\n  Divider,\n  Grid,\n  IconButton,\n  InputAdornment,\n  ListItemIcon,\n  ListItemText,\n  Menu,\n  MenuItem,\n  Paper,\n  Tab,\n  Tabs,\n  TextField,\n  Typography,\n  Alert,\n  AlertTitle,\n  FormControl,\n  FormControlLabel,\n  Radio,\n  RadioGroup,\n  Select,\n  InputLabel,\n  FormHelperText,\n  Switch,\n  Tooltip,\n  CircularProgress,\n  Chip,\n  List,\n  ListItem,\n  Drawer,\n  Slider,\n} from '@mui/material';\nimport {\n  Add as AddIcon,\n  Check as CheckIcon,\n  Close as CloseIcon,\n  Delete as DeleteIcon,\n  Edit as EditIcon,\n  Refresh as RefreshIcon,\n  Code as CodeIcon,\n  Security as SecurityIcon,\n  Settings as SettingsIcon,\n  PlayArrow as PlayIcon,\n  ReceiptLong as WebhookIcon,\n  ContentCopy as CopyIcon,\n  Visibility as VisibilityIcon,\n  VisibilityOff as VisibilityOffIcon,\n  HelpOutline as HelpIcon,\n  Warning as WarningIcon,\n  KeyboardArrowDown as KeyboardArrowDownIcon,\n  KeyboardArrowUp as KeyboardArrowUpIcon,\n  Save as SaveIcon,\n  History as HistoryIcon,\n  Send as SendIcon,\n  Autorenew as AutorenewIcon,\n  CloudDownload as CloudDownloadIcon,\n  Timeline as TimelineIcon,\n  Speed as SpeedIcon,\n  BookmarkAdd as SaveTemplateIcon,\n} from '@mui/icons-material';\n\n/**\n * Webhook Configuration Component\n * \n * @param {Object} props - Component props\n * @returns {JSX.Element} The Webhook Configuration component\n */\nconst WebhookConfiguration = ({\n  value = {},\n  onChange = () => {},\n  onTest = () => {},\n  disabled = false,\n}) => {\n  // Configuration state\n  const [config, setConfig] = useState({\n    name: '',\n    description: '',\n    endpointId: '', // Auto-generated or custom\n    security: {\n      type: 'none',\n      token: {\n        value: '',\n        headerName: 'X-Webhook-Token',\n      },\n      hmac: {\n        secret: '',\n        algorithm: 'sha256',\n        headerName: 'X-Webhook-Signature',\n      },\n      basicAuth: {\n        username: '',\n        password: '',\n      },\n    },\n    validation: {\n      enabled: false,\n      schema: '',\n      requiredFields: [],\n      strictMode: false,\n      failOnError: true,\n      responseCode: 422,\n      errorFormat: 'json',\n    },\n    rateLimit: {\n      enabled: false,\n      maxRequests: 100,\n      timeWindow: 60, // seconds\n    },\n    preprocessors: [], // Array of functions to run before processing the webhook\n    ...value,\n  });\n\n  // UI State\n  const [activeTab, setActiveTab] = useState(0);\n  const [testResults, setTestResults] = useState(null);\n  const [testingInProgress, setTestingInProgress] = useState(false);\n  const [error, setError] = useState(null);\n  const [showSecrets, setShowSecrets] = useState({});\n  const [advancedSettingsOpen, setAdvancedSettingsOpen] = useState(false);\n  const [showJsonEditor, setShowJsonEditor] = useState(false);\n  const [rawJson, setRawJson] = useState('');\n  const [jsonError, setJsonError] = useState(null);\n  const [requiredFieldToAdd, setRequiredFieldToAdd] = useState('');\n  \n  // Test request state\n  const [testRequestDrawerOpen, setTestRequestDrawerOpen] = useState(false);\n  const [testRequest, setTestRequest] = useState({\n    payload: JSON.stringify({ test: 'data' }, null, 2),\n    headers: [\n      { key: 'Content-Type', value: 'application/json' }\n    ],\n  });\n  \n  // Webhook simulator state\n  const [simulatorOpen, setSimulatorOpen] = useState(false);\n  const [simulatedPayload, setSimulatedPayload] = useState(null);\n  const [simulationOptions, setSimulationOptions] = useState({\n    eventType: 'order.created',\n    randomizeData: true,\n    delayMs: 0,\n    simulateError: false,\n    errorRate: 0,\n  });\n  \n  // Webhook request history for testing\n  const [requestHistory, setRequestHistory] = useState([]);\n  const [historyMenuAnchor, setHistoryMenuAnchor] = useState(null);\n  \n  // Template management for test requests\n  const [templates, setTemplates] = useState([\n    {\n      id: 'default',\n      name: 'Default Request',\n      payload: JSON.stringify({ test: 'data' }, null, 2),\n      headers: [{ key: 'Content-Type', value: 'application/json' }]\n    },\n    {\n      id: 'order-created',\n      name: 'Order Created Event',\n      payload: JSON.stringify({\n        event: 'order.created',\n        data: {\n          id: '1234567890',\n          customer_id: 'cust_9876543',\n          amount: 99.99,\n          currency: 'USD',\n          items: [\n            { product_id: 'prod_123', quantity: 1, price: 79.99 },\n            { product_id: 'prod_456', quantity: 2, price: 9.99 }\n          ],\n          created_at: new Date().toISOString()\n        }\n      }, null, 2),\n      headers: [\n        { key: 'Content-Type', value: 'application/json' },\n        { key: 'X-Event-Type', value: 'order.created' }\n      ]\n    },\n    {\n      id: 'user-registered',\n      name: 'User Registered Event',\n      payload: JSON.stringify({\n        event: 'user.registered',\n        data: {\n          id: 'user_12345',\n          email: 'user@example.com',\n          name: 'John Doe',\n          created_at: new Date().toISOString()\n        }\n      }, null, 2),\n      headers: [\n        { key: 'Content-Type', value: 'application/json' },\n        { key: 'X-Event-Type', value: 'user.registered' }\n      ]\n    }\n  ]);\n  const [templatesMenuAnchor, setTemplatesMenuAnchor] = useState(null);\n  const [testResultsTabIndex, setTestResultsTabIndex] = useState(0);\n\n  // Initialize raw JSON when config changes\n  useEffect(() => {\n    try {\n      setRawJson(JSON.stringify(config, null, 2));\n    } catch (e) {\n      console.error('Error stringifying config:', e);\n    }\n  }, [config]);\n\n  // Update parent component with config changes\n  useEffect(() => {\n    onChange(config);\n  }, [config, onChange]);\n\n  // Generate a random endpoint ID if one isn't set\n  useEffect(() => {\n    if (!config.endpointId) {\n      const randomId = Math.random().toString(36).substring(2, 15) + \n                     Math.random().toString(36).substring(2, 15);\n      setConfig(prev => ({\n        ...prev,\n        endpointId: randomId\n      }));\n    }\n  }, [config.endpointId]);\n\n  /**\n   * Handle change in basic configuration fields\n   * \n   * @param {string} field - Field name\n   * @param {any} value - New value\n   */\n  const handleChange = useCallback((field, value) => {\n    setConfig((prev) => ({\n      ...prev,\n      [field]: value,\n    }));\n  }, []);\n\n  /**\n   * Handle change in security settings\n   * \n   * @param {string} securityType - Security type\n   * @param {string} field - Field name\n   * @param {any} value - New value\n   */\n  const handleSecurityChange = useCallback((securityType, field, value) => {\n    setConfig((prev) => ({\n      ...prev,\n      security: {\n        ...prev.security,\n        [securityType]: {\n          ...prev.security[securityType],\n          [field]: value,\n        },\n      },\n    }));\n  }, []);\n\n  /**\n   * Handle change in validation settings\n   * \n   * @param {string} field - Field name\n   * @param {any} value - New value\n   */\n  const handleValidationChange = useCallback((field, value) => {\n    setConfig((prev) => ({\n      ...prev,\n      validation: {\n        ...prev.validation,\n        [field]: value,\n      },\n    }));\n  }, []);\n\n  /**\n   * Handle change in rate limit settings\n   * \n   * @param {string} field - Field name\n   * @param {any} value - New value\n   */\n  const handleRateLimitChange = useCallback((field, value) => {\n    setConfig((prev) => ({\n      ...prev,\n      rateLimit: {\n        ...prev.rateLimit,\n        [field]: value,\n      },\n    }));\n  }, []);\n\n  /**\n   * Handle adding a required field\n   */\n  const handleAddRequiredField = useCallback(() => {\n    if (!requiredFieldToAdd.trim()) {\n      setError('Field name cannot be empty');\n      return;\n    }\n\n    setConfig((prev) => ({\n      ...prev,\n      validation: {\n        ...prev.validation,\n        requiredFields: [...prev.validation.requiredFields, requiredFieldToAdd.trim()],\n      },\n    }));\n    setRequiredFieldToAdd('');\n    setError(null);\n  }, [requiredFieldToAdd]);\n\n  /**\n   * Handle removing a required field\n   * \n   * @param {number} index - Index of the field to remove\n   */\n  const handleRemoveRequiredField = useCallback((index) => {\n    setConfig((prev) => ({\n      ...prev,\n      validation: {\n        ...prev.validation,\n        requiredFields: prev.validation.requiredFields.filter((_, i) => i !== index),\n      },\n    }));\n  }, []);\n\n  /**\n   * Toggle showing secret values\n   * \n   * @param {string} field - Field name\n   */\n  const toggleSecretVisibility = useCallback((field) => {\n    setShowSecrets((prev) => ({\n      ...prev,\n      [field]: !prev[field],\n    }));\n  }, []);\n\n  /**\n   * Handle security type change\n   * \n   * @param {Event} event - Change event\n   */\n  const handleSecurityTypeChange = useCallback((event) => {\n    const newSecurityType = event.target.value;\n    setConfig((prev) => ({\n      ...prev,\n      security: {\n        ...prev.security,\n        type: newSecurityType,\n      },\n    }));\n  }, []);\n\n  /**\n   * Handle JSON editor change\n   * \n   * @param {Event} event - Change event\n   */\n  const handleJsonChange = useCallback((event) => {\n    const newJson = event.target.value;\n    setRawJson(newJson);\n    setJsonError(null);\n\n    try {\n      JSON.parse(newJson);\n    } catch (e) {\n      setJsonError(e.message);\n    }\n  }, []);\n\n  /**\n   * Apply changes from JSON editor\n   */\n  const applyJsonChanges = useCallback(() => {\n    try {\n      const newConfig = JSON.parse(rawJson);\n      setConfig(newConfig);\n      setJsonError(null);\n      setShowJsonEditor(false);\n    } catch (e) {\n      setJsonError(e.message);\n    }\n  }, [rawJson]);\n\n  /**\n   * Generate a new endpoint ID\n   */\n  const regenerateEndpointId = useCallback(() => {\n    const randomId = Math.random().toString(36).substring(2, 15) + \n                     Math.random().toString(36).substring(2, 15);\n    setConfig((prev) => ({\n      ...prev,\n      endpointId: randomId,\n    }));\n  }, []);\n\n  /**\n   * Generate webhook URL from endpoint ID\n   * \n   * @returns {string} The full webhook URL\n   */\n  const getWebhookUrl = useCallback(() => {\n    // In production this would use environment variables or a configuration system\n    const baseUrl = 'https://api.example.com/webhooks';\n    \n    // Check if we have an environment-specific path, such as dev, staging, etc.\n    const envSuffix = process.env.NODE_ENV === 'production' ? '' : `-${process.env.NODE_ENV || 'dev'}`;\n    \n    // Create a deterministic but unique URL based on configuration properties\n    // This ensures consistency across sessions while allowing for unique endpoints\n    const customPath = config.name \n      ? `/${encodeURIComponent(config.name.toLowerCase().replace(/[^a-z0-9]/g, '-'))}`\n      : '';\n      \n    return `${baseUrl}${customPath}${envSuffix}/${config.endpointId}`;\n  }, [config.name, config.endpointId]);\n\n  /**\n   * Copy webhook URL to clipboard\n   */\n  const copyWebhookUrl = useCallback(() => {\n    const url = getWebhookUrl();\n    navigator.clipboard.writeText(url);\n  }, [getWebhookUrl]);\n\n  /**\n   * Handle test request payload change\n   * \n   * @param {Event} event - Change event\n   */\n  const handleTestPayloadChange = useCallback((event) => {\n    const newPayload = event.target.value;\n    setTestRequest((prev) => ({\n      ...prev,\n      payload: newPayload,\n    }));\n  }, []);\n\n  /**\n   * Add a header to the test request\n   * \n   * @param {Object} header - Header object with key and value\n   */\n  const handleAddTestHeader = useCallback((header = { key: '', value: '' }) => {\n    setTestRequest((prev) => ({\n      ...prev,\n      headers: [...prev.headers, header],\n    }));\n  }, []);\n\n  /**\n   * Update a test request header\n   * \n   * @param {number} index - Index of the header to update\n   * @param {string} field - Field to update (key or value)\n   * @param {string} value - New value\n   */\n  const handleUpdateTestHeader = useCallback((index, field, value) => {\n    setTestRequest((prev) => ({\n      ...prev,\n      headers: prev.headers.map((header, i) => \n        i === index ? { ...header, [field]: value } : header\n      ),\n    }));\n  }, []);\n\n  /**\n   * Remove a header from the test request\n   * \n   * @param {number} index - Index of the header to remove\n   */\n  const handleRemoveTestHeader = useCallback((index) => {\n    setTestRequest((prev) => ({\n      ...prev,\n      headers: prev.headers.filter((_, i) => i !== index),\n    }));\n  }, []);\n\n  /**\n   * Send a test webhook request\n   */\n  const sendTestRequest = useCallback(async () => {\n    setTestingInProgress(true);\n    setTestResults(null);\n    setError(null);\n\n    try {\n      // Validate the payload is proper JSON\n      let parsedPayload;\n      try {\n        parsedPayload = JSON.parse(testRequest.payload);\n      } catch (e) {\n        throw new Error('Invalid JSON payload: ' + e.message);\n      }\n\n      // In a real implementation, this would send a request to your test endpoint\n      console.log('Sending test webhook request:', {\n        url: getWebhookUrl(),\n        headers: testRequest.headers,\n        payload: parsedPayload,\n      });\n\n      // Simulating API call with a timeout\n      await new Promise(resolve => setTimeout(resolve, 1200));\n\n      // Create timeline information\n      const timeline = [\n        { \n          stage: 'received', \n          timestamp: new Date().toISOString(),\n          durationMs: 0, // Initial event\n          details: 'Request received by webhook endpoint'\n        },\n        { \n          stage: 'authentication', \n          timestamp: new Date(Date.now() + 50).toISOString(),\n          durationMs: 50, \n          details: config.security.type !== 'none' ? \n            `Authentication using ${config.security.type}` : \n            'No authentication configured'\n        },\n        { \n          stage: 'validation', \n          timestamp: new Date(Date.now() + 150).toISOString(),\n          durationMs: 100,\n          details: config.validation.enabled ? \n            'Validating payload against JSON schema' : \n            'Validation not enabled'\n        }\n      ];\n      \n      // Add processing stages\n      timeline.push({ \n        stage: 'processing', \n        timestamp: new Date(Date.now() + 250).toISOString(),\n        durationMs: 100,\n        details: 'Processing webhook payload'\n      });\n      \n      // Add rate limiting if enabled\n      if (config.rateLimit.enabled) {\n        timeline.push({ \n          stage: 'rateLimit', \n          timestamp: new Date(Date.now() + 270).toISOString(),\n          durationMs: 20,\n          details: `Rate limit check (${config.rateLimit.maxRequests}/${config.rateLimit.timeWindow}s)`\n        });\n      }\n      \n      // Add completion stage\n      const processingTime = Math.floor(Math.random() * 300) + 200; // Simulate 200-500ms processing time\n      timeline.push({ \n        stage: 'completed', \n        timestamp: new Date(Date.now() + processingTime).toISOString(),\n        durationMs: processingTime - 270,\n        details: 'Webhook processing completed successfully'\n      });\n\n      // Performance metrics\n      const performanceMetrics = {\n        totalTime: processingTime,\n        breakdowns: [\n          { stage: 'Authentication', timeMs: 50, percentage: Math.round((50 / processingTime) * 100) },\n          { stage: 'Validation', timeMs: 100, percentage: Math.round((100 / processingTime) * 100) },\n          { stage: 'Processing', timeMs: processingTime - 150, percentage: Math.round(((processingTime - 150) / processingTime) * 100) }\n        ],\n        bottlenecks: config.validation.enabled && config.validation.schema ? \n          ['Schema validation is the most time-consuming stage'] : \n          []      \n      };\n\n      // Create a new history entry\n      const historyEntry = {\n        timestamp: new Date(),\n        payload: parsedPayload,\n        headers: testRequest.headers,\n        id: Math.random().toString(36).substring(2, 9),\n        timeline,\n        performanceMetrics\n      };\n\n      // Add to request history\n      setRequestHistory(prev => [historyEntry, ...prev].slice(0, 10));\n\n      // Simulate validation if schema validation is enabled\n      let validationDetails = null;\n      \n      if (config.validation.enabled && config.validation.schema) {\n        try {\n          // In a real implementation, this would use a JSON Schema validator library\n          const schema = JSON.parse(config.validation.schema);\n          const parsedPayload = JSON.parse(testRequest.payload);\n          \n          // Simulate validation results - in this case a simple check\n          // to see if required properties exist in the payload\n          const valid = schema.required?.every(field => \n            typeof parsedPayload[field] !== 'undefined'\n          ) ?? true;\n          \n          validationDetails = {\n            valid,\n            schema: schema,\n            errors: valid ? [] : [\n              {\n                instancePath: \"\",\n                schemaPath: \"#/required\",\n                keyword: \"required\",\n                params: {\n                  missingProperty: schema.required?.find(field => \n                    typeof parsedPayload[field] === 'undefined'\n                  )\n                },\n                message: \"must have required property\"\n              }\n            ]\n          };\n        } catch (e) {\n          // If there's an error parsing the schema, set validation as failed\n          validationDetails = {\n            valid: false,\n            schema: config.validation.schema,\n            errors: [\n              {\n                message: `Error parsing schema: ${e.message}`\n              }\n            ]\n          };\n        }\n      }\n      \n      // Create a success result with validation information\n      const result = {\n        success: true,\n        message: 'Test webhook request sent successfully',\n        receivedAt: new Date().toISOString(),\n        validationPassed: validationDetails?.valid ?? true,\n        processingTime,\n        details: {\n          endpoint: getWebhookUrl(),\n          securityChecks: config.security.type !== 'none' ? 'Passed' : 'Not configured',\n          validationChecks: config.validation.enabled \n            ? (validationDetails?.valid ? 'Passed' : 'Failed') \n            : 'Not enabled',\n          rateLimiting: config.rateLimit.enabled ? 'Active' : 'Not enabled',\n        },\n        // Include validation details if available\n        validationDetails,\n        // Include timeline for request processing visualization\n        timeline,\n        // Include performance metrics\n        performanceMetrics\n      };\n\n      setTestResults(result);\n    } catch (err) {\n      setError(err.message || 'Error sending test webhook request');\n      setTestResults({\n        success: false,\n        message: err.message || 'Unknown error',\n      });\n    } finally {\n      setTestingInProgress(false);\n    }\n  }, [testRequest, getWebhookUrl, config.security.type, config.validation.enabled, config.rateLimit.enabled]);\n\n  /**\n   * Load a historical request into the test form\n   * \n   * @param {Object} historyItem - Request history item\n   */\n  const loadHistoryItem = useCallback((historyItem) => {\n    setTestRequest({\n      payload: JSON.stringify(historyItem.payload, null, 2),\n      headers: [...historyItem.headers],\n    });\n    setHistoryMenuAnchor(null);\n  }, []);\n  \n  /**\n   * Load a template into the test form\n   * \n   * @param {Object} template - Request template\n   */\n  const loadTemplateItem = useCallback((template) => {\n    setTestRequest({\n      payload: template.payload,\n      headers: [...template.headers],\n    });\n    setTemplatesMenuAnchor(null);\n  }, []);\n  \n  /**\n   * Save current request as a template\n   */\n  const saveAsTemplate = useCallback(() => {\n    // Create a simple dialog to enter template name (In a real app, this would be a proper form dialog)\n    const templateName = prompt('Enter a name for this template', 'My Template');\n    if (!templateName) return;\n    \n    const newTemplate = {\n      id: `template-${Date.now()}`,\n      name: templateName,\n      payload: testRequest.payload,\n      headers: [...testRequest.headers]\n    };\n    \n    setTemplates(prev => [...prev, newTemplate]);\n  }, [testRequest]);\n  \n  /**\n   * Generate a simulated webhook payload\n   */\n  const generateSimulatedPayload = useCallback(() => {\n    // Create a simulated payload based on the selected event type\n    const timestamp = new Date().toISOString();\n    const randomId = Math.random().toString(36).substring(2, 15);\n    \n    let payload;\n    \n    switch (simulationOptions.eventType) {\n      case 'order.created':\n        payload = {\n          event: 'order.created',\n          data: {\n            id: simulationOptions.randomizeData ? `order_${randomId}` : 'order_123456',\n            customer_id: simulationOptions.randomizeData ? `cust_${randomId.substring(0, 8)}` : 'cust_9876543',\n            amount: simulationOptions.randomizeData ? Math.round(Math.random() * 10000) / 100 : 99.99,\n            currency: 'USD',\n            items: [\n              { \n                product_id: simulationOptions.randomizeData ? `prod_${randomId.substring(0, 6)}` : 'prod_123', \n                quantity: simulationOptions.randomizeData ? Math.floor(Math.random() * 5) + 1 : 1, \n                price: simulationOptions.randomizeData ? Math.round(Math.random() * 10000) / 100 : 79.99 \n              },\n              { \n                product_id: simulationOptions.randomizeData ? `prod_${randomId.substring(6, 12)}` : 'prod_456', \n                quantity: simulationOptions.randomizeData ? Math.floor(Math.random() * 3) + 1 : 2, \n                price: simulationOptions.randomizeData ? Math.round(Math.random() * 1000) / 100 : 9.99 \n              }\n            ],\n            created_at: timestamp\n          }\n        };\n        break;\n      \n      case 'user.registered':\n        payload = {\n          event: 'user.registered',\n          data: {\n            id: simulationOptions.randomizeData ? `user_${randomId}` : 'user_12345',\n            email: simulationOptions.randomizeData ? `user_${randomId.substring(0, 6)}@example.com` : 'user@example.com',\n            name: 'John Doe',\n            created_at: timestamp\n          }\n        };\n        break;\n        \n      case 'payment.succeeded':\n        payload = {\n          event: 'payment.succeeded',\n          data: {\n            id: simulationOptions.randomizeData ? `payment_${randomId}` : 'payment_12345',\n            order_id: simulationOptions.randomizeData ? `order_${randomId.substring(0, 8)}` : 'order_123456',\n            amount: simulationOptions.randomizeData ? Math.round(Math.random() * 10000) / 100 : 99.99,\n            currency: 'USD',\n            payment_method: 'credit_card',\n            created_at: timestamp\n          }\n        };\n        break;\n        \n      default:\n        payload = {\n          event: simulationOptions.eventType,\n          data: {\n            id: randomId,\n            timestamp\n          }\n        };\n    }\n    \n    // If error simulation is enabled, randomly determine if it should fail\n    if (simulationOptions.simulateError && Math.random() < simulationOptions.errorRate / 100) {\n      // Simulate error by removing required fields or adding invalid data\n      if (payload.data) {\n        delete payload.data.id; // Remove a required field to cause validation error\n      }\n    }\n    \n    return payload;\n  }, [simulationOptions]);\n  \n  /**\n   * Start webhook simulator\n   */\n  const startSimulator = useCallback(async () => {\n    setSimulatorOpen(false);\n    setTestingInProgress(true);\n    setTestResults(null);\n    setError(null);\n    \n    try {\n      // Generate a simulated payload\n      const payload = generateSimulatedPayload();\n      setSimulatedPayload(payload);\n      \n      // Create headers for the simulated request\n      const headers = [\n        { key: 'Content-Type', value: 'application/json' },\n        { key: 'X-Event-Type', value: simulationOptions.eventType }\n      ];\n      \n      // Update the test request to show the simulated data\n      setTestRequest({\n        payload: JSON.stringify(payload, null, 2),\n        headers\n      });\n      \n      // Apply delay if specified\n      if (simulationOptions.delayMs > 0) {\n        await new Promise(resolve => setTimeout(resolve, simulationOptions.delayMs));\n      }\n      \n      // Now send the test request as normal\n      sendTestRequest();\n    } catch (err) {\n      setError(err.message || 'Error simulating webhook request');\n      setTestingInProgress(false);\n    }\n  }, [simulationOptions, generateSimulatedPayload, sendTestRequest]);\n\n  // Security type options\n  const securityTypes = [\n    { value: 'none', label: 'No Security' },\n    { value: 'token', label: 'Static Token' },\n    { value: 'hmac', label: 'HMAC Signature' },\n    { value: 'basicAuth', label: 'Basic Authentication' },\n  ];\n\n  // HMAC algorithm options\n  const hmacAlgorithms = [\n    { value: 'sha256', label: 'SHA-256' },\n    { value: 'sha384', label: 'SHA-384' },\n    { value: 'sha512', label: 'SHA-512' },\n  ];\n\n  return (\n    <Card variant=\"outlined\">\n      <CardContent>\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n          <Typography variant=\"h5\" component=\"div\" sx={{ display: 'flex', alignItems: 'center' }}>\n            <WebhookIcon sx={{ mr: 1 }} />\n            Webhook Configuration\n          </Typography>\n          <Box>\n            <Tooltip title=\"Test Webhook\">\n              <span>\n                <IconButton \n                  onClick={() => setTestRequestDrawerOpen(true)}\n                  disabled={disabled || !config.endpointId}\n                  color=\"primary\"\n                >\n                  <PlayIcon />\n                </IconButton>\n              </span>\n            </Tooltip>\n            <Tooltip title=\"Webhook Simulator\">\n              <span>\n                <IconButton \n                  onClick={() => setSimulatorOpen(true)}\n                  disabled={disabled || !config.endpointId}\n                  color=\"primary\"\n                >\n                  <AutorenewIcon />\n                </IconButton>\n              </span>\n            </Tooltip>\n            <Tooltip title=\"Show JSON Editor\">\n              <IconButton \n                onClick={() => setShowJsonEditor(!showJsonEditor)}\n                color={showJsonEditor ? 'primary' : 'default'}\n              >\n                <CodeIcon />\n              </IconButton>\n            </Tooltip>\n          </Box>\n        </Box>\n\n        {showJsonEditor ? (\n          <Box sx={{ mb: 3 }}>\n            <TextField\n              fullWidth\n              multiline\n              rows={20}\n              label=\"Configuration JSON\"\n              value={rawJson}\n              onChange={handleJsonChange}\n              error={!!jsonError}\n              helperText={jsonError}\n              sx={{ fontFamily: 'monospace' }}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <Button \n                      onClick={applyJsonChanges}\n                      disabled={!!jsonError}\n                      variant=\"contained\"\n                      startIcon={<SaveIcon />}\n                    >\n                      Apply\n                    </Button>\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </Box>\n        ) : (\n          <>\n            <Tabs \n              value={activeTab} \n              onChange={(e, newValue) => setActiveTab(newValue)}\n              sx={{ borderBottom: 1, borderColor: 'divider', mb: 3 }}\n            >\n              <Tab label=\"Basic\" />\n              <Tab label=\"Security\" />\n              <Tab label=\"Validation\" />\n              <Tab label=\"Advanced\" />\n            </Tabs>\n\n            {/* Basic Tab */}\n            <Box sx={{ display: activeTab === 0 ? 'block' : 'none' }}>\n              <Grid container spacing={3}>\n                <Grid item xs={12}>\n                  <TextField\n                    fullWidth\n                    label=\"Webhook Name\"\n                    value={config.name}\n                    onChange={(e) => handleChange('name', e.target.value)}\n                    disabled={disabled}\n                    helperText=\"A descriptive name for this webhook\"\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    fullWidth\n                    multiline\n                    rows={2}\n                    label=\"Description\"\n                    value={config.description}\n                    onChange={(e) => handleChange('description', e.target.value)}\n                    disabled={disabled}\n                    helperText=\"A description of this webhook's purpose\"\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <Paper variant=\"outlined\" sx={{ p: 2 }}>\n                    <Typography variant=\"subtitle1\" gutterBottom>\n                      Webhook Endpoint\n                    </Typography>\n                    <Grid container spacing={2} alignItems=\"center\">\n                      <Grid item xs={12} sm={8}>\n                        <TextField\n                          fullWidth\n                          label=\"Endpoint ID\"\n                          value={config.endpointId}\n                          onChange={(e) => handleChange('endpointId', e.target.value)}\n                          disabled={disabled}\n                          InputProps={{\n                            endAdornment: (\n                              <InputAdornment position=\"end\">\n                                <Tooltip title=\"Regenerate Endpoint ID\">\n                                  <IconButton\n                                    onClick={regenerateEndpointId}\n                                    edge=\"end\"\n                                    disabled={disabled}\n                                  >\n                                    <AutorenewIcon />\n                                  </IconButton>\n                                </Tooltip>\n                              </InputAdornment>\n                            ),\n                          }}\n                        />\n                      </Grid>\n                      <Grid item xs={12} sm={4}>\n                        <Button\n                          fullWidth\n                          variant=\"outlined\"\n                          startIcon={<CopyIcon />}\n                          onClick={copyWebhookUrl}\n                          disabled={disabled || !config.endpointId}\n                        >\n                          Copy URL\n                        </Button>\n                      </Grid>\n                      <Grid item xs={12}>\n                        <TextField\n                          fullWidth\n                          variant=\"filled\"\n                          label=\"Webhook URL\"\n                          value={getWebhookUrl()}\n                          InputProps={{\n                            readOnly: true,\n                          }}\n                        />\n                      </Grid>\n                    </Grid>\n                  </Paper>\n                </Grid>\n              </Grid>\n            </Box>\n\n            {/* Security Tab */}\n            <Box sx={{ display: activeTab === 1 ? 'block' : 'none' }}>\n              <Grid container spacing={3}>\n                <Grid item xs={12}>\n                  <Alert severity=\"info\" sx={{ mb: 3 }}>\n                    <AlertTitle>Security Recommendation</AlertTitle>\n                    We recommend implementing security for your webhook to ensure that only authorized systems can send requests to your endpoint.\n                  </Alert>\n                  \n                  <FormControl component=\"fieldset\" sx={{ mb: 3 }}>\n                    <Typography variant=\"h6\" gutterBottom>\n                      Security Method\n                    </Typography>\n                    <RadioGroup\n                      aria-label=\"security-type\"\n                      name=\"security-type\"\n                      value={config.security.type}\n                      onChange={handleSecurityTypeChange}\n                    >\n                      {securityTypes.map((type) => (\n                        <FormControlLabel\n                          key={type.value}\n                          value={type.value}\n                          control={<Radio disabled={disabled} />}\n                          label={type.label}\n                        />\n                      ))}\n                    </RadioGroup>\n                  </FormControl>\n                </Grid>\n\n                {/* Static Token Security */}\n                {config.security.type === 'token' && (\n                  <Grid item xs={12}>\n                    <Paper variant=\"outlined\" sx={{ p: 2 }}>\n                      <Typography variant=\"subtitle1\" gutterBottom>\n                        Static Token Validation\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n                        A static token is sent with each request. The sender must include this token in a header.\n                      </Typography>\n                      <Grid container spacing={2}>\n                        <Grid item xs={12} sm={6}>\n                          <TextField\n                            fullWidth\n                            label=\"Token Header Name\"\n                            value={config.security.token.headerName}\n                            onChange={(e) => handleSecurityChange('token', 'headerName', e.target.value)}\n                            disabled={disabled}\n                            helperText=\"HTTP header name for the token\"\n                            placeholder=\"X-Webhook-Token\"\n                          />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                          <TextField\n                            fullWidth\n                            label=\"Token Value\"\n                            type={showSecrets.token ? 'text' : 'password'}\n                            value={config.security.token.value}\n                            onChange={(e) => handleSecurityChange('token', 'value', e.target.value)}\n                            disabled={disabled}\n                            helperText=\"Secret token value\"\n                            InputProps={{\n                              endAdornment: (\n                                <InputAdornment position=\"end\">\n                                  <IconButton\n                                    onClick={() => toggleSecretVisibility('token')}\n                                    edge=\"end\"\n                                  >\n                                    {showSecrets.token ? <VisibilityOffIcon /> : <VisibilityIcon />}\n                                  </IconButton>\n                                </InputAdornment>\n                              ),\n                            }}\n                          />\n                        </Grid>\n                        <Grid item xs={12}>\n                          <Button\n                            variant=\"outlined\"\n                            onClick={() => {\n                              const randomToken = Array.from(crypto.getRandomValues(new Uint8Array(32)))\n                                .map(b => b.toString(16).padStart(2, '0'))\n                                .join('');\n                              handleSecurityChange('token', 'value', randomToken);\n                            }}\n                            disabled={disabled}\n                            startIcon={<AutorenewIcon />}\n                          >\n                            Generate Random Token\n                          </Button>\n                        </Grid>\n                      </Grid>\n                    </Paper>\n                  </Grid>\n                )}\n\n                {/* HMAC Signature Security */}\n                {config.security.type === 'hmac' && (\n                  <Grid item xs={12}>\n                    <Paper variant=\"outlined\" sx={{ p: 2 }}>\n                      <Typography variant=\"subtitle1\" gutterBottom>\n                        HMAC Signature Validation\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n                        The sender creates a hash signature of the payload using the shared secret. \n                        This provides stronger security by validating the message integrity.\n                      </Typography>\n                      <Grid container spacing={2}>\n                        <Grid item xs={12} sm={6}>\n                          <TextField\n                            fullWidth\n                            label=\"Signature Header Name\"\n                            value={config.security.hmac.headerName}\n                            onChange={(e) => handleSecurityChange('hmac', 'headerName', e.target.value)}\n                            disabled={disabled}\n                            helperText=\"HTTP header name for the signature\"\n                            placeholder=\"X-Webhook-Signature\"\n                          />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                          <FormControl fullWidth disabled={disabled}>\n                            <InputLabel>HMAC Algorithm</InputLabel>\n                            <Select\n                              value={config.security.hmac.algorithm}\n                              label=\"HMAC Algorithm\"\n                              onChange={(e) => handleSecurityChange('hmac', 'algorithm', e.target.value)}\n                            >\n                              {hmacAlgorithms.map((algorithm) => (\n                                <MenuItem key={algorithm.value} value={algorithm.value}>\n                                  {algorithm.label}\n                                </MenuItem>\n                              ))}\n                            </Select>\n                            <FormHelperText>The hashing algorithm to use</FormHelperText>\n                          </FormControl>\n                        </Grid>\n                        <Grid item xs={12}>\n                          <TextField\n                            fullWidth\n                            label=\"Secret Key\"\n                            type={showSecrets.hmacSecret ? 'text' : 'password'}\n                            value={config.security.hmac.secret}\n                            onChange={(e) => handleSecurityChange('hmac', 'secret', e.target.value)}\n                            disabled={disabled}\n                            helperText=\"Secret key for HMAC signature generation\"\n                            InputProps={{\n                              endAdornment: (\n                                <InputAdornment position=\"end\">\n                                  <IconButton\n                                    onClick={() => toggleSecretVisibility('hmacSecret')}\n                                    edge=\"end\"\n                                  >\n                                    {showSecrets.hmacSecret ? <VisibilityOffIcon /> : <VisibilityIcon />}\n                                  </IconButton>\n                                </InputAdornment>\n                              ),\n                            }}\n                          />\n                        </Grid>\n                        <Grid item xs={12}>\n                          <Button\n                            variant=\"outlined\"\n                            onClick={() => {\n                              const randomSecret = Array.from(crypto.getRandomValues(new Uint8Array(32)))\n                                .map(b => b.toString(16).padStart(2, '0'))\n                                .join('');\n                              handleSecurityChange('hmac', 'secret', randomSecret);\n                            }}\n                            disabled={disabled}\n                            startIcon={<AutorenewIcon />}\n                          >\n                            Generate Random Secret\n                          </Button>\n                        </Grid>\n                      </Grid>\n                    </Paper>\n                  </Grid>\n                )}\n\n                {/* Basic Authentication Security */}\n                {config.security.type === 'basicAuth' && (\n                  <Grid item xs={12}>\n                    <Paper variant=\"outlined\" sx={{ p: 2 }}>\n                      <Typography variant=\"subtitle1\" gutterBottom>\n                        Basic Authentication\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n                        The sender must provide basic HTTP authentication credentials with each request.\n                      </Typography>\n                      <Grid container spacing={2}>\n                        <Grid item xs={12} sm={6}>\n                          <TextField\n                            fullWidth\n                            label=\"Username\"\n                            value={config.security.basicAuth.username}\n                            onChange={(e) => handleSecurityChange('basicAuth', 'username', e.target.value)}\n                            disabled={disabled}\n                            helperText=\"Basic Auth username\"\n                          />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                          <TextField\n                            fullWidth\n                            label=\"Password\"\n                            type={showSecrets.basicAuthPassword ? 'text' : 'password'}\n                            value={config.security.basicAuth.password}\n                            onChange={(e) => handleSecurityChange('basicAuth', 'password', e.target.value)}\n                            disabled={disabled}\n                            helperText=\"Basic Auth password\"\n                            InputProps={{\n                              endAdornment: (\n                                <InputAdornment position=\"end\">\n                                  <IconButton\n                                    onClick={() => toggleSecretVisibility('basicAuthPassword')}\n                                    edge=\"end\"\n                                  >\n                                    {showSecrets.basicAuthPassword ? <VisibilityOffIcon /> : <VisibilityIcon />}\n                                  </IconButton>\n                                </InputAdornment>\n                              ),\n                            }}\n                          />\n                        </Grid>\n                      </Grid>\n                    </Paper>\n                  </Grid>\n                )}\n\n                {/* No Security Warning */}\n                {config.security.type === 'none' && (\n                  <Grid item xs={12}>\n                    <Alert severity=\"warning\">\n                      <AlertTitle>No Security Configured</AlertTitle>\n                      Your webhook endpoint will accept requests from any source without validation. \n                      This is not recommended for production environments.\n                    </Alert>\n                  </Grid>\n                )}\n              </Grid>\n            </Box>\n\n            {/* Validation Tab */}\n            <Box sx={{ display: activeTab === 2 ? 'block' : 'none' }}>\n              <Grid container spacing={3}>\n                <Grid item xs={12}>\n                  <FormControlLabel\n                    control={\n                      <Switch\n                        checked={config.validation.enabled}\n                        onChange={(e) => handleValidationChange('enabled', e.target.checked)}\n                        disabled={disabled}\n                      />\n                    }\n                    label=\"Enable Payload Validation\"\n                  />\n                </Grid>\n\n                <Grid item xs={12}>\n                  <Collapse in={config.validation.enabled}>\n                    <Paper variant=\"outlined\" sx={{ p: 2 }}>\n                      <Typography variant=\"subtitle1\" gutterBottom>\n                        Required Fields\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n                        Specify fields that must be present in the webhook payload.\n                      </Typography>\n\n                      {config.validation.requiredFields.length > 0 ? (\n                        <Box sx={{ mb: 2 }}>\n                          {config.validation.requiredFields.map((field, index) => (\n                            <Chip\n                              key={index}\n                              label={field}\n                              onDelete={() => handleRemoveRequiredField(index)}\n                              disabled={disabled}\n                              sx={{ m: 0.5 }}\n                            />\n                          ))}\n                        </Box>\n                      ) : (\n                        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n                          No required fields configured.\n                        </Typography>\n                      )}\n\n                      <Grid container spacing={2} alignItems=\"center\">\n                        <Grid item xs>\n                          <TextField\n                            fullWidth\n                            size=\"small\"\n                            label=\"Field Path\"\n                            value={requiredFieldToAdd}\n                            onChange={(e) => setRequiredFieldToAdd(e.target.value)}\n                            disabled={disabled || !config.validation.enabled}\n                            placeholder=\"data.id\"\n                            helperText=\"JSON path to a required field (e.g., 'data.id')\"\n                          />\n                        </Grid>\n                        <Grid item>\n                          <Button\n                            variant=\"outlined\"\n                            onClick={handleAddRequiredField}\n                            disabled={disabled || !config.validation.enabled || !requiredFieldToAdd.trim()}\n                            startIcon={<AddIcon />}\n                          >\n                            Add\n                          </Button>\n                        </Grid>\n                      </Grid>\n                    </Paper>\n                  </Collapse>\n                </Grid>\n\n                <Grid item xs={12}>\n                  <Collapse in={config.validation.enabled}>\n                    <Paper variant=\"outlined\" sx={{ p: 2 }}>\n                      <Typography variant=\"subtitle1\" gutterBottom>\n                        JSON Schema Validation\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n                        Provide a JSON Schema to validate the structure and data types of incoming webhooks.\n                      </Typography>\n\n                      <Box>\n                        <TextField\n                          fullWidth\n                          multiline\n                          rows={10}\n                          label=\"JSON Schema\"\n                          value={config.validation.schema}\n                          onChange={(e) => handleValidationChange('schema', e.target.value)}\n                          disabled={disabled || !config.validation.enabled}\n                          placeholder={`{\n  \"type\": \"object\",\n  \"required\": [\"data\"],\n  \"properties\": {\n    \"data\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"id\": { \"type\": \"string\" },\n        \"type\": { \"type\": \"string\" }\n      }\n    }\n  }\n}`}\n                          sx={{ fontFamily: 'monospace', mb: 2 }}\n                          error={(() => {\n                            try {\n                              if (!config.validation.schema) return false;\n                              JSON.parse(config.validation.schema);\n                              return false;\n                            } catch (e) {\n                              return true;\n                            }\n                          })()}\n                          helperText={(() => {\n                            try {\n                              if (!config.validation.schema) return \"Enter a JSON Schema to validate webhook payloads\";\n                              JSON.parse(config.validation.schema);\n                              return \"Valid JSON Schema\";\n                            } catch (e) {\n                              return `Invalid JSON: ${e.message}`;\n                            }\n                          })()}\n                        />\n                        \n                        <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 2 }}>\n                          <Button\n                            variant=\"outlined\"\n                            onClick={() => {\n                              handleValidationChange('schema', `{\n  \"type\": \"object\",\n  \"required\": [\"data\"],\n  \"properties\": {\n    \"data\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"id\": { \"type\": \"string\" },\n        \"type\": { \"type\": \"string\" },\n        \"attributes\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"name\": { \"type\": \"string\" },\n            \"created_at\": { \"type\": \"string\", \"format\": \"date-time\" }\n          }\n        }\n      },\n      \"required\": [\"id\", \"type\"]\n    },\n    \"meta\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"request_id\": { \"type\": \"string\" }\n      }\n    }\n  }\n}`);\n                            }}\n                            disabled={disabled || !config.validation.enabled}\n                            startIcon={<AddIcon />}\n                          >\n                            Load Example Schema\n                          </Button>\n                          \n                          <Button\n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            onClick={() => handleValidationChange('schema', '')}\n                            disabled={disabled || !config.validation.enabled || !config.validation.schema}\n                            startIcon={<CloseIcon />}\n                          >\n                            Clear Schema\n                          </Button>\n                        </Box>\n                        \n                        <Divider sx={{ my: 3 }} />\n                        \n                        <Typography variant=\"subtitle1\" gutterBottom>\n                          Schema Validation Options\n                        </Typography>\n                        \n                        <Grid container spacing={2}>\n                          <Grid item xs={12} sm={6}>\n                            <FormControlLabel\n                              control={\n                                <Switch\n                                  checked={config.validation.strictMode}\n                                  onChange={(e) => handleValidationChange('strictMode', e.target.checked)}\n                                  disabled={disabled || !config.validation.enabled}\n                                />\n                              }\n                              label=\"Strict Mode\"\n                            />\n                            <Typography variant=\"caption\" display=\"block\" color=\"text.secondary\">\n                              Reject payloads with additional properties not in schema\n                            </Typography>\n                          </Grid>\n                          \n                          <Grid item xs={12} sm={6}>\n                            <FormControlLabel\n                              control={\n                                <Switch\n                                  checked={config.validation.failOnError}\n                                  onChange={(e) => handleValidationChange('failOnError', e.target.checked)}\n                                  disabled={disabled || !config.validation.enabled}\n                                />\n                              }\n                              label=\"Fail on Error\"\n                            />\n                            <Typography variant=\"caption\" display=\"block\" color=\"text.secondary\">\n                              Reject webhook completely if validation fails\n                            </Typography>\n                          </Grid>\n                        </Grid>\n                      </Box>\n                    </Paper>\n                  </Collapse>\n                </Grid>\n              </Grid>\n            </Box>\n\n            {/* Advanced Tab */}\n            <Box sx={{ display: activeTab === 3 ? 'block' : 'none' }}>\n              <Grid container spacing={3}>\n                <Grid item xs={12}>\n                  <Paper variant=\"outlined\" sx={{ p: 2 }}>\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n                      <Typography variant=\"h6\">\n                        Rate Limiting\n                      </Typography>\n                      <FormControlLabel\n                        control={\n                          <Switch\n                            checked={config.rateLimit.enabled}\n                            onChange={(e) => handleRateLimitChange('enabled', e.target.checked)}\n                            disabled={disabled}\n                          />\n                        }\n                        label=\"Enable Rate Limiting\"\n                      />\n                    </Box>\n\n                    <Collapse in={config.rateLimit.enabled}>\n                      <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n                        Limit the number of webhook requests that can be processed within a time window.\n                      </Typography>\n                      <Grid container spacing={2}>\n                        <Grid item xs={12} sm={6}>\n                          <TextField\n                            fullWidth\n                            type=\"number\"\n                            label=\"Max Requests\"\n                            value={config.rateLimit.maxRequests}\n                            onChange={(e) => handleRateLimitChange('maxRequests', parseInt(e.target.value, 10) || 100)}\n                            disabled={disabled || !config.rateLimit.enabled}\n                            InputProps={{ inputProps: { min: 1 } }}\n                            helperText=\"Maximum number of requests allowed\"\n                          />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                          <TextField\n                            fullWidth\n                            type=\"number\"\n                            label=\"Time Window (seconds)\"\n                            value={config.rateLimit.timeWindow}\n                            onChange={(e) => handleRateLimitChange('timeWindow', parseInt(e.target.value, 10) || 60)}\n                            disabled={disabled || !config.rateLimit.enabled}\n                            InputProps={{ inputProps: { min: 1 } }}\n                            helperText=\"Time window in seconds\"\n                          />\n                        </Grid>\n                      </Grid>\n                    </Collapse>\n                  </Paper>\n                </Grid>\n              </Grid>\n            </Box>\n          </>\n        )}\n\n        {/* Error Message */}\n        {error && !testResults && (\n          <Alert \n            severity=\"error\" \n            sx={{ mt: 3 }}\n            onClose={() => setError(null)}\n          >\n            {error}\n          </Alert>\n        )}\n      </CardContent>\n\n      {/* Webhook Simulator Drawer */}\n      <Drawer\n        anchor=\"right\"\n        open={simulatorOpen}\n        onClose={() => setSimulatorOpen(false)}\n        sx={{\n          '& .MuiDrawer-paper': {\n            width: '500px',\n            maxWidth: '100%',\n            p: 2,\n          },\n        }}\n      >\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\n          <Typography variant=\"h6\">\n            Webhook Simulator\n          </Typography>\n          <IconButton onClick={() => setSimulatorOpen(false)}>\n            <CloseIcon />\n          </IconButton>\n        </Box>\n        \n        <Typography variant=\"body2\" paragraph>\n          Generate webhook payloads based on common event types or create custom events.\n          Simulated webhooks help test your endpoint's handling of different scenarios.\n        </Typography>\n        \n        <Box sx={{ mb: 3 }}>\n          <Typography variant=\"subtitle2\" gutterBottom>\n            Event Type\n          </Typography>\n          <Select\n            fullWidth\n            value={simulationOptions.eventType}\n            onChange={(e) => setSimulationOptions(prev => ({ ...prev, eventType: e.target.value }))}\n            sx={{ mb: 2 }}\n          >\n            <MenuItem value=\"order.created\">Order Created</MenuItem>\n            <MenuItem value=\"user.registered\">User Registered</MenuItem>\n            <MenuItem value=\"payment.succeeded\">Payment Succeeded</MenuItem>\n            <MenuItem value=\"custom.event\">Custom Event</MenuItem>\n          </Select>\n        </Box>\n        \n        <Box sx={{ mb: 3 }}>\n          <Typography variant=\"subtitle2\" gutterBottom>\n            Simulation Options\n          </Typography>\n          \n          <FormControlLabel\n            control={\n              <Switch\n                checked={simulationOptions.randomizeData}\n                onChange={(e) => setSimulationOptions(prev => ({ ...prev, randomizeData: e.target.checked }))}\n              />\n            }\n            label=\"Randomize data values\"\n          />\n          \n          <FormControlLabel\n            control={\n              <Switch\n                checked={simulationOptions.simulateError}\n                onChange={(e) => setSimulationOptions(prev => ({ ...prev, simulateError: e.target.checked }))}\n              />\n            }\n            label=\"Simulate validation errors\"\n          />\n          \n          {simulationOptions.simulateError && (\n            <Box sx={{ ml: 4, mt: 1, mb: 2 }}>\n              <Typography variant=\"body2\" gutterBottom>\n                Error rate: {simulationOptions.errorRate}%\n              </Typography>\n              <Slider\n                value={simulationOptions.errorRate}\n                onChange={(e, newValue) => setSimulationOptions(prev => ({ ...prev, errorRate: newValue }))}\n                min={0}\n                max={100}\n                step={5}\n                valueLabelDisplay=\"auto\"\n                valueLabelFormat={(value) => `${value}%`}\n              />\n            </Box>\n          )}\n          \n          <Box sx={{ mt: 2 }}>\n            <Typography variant=\"body2\" gutterBottom>\n              Request delay: {simulationOptions.delayMs}ms\n            </Typography>\n            <Slider\n              value={simulationOptions.delayMs}\n              onChange={(e, newValue) => setSimulationOptions(prev => ({ ...prev, delayMs: newValue }))}\n              min={0}\n              max={3000}\n              step={100}\n              valueLabelDisplay=\"auto\"\n              valueLabelFormat={(value) => `${value}ms`}\n            />\n          </Box>\n        </Box>\n        \n        <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 3 }}>\n          <Button\n            onClick={() => setSimulatorOpen(false)}\n          >\n            Cancel\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={startSimulator}\n            disabled={testingInProgress}\n          >\n            Start Simulation\n          </Button>\n        </Box>\n      </Drawer>\n\n      {/* Test Webhook Drawer */}\n      <Drawer\n        anchor=\"right\"\n        open={testRequestDrawerOpen}\n        onClose={() => setTestRequestDrawerOpen(false)}\n        sx={{\n          '& .MuiDrawer-paper': {\n            width: '500px',\n            maxWidth: '100%',\n            p: 2,\n          },\n        }}\n      >\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\n          <Typography variant=\"h6\">\n            Test Webhook\n          </Typography>\n          <IconButton onClick={() => setTestRequestDrawerOpen(false)}>\n            <CloseIcon />\n          </IconButton>\n        </Box>\n\n        <Typography variant=\"subtitle1\" gutterBottom>\n          Request Headers\n        </Typography>\n        <Paper variant=\"outlined\" sx={{ p: 2, mb: 3 }}>\n          {testRequest.headers.map((header, index) => (\n            <Grid container spacing={1} alignItems=\"center\" key={index} sx={{ mb: 1 }}>\n              <Grid item xs={5}>\n                <TextField\n                  fullWidth\n                  size=\"small\"\n                  label=\"Header\"\n                  value={header.key}\n                  onChange={(e) => handleUpdateTestHeader(index, 'key', e.target.value)}\n                />\n              </Grid>\n              <Grid item xs={6}>\n                <TextField\n                  fullWidth\n                  size=\"small\"\n                  label=\"Value\"\n                  value={header.value}\n                  onChange={(e) => handleUpdateTestHeader(index, 'value', e.target.value)}\n                />\n              </Grid>\n              <Grid item xs={1}>\n                <IconButton size=\"small\" onClick={() => handleRemoveTestHeader(index)}>\n                  <CloseIcon fontSize=\"small\" />\n                </IconButton>\n              </Grid>\n            </Grid>\n          ))}\n          <Button\n            startIcon={<AddIcon />}\n            onClick={() => handleAddTestHeader()}\n            size=\"small\"\n            sx={{ mt: 1 }}\n          >\n            Add Header\n          </Button>\n        </Paper>\n\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n          <Typography variant=\"subtitle1\">\n            Request Payload\n          </Typography>\n          <Box>\n            <IconButton\n              size=\"small\"\n              onClick={(e) => setTemplatesMenuAnchor(e.currentTarget)}\n              sx={{ mr: 1 }}\n            >\n              <AddIcon />\n            </IconButton>\n            <IconButton\n              size=\"small\"\n              onClick={(e) => setHistoryMenuAnchor(e.currentTarget)}\n              disabled={requestHistory.length === 0}\n            >\n              <HistoryIcon />\n            </IconButton>\n            \n            {/* Templates Menu */}\n            <Menu\n              anchorEl={templatesMenuAnchor}\n              open={Boolean(templatesMenuAnchor)}\n              onClose={() => setTemplatesMenuAnchor(null)}\n            >\n              <MenuItem disabled>\n                <Typography variant=\"subtitle2\">Request Templates</Typography>\n              </MenuItem>\n              <Divider />\n              {templates.map((template) => (\n                <MenuItem key={template.id} onClick={() => loadTemplateItem(template)}>\n                  <ListItemIcon>\n                    <AddIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText \n                    primary={template.name} \n                    secondary={`Headers: ${template.headers.length}, Payload: ${template.payload.substring(0, 30)}...`}\n                  />\n                </MenuItem>\n              ))}\n            </Menu>\n            \n            {/* History Menu */}\n            <Menu\n              anchorEl={historyMenuAnchor}\n              open={Boolean(historyMenuAnchor)}\n              onClose={() => setHistoryMenuAnchor(null)}\n            >\n              <MenuItem disabled>\n                <Typography variant=\"subtitle2\">Recent Requests</Typography>\n              </MenuItem>\n              <Divider />\n              {requestHistory.map((item, index) => (\n                <MenuItem key={item.id} onClick={() => loadHistoryItem(item)}>\n                  <ListItemIcon>\n                    <SendIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText \n                    primary={new Date(item.timestamp).toLocaleTimeString()} \n                    secondary={`Payload: ${JSON.stringify(item.payload).substring(0, 30)}...`}\n                  />\n                </MenuItem>\n              ))}\n            </Menu>\n          </Box>\n        </Box>\n\n        <TextField\n          fullWidth\n          multiline\n          rows={10}\n          value={testRequest.payload}\n          onChange={handleTestPayloadChange}\n          sx={{ mb: 3, fontFamily: 'monospace' }}\n          error={(() => {\n            try {\n              JSON.parse(testRequest.payload);\n              return false;\n            } catch (e) {\n              return true;\n            }\n          })()}\n          helperText={(() => {\n            try {\n              JSON.parse(testRequest.payload);\n              return null;\n            } catch (e) {\n              return e.message;\n            }\n          })()}\n        />\n\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <Button\n            onClick={() => setTestRequestDrawerOpen(false)}\n          >\n            Cancel\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            startIcon={testingInProgress ? <CircularProgress size={20} /> : <SendIcon />}\n            onClick={sendTestRequest}\n            disabled={testingInProgress || (() => {\n              try {\n                JSON.parse(testRequest.payload);\n                return false;\n              } catch (e) {\n                return true;\n              }\n            })()}\n          >\n            Send Request\n          </Button>\n        </Box>\n\n        {/* Test Results */}\n        {testResults && (\n          <Paper sx={{ mt: 3, p: 2 }}>\n            <Alert \n              severity={testResults.success ? 'success' : 'error'}\n              sx={{ mb: 2 }}\n            >\n              <AlertTitle>{testResults.success ? 'Webhook Test Successful' : 'Webhook Test Failed'}</AlertTitle>\n              {testResults.message}\n            </Alert>\n\n            <Box sx={{ mb: 3 }}>\n              <Tabs \n                value={testResultsTabIndex} \n                onChange={(e, newValue) => setTestResultsTabIndex(newValue)}\n                variant=\"scrollable\" \n                scrollButtons=\"auto\"\n                sx={{ borderBottom: 1, borderColor: 'divider', mb: 2 }}\n              >\n                <Tab icon={<SendIcon fontSize=\"small\" />} label=\"Request Inspector\" iconPosition=\"start\" />\n                <Tab icon={<CheckIcon fontSize=\"small\" />} label=\"Response Details\" iconPosition=\"start\" />\n                <Tab icon={<CodeIcon fontSize=\"small\" />} label=\"Validation Results\" iconPosition=\"start\" />\n                <Tab icon={<TimelineIcon fontSize=\"small\" />} label=\"Timeline\" iconPosition=\"start\" />\n                <Tab icon={<SpeedIcon fontSize=\"small\" />} label=\"Performance\" iconPosition=\"start\" />\n              </Tabs>\n              \n              {/* Request Inspector Tab */}\n              <Box sx={{ display: testResultsTabIndex === 0 ? 'block' : 'none' }}>\n                <Typography variant=\"subtitle2\" gutterBottom sx={{ mt: 2 }}>Request Headers</Typography>\n                <Paper variant=\"outlined\" sx={{ p: 1, mb: 2, maxHeight: 200, overflow: 'auto' }}>\n                  <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n                    <thead>\n                      <tr>\n                        <th style={{ textAlign: 'left', padding: '8px', borderBottom: '1px solid rgba(224, 224, 224, 1)' }}>Header</th>\n                        <th style={{ textAlign: 'left', padding: '8px', borderBottom: '1px solid rgba(224, 224, 224, 1)' }}>Value</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {testRequest.headers.map((header, index) => (\n                        <tr key={index}>\n                          <td style={{ padding: '8px', borderBottom: '1px solid rgba(224, 224, 224, 1)' }}>{header.key}</td>\n                          <td style={{ padding: '8px', borderBottom: '1px solid rgba(224, 224, 224, 1)' }}>{header.value}</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </Paper>\n                \n                <Typography variant=\"subtitle2\" gutterBottom>Request Payload</Typography>\n                <Paper variant=\"outlined\" sx={{ p: 2, mb: 2, maxHeight: 200, overflow: 'auto' }}>\n                  <Box component=\"pre\" sx={{ m: 0, fontFamily: 'monospace', fontSize: '0.85rem' }}>\n                    {(() => {\n                      try {\n                        return JSON.stringify(JSON.parse(testRequest.payload), null, 2);\n                      } catch (e) {\n                        return testRequest.payload;\n                      }\n                    })()}\n                  </Box>\n                </Paper>\n              </Box>\n              \n              {/* Response Details Tab */}\n              <Box sx={{ display: testResultsTabIndex === 1 ? 'block' : 'none' }}>\n                <Typography variant=\"subtitle2\" gutterBottom>Processing Details</Typography>\n                <List dense>\n                <ListItem divider>\n                  <ListItemText \n                    primary=\"Received At\"\n                    secondary={new Date(testResults.receivedAt).toLocaleString()}\n                  />\n                </ListItem>\n                <ListItem divider>\n                  <ListItemText \n                    primary=\"Processing Time\"\n                    secondary={`${testResults.processingTime}ms`}\n                  />\n                </ListItem>\n                <ListItem divider>\n                  <ListItemText \n                    primary=\"Security Checks\"\n                    secondary={\n                      <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                        {testResults.details.securityChecks === 'Passed' ? (\n                          <CheckIcon fontSize=\"small\" color=\"success\" sx={{ mr: 1 }} />\n                        ) : testResults.details.securityChecks === 'Not configured' ? (\n                          <WarningIcon fontSize=\"small\" color=\"warning\" sx={{ mr: 1 }} />\n                        ) : (\n                          <CloseIcon fontSize=\"small\" color=\"error\" sx={{ mr: 1 }} />\n                        )}\n                        {testResults.details.securityChecks}\n                      </Box>\n                    }\n                  />\n                </ListItem>\n                <ListItem divider>\n                  <ListItemText \n                    primary=\"Validation Checks\"\n                    secondary={\n                      <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                        {testResults.details.validationChecks === 'Passed' ? (\n                          <CheckIcon fontSize=\"small\" color=\"success\" sx={{ mr: 1 }} />\n                        ) : testResults.details.validationChecks === 'Not enabled' ? (\n                          <WarningIcon fontSize=\"small\" color=\"warning\" sx={{ mr: 1 }} />\n                        ) : (\n                          <CloseIcon fontSize=\"small\" color=\"error\" sx={{ mr: 1 }} />\n                        )}\n                        {testResults.details.validationChecks}\n                      </Box>\n                    }\n                  />\n                </ListItem>\n                <ListItem>\n                  <ListItemText \n                    primary=\"Rate Limiting\"\n                    secondary={\n                      <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                        {testResults.details.rateLimiting === 'Active' ? (\n                          <CheckIcon fontSize=\"small\" color=\"success\" sx={{ mr: 1 }} />\n                        ) : (\n                          <WarningIcon fontSize=\"small\" color=\"warning\" sx={{ mr: 1 }} />\n                        )}\n                        {testResults.details.rateLimiting}\n                      </Box>\n                    }\n                  />\n                </ListItem>\n                </List>\n              </Box>\n              \n              {/* Validation Results Tab */}\n              <Box sx={{ display: testResultsTabIndex === 2 ? 'block' : 'none', mt: 3 }}>\n                {testResults.validationDetails ? (\n                  <>\n                    <Typography variant=\"subtitle2\" gutterBottom>Schema Validation Results</Typography>\n                    <Paper \n                      variant=\"outlined\" \n                      sx={{ \n                        p: 2, \n                        backgroundColor: testResults.validationDetails.valid \n                          ? 'success.lightest' \n                          : 'error.lightest',\n                        maxHeight: 300,\n                        overflow: 'auto'\n                      }}\n                    >\n                      {testResults.validationDetails.valid ? (\n                        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                          <CheckIcon color=\"success\" sx={{ mr: 1 }} />\n                          <Typography>Payload passed validation against the JSON Schema</Typography>\n                        </Box>\n                      ) : (\n                        <>\n                          <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                            <CloseIcon color=\"error\" sx={{ mr: 1 }} />\n                            <Typography>Payload failed validation against the JSON Schema</Typography>\n                          </Box>\n                          \n                          <Typography variant=\"subtitle2\" gutterBottom>Validation Errors:</Typography>\n                          <Box component=\"pre\" sx={{ m: 0, fontFamily: 'monospace', fontSize: '0.85rem' }}>\n                            {JSON.stringify(testResults.validationDetails.errors, null, 2)}\n                          </Box>\n                        </>\n                      )}\n                    </Paper>\n                  </>\n                ) : (\n                  <Alert severity=\"info\" sx={{ mb: 2 }}>\n                    <AlertTitle>Validation Not Configured</AlertTitle>\n                    Enable schema validation in the Validation tab to see validation results.\n                  </Alert>\n                )}\n              </Box>\n              \n              {/* Timeline Tab */}\n              <Box sx={{ display: testResultsTabIndex === 3 ? 'block' : 'none', mt: 3 }}>\n                <Typography variant=\"subtitle2\" gutterBottom>Webhook Processing Timeline</Typography>\n                \n                {testResults.timeline && (\n                  <Paper variant=\"outlined\" sx={{ p: 2, mb: 2 }}>\n                    <Box sx={{ position: 'relative', height: 'auto', minHeight: '200px', mt: 3, mb: 2 }}>\n                      {/* Timeline visualization */}\n                      <Box sx={{ \n                        position: 'relative', \n                        height: '6px', \n                        bgcolor: 'grey.200', \n                        borderRadius: '3px',\n                        mb: 5,\n                        mt: 3\n                      }}>\n                        {testResults.timeline.map((event, index) => {\n                          // Calculate position as percentage of total time\n                          const startTime = new Date(testResults.timeline[0].timestamp).getTime();\n                          const endTime = new Date(testResults.timeline[testResults.timeline.length - 1].timestamp).getTime();\n                          const totalDuration = endTime - startTime;\n                          const eventTime = new Date(event.timestamp).getTime();\n                          const position = ((eventTime - startTime) / totalDuration) * 100;\n                          \n                          return (\n                            <Box \n                              key={index}\n                              sx={{ \n                                position: 'absolute',\n                                left: `${position}%`,\n                                top: 0,\n                                transform: 'translate(-50%, -50%)',\n                                width: '16px',\n                                height: '16px',\n                                borderRadius: '50%',\n                                bgcolor: event.stage === 'completed' ? 'success.main' : \n                                         event.stage === 'error' ? 'error.main' : 'primary.main',\n                                border: '2px solid',\n                                borderColor: 'background.paper',\n                                zIndex: 2,\n                                '&:hover': {\n                                  boxShadow: '0 0 0 4px rgba(25, 118, 210, 0.2)',\n                                },\n                              }}\n                            />\n                          );\n                        })}\n                      </Box>\n                      \n                      {/* Event labels */}\n                      {testResults.timeline.map((event, index) => {\n                        // Calculate position as percentage of total time\n                        const startTime = new Date(testResults.timeline[0].timestamp).getTime();\n                        const endTime = new Date(testResults.timeline[testResults.timeline.length - 1].timestamp).getTime();\n                        const totalDuration = endTime - startTime;\n                        const eventTime = new Date(event.timestamp).getTime();\n                        const position = ((eventTime - startTime) / totalDuration) * 100;\n                        \n                        // Alternate labels above and below the timeline\n                        const isAbove = index % 2 === 0;\n                        \n                        return (\n                          <Box \n                            key={`label-${index}`}\n                            sx={{ \n                              position: 'absolute',\n                              left: `${position}%`,\n                              top: isAbove ? '-20px' : '20px',\n                              transform: 'translateX(-50%)',\n                              textAlign: 'center',\n                              width: '120px',\n                            }}\n                          >\n                            <Typography variant=\"caption\" sx={{ display: 'block', fontWeight: 'bold' }}>\n                              {event.stage.charAt(0).toUpperCase() + event.stage.slice(1)}\n                            </Typography>\n                            <Typography variant=\"caption\" sx={{ display: 'block' }}>\n                              {`+${event.durationMs}ms`}\n                            </Typography>\n                          </Box>\n                        );\n                      })}\n                    </Box>\n                    \n                    {/* Timeline events list */}\n                    <Typography variant=\"subtitle2\" gutterBottom sx={{ mt: 4 }}>Event Details</Typography>\n                    <List dense>\n                      {testResults.timeline.map((event, index) => (\n                        <ListItem key={index} divider={index < testResults.timeline.length - 1}>\n                          <ListItemText\n                            primary={\n                              <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\n                                <Typography variant=\"body2\" sx={{ fontWeight: 'bold' }}>\n                                  {event.stage.charAt(0).toUpperCase() + event.stage.slice(1)}\n                                </Typography>\n                                <Typography variant=\"body2\">\n                                  {`+${event.durationMs}ms`}\n                                </Typography>\n                              </Box>\n                            }\n                            secondary={event.details}\n                          />\n                        </ListItem>\n                      ))}\n                    </List>\n                  </Paper>\n                )}\n              </Box>\n              \n              {/* Performance Tab */}\n              <Box sx={{ display: testResultsTabIndex === 4 ? 'block' : 'none', mt: 3 }}>\n                <Typography variant=\"subtitle2\" gutterBottom>Performance Analysis</Typography>\n                \n                {testResults.performanceMetrics && (\n                  <Paper variant=\"outlined\" sx={{ p: 2, mb: 2 }}>\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n                      <Typography variant=\"body1\" sx={{ fontWeight: 'bold' }}>\n                        Total Processing Time\n                      </Typography>\n                      <Typography variant=\"body1\">\n                        {testResults.performanceMetrics.totalTime}ms\n                      </Typography>\n                    </Box>\n                    \n                    <Divider sx={{ mb: 2 }} />\n                    \n                    <Typography variant=\"subtitle2\" gutterBottom>Processing Breakdown</Typography>\n                    \n                    {/* Performance breakdown bars */}\n                    {testResults.performanceMetrics.breakdowns.map((breakdown, index) => (\n                      <Box key={index} sx={{ mb: 2 }}>\n                        <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 0.5 }}>\n                          <Typography variant=\"body2\">{breakdown.stage}</Typography>\n                          <Typography variant=\"body2\">\n                            {breakdown.timeMs}ms ({breakdown.percentage}%)\n                          </Typography>\n                        </Box>\n                        <Box sx={{ width: '100%', bgcolor: 'grey.200', height: '8px', borderRadius: '4px', overflow: 'hidden' }}>\n                          <Box \n                            sx={{ \n                              width: `${breakdown.percentage}%`, \n                              bgcolor: index === 0 ? 'info.main' : \n                                      index === 1 ? 'success.main' : 'warning.main', \n                              height: '100%' \n                            }} \n                          />\n                        </Box>\n                      </Box>\n                    ))}\n                    \n                    {/* Performance bottlenecks */}\n                    {testResults.performanceMetrics.bottlenecks.length > 0 && (\n                      <Box sx={{ mt: 3 }}>\n                        <Typography variant=\"subtitle2\" gutterBottom>Potential Bottlenecks</Typography>\n                        <List dense>\n                          {testResults.performanceMetrics.bottlenecks.map((bottleneck, index) => (\n                            <ListItem key={index} sx={{ pl: 0 }}>\n                              <ListItemIcon sx={{ minWidth: '30px' }}>\n                                <WarningIcon color=\"warning\" fontSize=\"small\" />\n                              </ListItemIcon>\n                              <ListItemText primary={bottleneck} />\n                            </ListItem>\n                          ))}\n                        </List>\n                        \n                        <Alert severity=\"info\" sx={{ mt: 2 }}>\n                          <AlertTitle>Performance Optimization Tips</AlertTitle>\n                          <Typography variant=\"body2\" gutterBottom>\n                            Consider the following to improve webhook processing performance:\n                          </Typography>\n                          <ul style={{ margin: 0, paddingLeft: '20px' }}>\n                            <li>Simplify the schema validation for faster payload validation</li>\n                            <li>Use lightweight security methods for non-sensitive data</li>\n                            <li>Implement asynchronous processing for complex transformations</li>\n                          </ul>\n                        </Alert>\n                      </Box>\n                    )}\n                  </Paper>\n                )}\n              </Box>\n            </Box>\n            \n            <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 3 }}>\n              <Box>\n                <Button\n                  variant=\"outlined\"\n                  startIcon={<HistoryIcon />}\n                  onClick={() => setHistoryMenuAnchor(document.getElementById('requestHistoryBtn'))}\n                  sx={{ mr: 1 }}\n                >\n                  View History\n                </Button>\n                <Button\n                  variant=\"outlined\"\n                  onClick={saveAsTemplate}\n                  startIcon={<SaveTemplateIcon />}\n                >\n                  Save as Template\n                </Button>\n              </Box>\n              \n              <Button\n                variant=\"contained\"\n                startIcon={<CloudDownloadIcon />}\n                onClick={() => {\n                  // Create a blob with the test results\n                  const data = JSON.stringify({\n                    request: {\n                      headers: testRequest.headers,\n                      payload: (() => {\n                        try {\n                          return JSON.parse(testRequest.payload);\n                        } catch (e) {\n                          return testRequest.payload;\n                        }\n                      })()\n                    },\n                    response: testResults,\n                    timestamp: new Date().toISOString()\n                  }, null, 2);\n                  \n                  const blob = new Blob([data], { type: 'application/json' });\n                  const url = URL.createObjectURL(blob);\n                  \n                  // Create a link and click it to trigger the download\n                  const a = document.createElement('a');\n                  a.href = url;\n                  a.download = `webhook-test-${new Date().toISOString().replace(/:/g, '-')}.json`;\n                  document.body.appendChild(a);\n                  a.click();\n                  \n                  // Clean up\n                  document.body.removeChild(a);\n                  URL.revokeObjectURL(url);\n                }}\n              >\n                Export Results\n              </Button>\n            </Box>\n          </Paper>\n        )}\n      </Drawer>\n    </Card>\n  );\n};\n\nWebhookConfiguration.propTypes = {\n  /**\n   * Configuration value\n   */\n  value: PropTypes.object,\n  \n  /**\n   * Callback when configuration changes\n   */\n  onChange: PropTypes.func,\n  \n  /**\n   * Callback to test the webhook\n   */\n  onTest: PropTypes.func,\n  \n  /**\n   * Whether the component is disabled\n   */\n  disabled: PropTypes.bool,\n};\n\nexport default WebhookConfiguration;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}